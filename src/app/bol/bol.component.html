
    <!-- <ngx-loading [show]="loading"></ngx-loading> -->
    <ngx-loading [show]="showLoader"></ngx-loading>
    <div *ngIf ="!showLoader">
        <!--Top-Bar-->
        <div class="header">
          <nav class="navbar navbar-default">
            <app-header></app-header>
            <div class="clearfix"></div>
          </nav>
        </div>
        <!--//Top-Bar-->
        <form [formGroup]="billOfLading"  autocomplete="off">
          <div class="container-fluid">
            <div class="row">
              <app-sidemenu></app-sidemenu>
              <div class="col-md-10 main_cont" *ngIf="showErrorResponseFedex">
                <div class="col-md-10 col-md-push-1 div-border" style="font-size:14px; color: #FF0000">
                  <h4 class="sub-head">Error</h4>
                  <label id="errorMessage">{{responseData.result.Notifications[0].Message}}</label>
                  <div class="row">
                    <div class="col-md-4 col-md-push-2 green-button text-center">
                      <button  (click)="back()" id="backButton">
                        <i class="fa fa-arrow-circle-right" aria-hidden="true" style="margin-right:10px;"></i>BACK</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-10 main_cont" *ngIf="showErrorForFedex">
                <div class="col-md-10 col-md-push-1 div-border" style="font-size:14px; color: #FF0000">
                  <h4 class="sub-head">Error</h4>
                  <label id="noRespnse">No Response</label>
                  <div class="row">
                    <div class="col-md-4 col-md-push-2 green-button text-center">
                      <button (click)="back()" id="backButton1">
                        <i class="fa fa-arrow-circle-right" aria-hidden="true" style="margin-right:10px;"></i>BACK</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-10 main_cont" *ngIf="showErrorResponseYrc">
                <div class="col-md-10 col-md-push-1 div-border" style="font-size:14px; color: #FF0000">
                  <h4 class="sub-head">Error</h4>
                  <label id="errorStatusMessage">{{responseData.result.submitBOLResponse.statusMessages.item.$value}}</label>
                  <div class="row">
                    <div class="col-md-4 col-md-push-2 green-button text-center">
                      <button (click)="back()" id="backButton2">
                        <i class="fa fa-arrow-circle-right" aria-hidden="true" style="margin-right:10px;"></i>BACK</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-10 main_cont" *ngIf="showCommonError">
                <div class="col-md-10 col-md-push-1 div-border" style="font-size:14px; color: #FF0000">
                  <h4 class="sub-head">Error</h4>
                  <label id="internalServerError">Internal Server Error</label>
                  <div class="row">
                    <div class="col-md-4 col-md-push-2 green-button text-center">
                      <button (click)="back()" id="backButton3">
                        <i class="fa fa-arrow-circle-right" aria-hidden="true" style="margin-right:10px;"></i>BACK</button>
                    </div>
                  </div>
                </div>
              </div>
              <!-- <div class="col-md-10 main_cont" *ngIf="showyrcArError"> -->
                  <app-dialog [visible]="showyrcArError">
                    <div tabindex="-1" role="dialog">
                      <div role="document" style="background: #134c3e !important; color: #FFFFFF !important; margin-top:-5px">
                        <div style="font-size:14px;">
                          <h4 class="sub-head1">Error</h4>
                          <label style=" color: #FFFFFF !important;padding:7px 0px 13px 13px;" id="yrcErrorMessage">{{yrcErrorMessage}}</label>
                          <!-- <div class="row">
                                      <div class="col-md-4 col-md-push-2 green-button text-center"> -->
                          <!-- <button (click)="back()" style="padding:5px;">
                                          <i class="fa fa-arrow-circle-right" aria-hidden="true" style="margin-right:10px;"></i>BACK</button> -->
                          <!-- </div>
                                    </div> -->
                        </div>
                      </div>
                    </div>
                  </app-dialog>
              <!-- </div> -->
              <!-- <div class="col-md-10 main_cont" *ngIf="showfedexArError"> -->
                  <app-dialog [visible]="showfedexArError">
                    <div tabindex="-1" role="dialog">
                      <div role="document" style="background: #134c3e !important; color: #FFFFFF !important;margin-top:-5px">
                        <div style="font-size:14px;">
                          <h4 class="sub-head1">Error</h4>
                          <label style=" color: #FFFFFF !important;padding:7px 0px 13px 13px;" id="fedexArError">{{fedexArError}}</label>
                          <!-- <div class="row"> -->
                          <!-- <div class="col-md-4 col-md-push-2 green-button text-center"> -->
                          <!-- <button (click)="back()" style="padding:5px;">
                                          <i class="fa fa-arrow-circle-right" aria-hidden="true" style="margin-right:10px;"></i>BACK</button> -->
                          <!-- </div> -->
                          <!-- </div> -->
                        </div>
                      </div>
                    </div>
                  </app-dialog>
              <!-- </div>
              <div class="col-md-10 main_cont" *ngIf="showMessageForFedexAr"> -->
                  <app-dialog [visible]="showMessageForFedexAr">
                    <div tabindex="-1" role="dialog">
                      <div role="document" style="background: #134c3e !important; color: #FFFFFF !important;margin-top:-5px">
                        <div style="font-size:14px;">
                          <h4 class="sub-head1">Error</h4>
                          <label style=" color: #FFFFFF !important;padding:7px 0px 13px 13px;" id="showMessageFedexAR">{{showMessageFedexAR}}</label>
                          <!-- <div class="row"> -->
                            <!-- <div class="col-md-4 col-md-push-2 green-button text-center"> -->
                            <!-- <button (click)="back()" style="padding:5px;">
                                          <i class="fa fa-arrow-circle-right" aria-hidden="true" style="margin-right:10px;"></i>BACK</button> -->
                            <!-- </div> -->
                          <!-- </div> -->
                        </div>
                      </div>
                    </div>
                  </app-dialog>
              <!-- </div>
              <div class="col-md-10 main_cont" *ngIf="showReddawayMessage"> -->
                  <app-dialog [visible]="showReddawayMessage">
                    <div tabindex="-1" role="dialog">
                      <div role="document" style="background: #134c3e !important; color: #FFFFFF !important;margin-top:-5px">
                        <div style="font-size:14px;">
                          <h4 class="sub-head1">Error</h4>
                          <label style=" color: #FFFFFF !important;padding:7px 0px 13px 13px;" id="reddawayMessage">{{reddawayMessage}}</label>
                          <!-- <div class="row">
                                      <div class="col-md-4 col-md-push-2 green-button text-center"> -->
                          <!-- <button (click)="back()" style="padding:5px;">
                                          <i class="fa fa-arrow-circle-right" aria-hidden="true" style="margin-right:10px;"></i>BACK</button> -->
                        </div>
                      </div>
                    </div>
                  </app-dialog>
              <!-- </div> -->
              <div class="col-md-10 main_cont" *ngIf="showForm">
                <h2 class="main-head">Bill of Lading / LTL Rate</h2>
                <h4 *ngIf="showCompanyname" style="text-align: -webkit-center; padding-top: 1px; margin-bottom: -20px; font-size:17px; font-weight: 600; color: #134c3e;">{{companyName}}</h4>
                <div class="row">
                  <div class="col-md-12">
                  <!--   <div class="row">
                        <div style = "padding: 10px 25px" class= "col-md-12 col-sm-12 ">
                            <div class ="div-border">
                        <div class="row">
                            <div class="col-md-6" >
                                <label>BOL Creation Date</label><span style="color:#FF0000">*</span>
                                <input class="form-control" placeholder="" ngModel bsDatepicker  [minDate]="minDate" (keydown)="eventHandler($event)"
                                       [bsConfig]="{ showWeekNumbers: false }" [bsValue]="bolShipmentNewDate" date-only="true" [(ngModel)]="bolShipmentNewDate"
                                       formControlName="shipTimestamp" [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }" (click)="shipmentDate(billOfLading.controls.shipTimestamp.value)"
                                        autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f.shipTimestamp.errors }" readonly>
                                       <div *ngIf="submitted && f.shipTimestamp.errors " class="invalid-feedback">
                                        <div *ngIf="f.shipTimestamp.errors.required" style="color: #FF0000">Date is required</div>
                                    </div>   
                                      </div>
                                      <div class="col-md-6">
                                          <label>Existing Quote Number</label>
                                          <div class="input-group">
                                              <input *ngIf="disableQuoteNumber" type="text" class="form-control" aria-label="Text input with dropdown button" (keydown)="eventHandler($event)"
                                              ngPattern="/[0-9]/" onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" maxlength="8" formControlName="quoteNumber"
                                               readonly >
                                              <input *ngIf="!disableQuoteNumber" type="text" class="form-control" aria-label="Text input with dropdown button" (keydown)="eventHandler($event)"
                                              ngPattern="/[0-9]/" onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" maxlength="8" formControlName="quoteNumber">
                                            <div class="input-group-btn" autocomplete="nope" >
                                              <button class="btn btn-outline-secondary" type="button"
                                                      [disabled]="billOfLading.controls['quoteNumber'].invalid"
                                                      (click)="existingQuote(billOfLading.value)"><i class="fa fa-arrow-circle-right"></i> &nbsp;<i class="fa fa-times-circle" (click)="clearAllData()"></i>
                                              </button>
                                            </div>        
                                          </div>
                                        </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                          
                                <label>BOL Reference Number</label>
                                <input type="text" class="form-control" placeholder="" minlength="2" maxlength="25" ngPattern="/[0-9]/" (keydown)="eventHandler($event)"
                                       onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')"
                                       formControlName="billOfReferenceNumber" autocomplete="nope">
                                       <app-error-message [control]="billOfLading.controls.billOfReferenceNumber"
                                       style="font-size: 13px;"></app-error-message>
                                      </div>
                              <div class="col-md-6">
                                <label>Bill of Lading Title</label><span style="color: #FF0000"></span>
                                <input type="text" class="form-control" placeholder="" minlength="2" maxlength="25" (keydown)="eventHandler($event)"
                                       formControlName="billOfLadingTitle" autocomplete="nope" >
                                <app-error-message [control]="billOfLading.controls.billOfLadingTitle"
                                                   style="font-size: 13px;"></app-error-message>
                              </div>
                        </div>
                        <div class="row text-center" *ngIf="existingQuoteErrorMsg" ><span class="text-center"
                          style="color: #FF0000; font-size: 12px">Quote doesn't exist</span></div>
                        <div class="row text-center" *ngIf="invalidQuoteMsg">
                            <span class="text-center" style="color: #FF0000; font-size:14px">Quote Number is not Valid for this Company</span>
                        </div>
                        <div class="row text-center" *ngIf="invalidQuoteCarrierMsg">
                            <span class="text-center" style="color: #FF0000; font-size:14px">Quote Number - Carrier is not Applicable for this Company</span>
                         </div>
                        </div>
                      </div>
                    </div> -->
                  
                    <div class="row" *ngIf="setFlagForNotExisting">
                        <div style = "padding: 10px 25px" class= "col-md-12 col-sm-12 ">
                            <div class ="div-border">
                          <h4 class="sub-head">Shipper Information<button class="leg" data-toggle="modal" data-target="#shipper-address-save-modal"
                                                                        [disabled] ="!billOfLading.controls['shipperCompanyName'].valid
                                                                        || !billOfLading.controls['shipperStreet1'].valid
                                                                        || !billOfLading.controls['shipperPostalCode'].valid
                                                                        || !billOfLading.controls['shipperCity'].valid
                                                                        || !billOfLading.controls['shipperState'].valid" (keydown)="eventHandler($event)">
                          <i class="fa fa-save" style="margin-right:5px"></i>Save Template</button></h4>
                        <div class="row">
                          <div class="col-md-4" form-group *ngIf="!showShipperName">
                            <div class="input-group">
                            <label id="shippererror">Shipper &nbsp;<span *ngIf="showErrorCustomer" style="color: Red">Please choose different customer</span></label><span
                            style="color: #FF0000; font-size: 14px;">*</span> 
                            <span *ngIf="submitted && f['shipperCompanyName'].errors"  class="tooltipDetail">
                                                     <span *ngIf="f['shipperCompanyName'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                                                   </span> 
                              <input type="text" class="form-control" id ="shipperFocusId" placeholder="e.g. John Mathew" (keydown)="eventHandler($event)"
                                     formControlName="shipperCompanyName" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['shipperCompanyName'].errors }" [typeahead]="shipperTemplate" typeaheadOptionField="templateName" (typeaheadOnSelect)="getShipper($event, 'shipper')" (typeaheadNoResults)="getshipperData($event)">
                            <div class="input-group-btn">
                              <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" style="margin-top: 22px" aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                              <div class="dropdown-menu" style="padding: 0px;height:170px;overflow: auto;width:500">
                                <table class="table table-bordered" style="margin-bottom: 0px;border:none">
                                  <div class="scrollit">
                                    <thead>
                                  <tr>
                                    <td>Template Name</td>
                                    <td>Company</td>
                                    <td>Zip/Post</td>
                                  </tr>
                                  </thead>
                                  <tbody>
                                  <tr *ngFor="let addressTemplates of shipperTemplate" class="noIbar" (click)="getAddressClickValues(addressTemplates.id, 'shipperid')">
                                    <td id="shipperTemplateName">{{addressTemplates?.templateName}}</td>
                                    <td id="shipperAddressName">{{addressTemplates?.companyName}}</td>
                                    <td id="shipperZip">{{addressTemplates?.zip}}</td>
                                  </tr>
                                  </tbody>
                                </div>
                                </table>
                              </div>
                            </div>
                            </div>
                          </div>
                          <div class="col-md-4" form-group *ngIf="showShipperName">
                            <div class="input-group">
                            <label>Shipper &nbsp;<span *ngIf="showErrorCustomer" style="color: Red">Please choose different customer</span></label><span
                            style="color: #FF0000; font-size:14px;">*</span>  <span *ngIf="submitted && f['shipperCompanyName'].errors"  class="tooltipDetail">
                                <span *ngIf="f['shipperCompanyName'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                              </span> 
                              <input type="text" class="form-control" placeholder="e.g. John Mathew" (keydown)="eventHandler($event)"
                                     formControlName="shipperCompanyName" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['shipperCompanyName'].errors }" >         
                            <div class="input-group-btn">
                              <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" style="margin-top: 22px" aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                              <div class="dropdown-menu" style="padding: 0px;height:170px;overflow: auto;width:500">
                                <table class="table table-bordered" style="margin-bottom: 0px;border:none">
                                  <div class="scrollit">
                                  <thead>
                                  <tr>
                                    <td>Template Name</td>
                                    <td>Company</td>
                                    <td>Zip/Post</td>
                                  </tr>
                                  </thead>
                                  <tbody>
                                  <tr *ngFor="let addressTemplates of shipperTemplate" class="noIbar" (click)="getAddressClickValues(addressTemplates.id, 'shipperid')">
                                    <td id="shipperTemplateName1">{{addressTemplates?.templateName}}</td>
                                    <td id="shipperCompanyName1">{{addressTemplates?.companyName}}</td>
                                    <td id="shipperZip1">{{addressTemplates?.zip}}</td>
                                  </tr>
                                  </tbody>
                                    <label *ngIf="shipperTemplatesPresent">No Templates Available</label>
                                  </div>
                                </table>
                              </div>
                            </div>
                            </div>
                          </div>
                          <div class="col-md-4 form-group">
                            <label>Contact Name</label>
                            <input type="text" class="form-control" placeholder="e.g. John Mathew" (keydown)="eventHandler($event)"
                                   formControlName="shipperContactName" autocomplete="nope" id="shipperContactName1" >
                          </div>
                          <div class="col-md-4 form-group">
                            <label>Phone</label><span style="color: #FF0000;font-size: 14px;">*</span>
                            <span *ngIf="submitted && f['shipperPhoneNumber'].errors"  class="tooltipDetail">
                                <span *ngIf="f['shipperPhoneNumber'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                              </span> 
                            <input type="text" class="form-control" id="shipperPhone" placeholder="(###) ###-####" (keydown)="eventHandler($event)"
                                   formControlName="shipperPhoneNumber"  minlength="10"
                                   ngPattern="/[0-9]/"
                                   onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" name="phone" [textMask]="{mask: mask}" clean="true" ng-model="phone" autocomplete="nope"[ngClass]="{ 'is-invalid': submitted && f['shipperPhoneNumber'].errors }" >
                                  </div>
                        </div>
                        <div class="row">
                          <div class="col-md-4 form-group">
                            <label>Street 1</label><span style="color: #FF0000; font-size:14px;">*</span>
                            <span *ngIf="submitted && f['shipperStreet1'].errors"  class="tooltipDetail">
                                <span *ngIf="f['shipperStreet1'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                              </span> 
                            <input type="text" class="form-control" placeholder="Street 1" id="streetshipper1" formControlName="shipperStreet1" (keydown)="eventHandler($event)" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['shipperStreet1'].errors }" >
                          </div>
                          <div class="col-md-4 form-group">
                            <label>Street 2</label>
                            <input type="text" class="form-control" placeholder="Street 2" id="shipperStreettest" formControlName="shipperStreet2" (keydown)="eventHandler($event)" autocomplete="nope" >
                            <app-error-message [control]="$any(billOfLading).controls['shipperStreet2']"
                                               style="font-size: 13px;"></app-error-message>
                          </div>
                          <div class="col-md-4 form-group">
                            <label>Country</label><span style="color: #FF0000; font-size:14px">*</span>
                            <select class="form-control" formControlName="shipperCountry" id="shipperCountryName" [disabled]="true" (keydown)="eventHandler($event)"autocomplete="nope" >
                              <option value="USA">United States</option>
                              <option>Canada</option>s
                              <option>Mexico</option>
                            </select>
                            <app-error-message [control]="$any(billOfLading).controls['shipperCountry']"
                                               style="font-size: 13px;"></app-error-message>
                          </div>
                        </div>
                          <div class="row">
                        <div class="col-md-4 form-group">
                          <label>Zip</label><span style="color: #FF0000; font-size: 14px">*</span>
                          <span *ngIf="submitted && f['shipperPostalCode'].errors"  class="tooltipDetail">
                              <span *ngIf="f['shipperPostalCode'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                            </span>
                          <input type="text" class="form-control" id="shipperZipTest1" placeholder="Zip" formControlName="shipperPostalCode" (keydown)="eventHandler($event)"
                                 (change)="shipperZipCode(billOfLading.controls['shipperPostalCode'].value)"
                                 ngPattern="/[0-9]/" onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')"
                                 maxlength="5" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['shipperPostalCode'].errors }" >
                          <span *ngIf="shipperErrorMessage" style="color: #FF0000">Zip is not Found</span>
                        </div>
                        <div class="col-md-4 form-group">
                          <label>City</label><span style="color: #FF0000; font-size: 14px;">*</span>
                          <span *ngIf="submitted && f['shipperCity'].errors"  class="tooltipDetail">
                              <span *ngIf="f['shipperCity'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                            </span>
                          <input type="text" class="form-control" id="shipperCityTest" placeholder="City" formControlName="shipperCity" 
                          (keydown)="eventHandler($event)"
                                  autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['shipperCity'].errors }" >
                        </div>
                        <div class="col-md-4 form-group">
                          <label>State</label><span style="color: #FF0000; font-size: 14px;">*</span>
                          <span *ngIf="submitted && f['shipperState'].errors"  class="tooltipDetail">
                              <span *ngIf="f['shipperState'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                            </span>
                          <input type="text" class="form-control" id="shipperStatetest" placeholder="State" formControlName="shipperState" (keydown)="eventHandler($event)"
                                 readonly ngPattern="/[0-9]/"[disabled]="true"
                                 onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['shipperState'].errors }" >
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4 form-group">
                          <label>Shipper's Bill Of Lading #</label>
                          <input type="text" class="form-control" placeholder="" id="shippersBillOfLadingTest" minlength="2" maxlength="25" (keydown)="eventHandler($event)"
                                 formControlName="shippersBillOfLading" autocomplete="nope">
                                 <app-error-message [control]="$any(billOfLading).controls['shippersBillOfLading']"
                                 style="font-size: 13px;"></app-error-message>
                                 </div>
                        <div class="col-md-4 form-group">
                          <label>PO #</label>
                          <input type="text" class="form-control" placeholder="" id="shipperPONumber" formControlName="purchaseOrderNumber" (keydown)="eventHandler($event)"
                                  minlength="2" maxlength="25"
                                  autocomplete="nope" >
                                  <app-error-message [control]="$any(billOfLading).controls['purchaseOrderNumber']"
                                 style="font-size: 13px;"></app-error-message>
                                </div>
                        <div class="col-md-4 form-group">
                          <label>Shipper #</label>
                          <input type="text" class="form-control" placeholder="" id="shipperTestNumber" formControlName="shipperIdNumber" (keydown)="eventHandler($event)"
                                 minlength="2" maxlength="25"
                                  autocomplete="nope">
                                  <app-error-message [control]="$any(billOfLading).controls['shipperIdNumber']"
                                 style="font-size: 13px;"></app-error-message>
                          </div>
                         </div>
                      </div>
                      </div>
                    </div>
                    <div class="row" *ngIf="setFlagForExisting">
                      <div class="col-md-11 div-border" style="margin-left: 25px;width: 96%;">
                        <h4 class="sub-head">Shipper Information<button class="leg" data-toggle="modal" data-target="#shipper-address-save-modal"
                                                                        [disabled] ="!billOfLading.controls['shipperCompanyName'].valid
                                                                        || !billOfLading.controls['shipperStreet1'].valid
                                                                        || !billOfLading.controls['shipperPostalCode'].valid
                                                                        || !billOfLading.controls['shipperCity'].valid
                                                                        || !billOfLading.controls['shipperState'].valid" (keydown)="eventHandler($event)">
                          <i class="fa fa-save" style="margin-right:5px"></i>Save Template</button></h4>
      
                    <div class="row">
                          <div class="col-md-4">
                              <div class="input-group">
                            <label>Shipper &nbsp;<span *ngIf="showErrorCustomer" style="color: Red">Please choose different customer</span></label><span
                            style="color: #FF0000; font-size: 14px;">*</span>
                            <span *ngIf="submitted && f['shipperCompanyName'].errors"  class="tooltipDetail">
                                <span *ngIf="f['shipperCompanyName'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                              </span> 
                            <input type="text" class="form-control typeahead" id ="shipperFocusId" aria-label="Text input with dropdown button" (keydown)="eventHandler($event)"
                                   placeholder="e.g. ABC Company" formControlName="shipperCompanyName" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['shipperCompanyName'].errors }" [typeahead]="shipperTemplate" typeaheadOptionField="templateName" (typeaheadOnSelect)="getShipper($event, 'shipper')" (typeaheadNoResults)="getshipperData($event)" >
                                   
                                   <div class="input-group-btn">
                                      <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" style="margin-top: 22px" aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                                      <div class="dropdown-menu" style="padding: 0px;height:100px;overflow: auto;width:500">
                                        <table class="table table-bordered" style="margin-bottom: 0px;border:none">
                                          <div class="scrollit">
                                         <thead>
                                          <tr>
                                            <td>Template Name</td>
                                            <td>Company</td>
                                            <td>Zip/Post</td>
                                          </tr>
                                          </thead>
                                          <tbody>
                                          <tr *ngFor="let addressTemplates of shipperTemplate" class="noIbar" (click)="getAddressClickValues(addressTemplates.id, 'shipperid')">
                                            <td id="shipperTemplateName2">{{addressTemplates?.templateName}}</td>
                                            <td id="shipperCompanyName2">{{addressTemplates?.companyName}}</td>
                                            <td id="shipperZip2">{{addressTemplates?.zip}}</td>
                                          </tr>
                                          </tbody>
                                            <label *ngIf="shipperTemplatesPresent">No Templates Available</label>
                                          </div>
                                        </table>
      
                                      </div>
                                    </div>
      
                                   </div>
                                   <!-- <div *ngIf="submitted && f.shipperCompanyName.errors" class="invalid-feedback">
                                    <div *ngIf="f.shipperCompanyName.errors.required" style="color: #FF0000">Shipper is required</div>
                                </div> -->
                              <app-error-message [control]="$any(billOfLading).controls['shipperCompanyName']"
                                               style="font-size: 13px;"></app-error-message>
                          </div>
                          <div class="col-md-4 form-group">
                            <label>Contact Name</label>
                            <input type="text" class="form-control" placeholder="e.g. John Mathew" id="shipperContactName2" (keydown)="eventHandler($event)" formControlName="shipperContactName" autocomplete="nope" >
                          </div>
                          <div class="col-md-4 form-group">
                            <label>Phone</label><span style="color: #FF0000; font-size:14px;">*</span>
                            <input type="text" class="form-control" id="shipperPhone2" placeholder="(###) ###-####" (keydown)="eventHandler($event)"
                                   formControlName="shipperPhoneNumber" 
                                   minlength="10"
                                   ngPattern="/[0-9]/"
                                   onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" name="phone" [textMask]="{mask: mask}" clean="true" ng-model="phone" autocomplete="nope"  [ngClass]="{ 'is-invalid': submitted && f['shipperPhoneNumber'].errors }" >
                                   <div *ngIf="submitted && f['shipperPhoneNumber'].errors" class="invalid-feedback">
                                    <div *ngIf="f['shipperPhoneNumber'].errors['required']"style="color: #FF0000">Phone is required</div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                          <div class="col-md-4 form-group">
                            <label>Street 1</label><span style="color: #FF0000; font-size:14px;">*</span>
                            <span *ngIf="submitted && f['shipperStreet1'].errors"  class="tooltipDetail">
                                <span *ngIf="f['shipperStreet1'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                              </span> 
                            <input type="text" id="shipperStreet3" class="form-control" placeholder="Street 1" formControlName="shipperStreet1" (keydown)="eventHandler($event)" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['shipperStreet1'].errors }">
                            <!-- <div *ngIf="submitted && f.shipperStreet1.errors" class="invalid-feedback">
                              <div *ngIf="f.shipperStreet1.errors.required"style="color: #FF0000">Street 1 is required</div>
                          </div> -->
                            <!-- <app-error-message [control]="billOfLading.controls.shipperStreet1"
                                               style="font-size: 13px;"></app-error-message> -->
                          </div>
                          <div class="col-md-4 form-group">
                            <label>Street 2</label>
                            <input type="text" class="form-control" id="shipperstreet4" placeholder="Street 2" formControlName="shipperStreet2" (keydown)="eventHandler($event)" autocomplete="nope" >
                            <app-error-message [control]="$any(billOfLading).controls['shipperStreet2']"
                                               style="font-size: 13px;"></app-error-message>
                          </div>
                          <div class="col-md-4 form-group">
                            <label>Country</label><span style="color: #FF0000; font-size: 14px">*</span>
                            <select id="shipperCountry2" class="form-control" formControlName="shipperCountry"[disabled]="true" (keydown)="eventHandler($event)">
                              <option value="USA">United States</option>
                              <option>Canada</option>
                              <option>Mexico</option>
                            </select>
                            <app-error-message [control]="$any(billOfLading).controls['shipperCountry']"
                                               style="font-size: 13px;"></app-error-message>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-4 form-group">
                            <label>Zip</label><span style="color: #FF0000; font-size: 14px;">*</span>
                            <span *ngIf="submitted && f['shipperPostalCode'].errors"  class="tooltipDetail">
                                <span *ngIf="f['shipperPostalCode'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                              </span>
                            <input type="text" id="shipperzip3" class="form-control" placeholder="Zip" formControlName="shipperPostalCode" (keydown)="eventHandler($event)"
                                   (change)="shipperZipCode(billOfLading.controls['shipperPostalCode'].value)"
                                   ngPattern="/[0-9]/" onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')"
                                   maxlength="5" readonly autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['shipperPostalCode'].errors }">
                                  
                            <span *ngIf="shipperErrorMessage" style="color: #FF0000">Zip is not Found</span>
                          </div>
                          <div class="col-md-4 form-group">
                            <label>City</label><span style="color: #FF0000; font-size: 14px;">*</span>
                            <span *ngIf="submitted && f['shipperCity'].errors"  class="tooltipDetail">
                                <span *ngIf="f['shipperCity'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                              </span>
                            <input type="text" id="shipperCity1" class="form-control" placeholder="City" formControlName="shipperCity" 
                            (keydown)="eventHandler($event)"
                                     autocomplete="nope"  [ngClass]="{ 'is-invalid': submitted && f['shipperCity'].errors }" >
                          </div>
                          <div class="col-md-4 form-group">
                            <label>State</label><span style="color: #FF0000; font-size: 14px;">*</span>
                            <span *ngIf="submitted && f['shipperState'].errors"  class="tooltipDetail">
                              <span *ngIf="f['shipperState'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                            </span>
                            <input type="text" id="shipperState1" class="form-control" placeholder="State" formControlName="shipperState" (keydown)="eventHandler($event)"
                                   readonly ngPattern="/[0-9]/"[disabled]="true"
                                   onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['shipperState'].errors }" >
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-4 form-group">
                            <label>Shipper's Bill Of Lading #</label>
                            <input type="text" class="form-control" id="shippersBillOfLading1" placeholder="" minlength="2" maxlength="25" (keydown)="eventHandler($event)"
                                   formControlName="shippersBillOfLading" autocomplete="nope">
                                   <app-error-message [control]="$any(billOfLading).controls['shippersBillOfLading']"
                                   style="font-size: 13px;"></app-error-message>
                                   </div>
                          <div class="col-md-4 form-group">
                            <label>PO #</label>
                            <input type="text" class="form-control" id="shipperpurchaseOrderNumber" placeholder="" formControlName="purchaseOrderNumber" (keydown)="eventHandler($event)"
                                    minlength="2" maxlength="25"
                                    autocomplete="nope" >
                                    <app-error-message [control]="$any(billOfLading).controls['purchaseOrderNumber']"
                                   style="font-size: 13px;"></app-error-message>
                                  </div>
                          <div class="col-md-4 form-group">
                            <label>Shipper #</label>
                            <input type="text" class="form-control" id="shipperIdNumber" placeholder="" formControlName="shipperIdNumber" (keydown)="eventHandler($event)"
                                   minlength="2" maxlength="25"
                                    autocomplete="nope">
                                    <app-error-message [control]="$any(billOfLading).controls['shipperIdNumber']"
                                   style="font-size: 13px;"></app-error-message>
                            </div>
                           </div>
                      </div>
                    </div>
                    <div class="row">
                      <div style = "padding: 10px 25px" class= "col-md-12 col-sm-12 ">
                          <div class ="div-border">
                                      <h4 class="sub-head">Consignee Information<button class="leg" data-toggle="modal" data-target="#address-save-modal"
                                                                        [disabled] ="!billOfLading.controls['consigneeCompanyName'].valid ||
                                                                        !billOfLading.controls['consigneeStreet1'].valid ||
                                                                        !billOfLading.controls['consigneePostalCode'].valid ||
                                                                        !billOfLading.controls['consigneeCity'].valid ||
                                                                        !billOfLading.controls['consigneeState'].valid">
                        <i class="fa fa-save" style="margin-right:5px"></i>Save Template</button></h4>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="input-group">
                          <label>Consignee</label><span style="color: #FF0000; font-size:14px;">*</span>
                          <span *ngIf="submitted && f['consigneeCompanyName'].errors" class="tooltipDetail">
                            <span class="tooltiptext" *ngIf="f['consigneeCompanyName'].errors['required']"style="color: #FF0000; font-size:14px;">This is required</span>
                          </span>
                          <input type="text"  class="form-control" id="consigneeFocus" aria-label="Text input with dropdown button" (keydown)="eventHandler($event)"
                                 placeholder="e.g. ABC Company" formControlName="consigneeCompanyName" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['consigneeCompanyName'].errors }" [typeahead]="consigneeTemplate" typeaheadOptionField="templateName" (typeaheadOnSelect)="getShipper($event, 'consignee')" (typeaheadNoResults)="getshipperData($event)" >
                                 
                          <div class="input-group-btn">
                            <button id="buttoniD" class="btn btn-outline-secondary dropdown-toggle" (keydown)="checkKeyInput($event,'buttoniD')" type="button" data-toggle="dropdown" style="margin-top: 22px" aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                            <div class="dropdown-menu" style="padding: 0px;height:170px;overflow: auto;width:500">
                              <table id ="consigneeTableId" class="table table-bordered" style="margin-bottom: 0px;border:none" >
                                <div class="scrollit">
                                  <thead>
                                <tr>
                                  <td>Template Name</td>
                                  <td>Company</td>
                                  <td>Zip/Post</td>
                                </tr>
                                </thead>
                                <tbody>
                                <tr *ngFor="let addressTemplates of consigneeTemplate; let i = index" class="noIbar" tabindex='i === selectedIndex' id="selectedIndex === i" (keypress)="scroll($event, i)" (click)="getAddressClickValues(addressTemplates.id,'consignee')">
                                  <td id="consigneeTemplateName">{{addressTemplates?.templateName}}</td>
                                  <td id="consigneeCompanyName">{{addressTemplates?.companyName}}</td>
                                  <td id="consigneeeZip">{{addressTemplates?.zip}}</td>
                                </tr>
                                </tbody>
                                  <label *ngIf="consigneeTemplatesPresent">No Templates Available</label>
                                </div>
                              </table>
                            </div>
                          </div>
                          </div>
                        </div>
                        <div class="col-md-4 form-group">
                          <label>Contact Name</label>
                          <input type="text" class="form-control" id="cnsigneeContactName" placeholder="e.g. John Mathew" (keydown)="eventHandler($event)"
                                 formControlName="consigneeContactName" autocomplete="nope" >
                          <app-error-message [control]="$any(billOfLading).controls['consigneeContactName']"
                                             style="font-size: 13px;"></app-error-message>
                        </div>
                        <div class="col-md-4 form-group">
                          <label>Phone</label><span style="color: #FF0000; font-size:14px">*</span>
                          <span *ngIf="submitted && f['consigneePhoneNumber'].errors"  class="tooltipDetail">
                            <span *ngIf="f['consigneePhoneNumber'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                          </span>
                          <input type="text" class="form-control" id="consigneePhneNumber1" placeholder="(###) ###-####" (keydown)="eventHandler($event)"
                                 formControlName="consigneePhoneNumber" name="phone" [textMask]="{mask: mask}" clean="true" ng-model="phone" minlength="10" ngPattern="/[0-9]/"
                                 onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')"autocomplete="nope"  [ngClass]="{ 'is-invalid': submitted && f['consigneePhoneNumber'].errors }" >
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4 form-group">
                          <label>Street 1</label><span style="color: #FF0000; font-size:14px;">*</span>
                          <span *ngIf="submitted && f['consigneeStreet1'].errors" class="tooltipDetail">
                            <span *ngIf="f['consigneeStreet1'].errors['required']" class="tooltiptext" style="font-size:14px">This is required</span>
                          </span>
                          <input type="text" class="form-control" id="consigneeStreet1" placeholder="Street 1" formControlName="consigneeStreet1" (keydown)="eventHandler($event)" autocomplete="nope" [ngClass]="{'is-invalid': submitted && f['consigneeStreet1'].errors }">
                        </div>
                        <div class="col-md-4 form-group">
                          <label>Street 2</label>
                          <input type="text"  id="consigneeStreet2"class="form-control" placeholder="Street 2" formControlName="consigneeStreet2" (keydown)="eventHandler($event)" autocomplete="nope" >
                          <app-error-message [control]="$any(billOfLading).controls['consigneeStreet2']"
                                             style="font-size: 13px;"></app-error-message>
                        </div>
                        <div class="col-md-4 form-group">
                          <label>Country</label><span style="color: #FF0000;font-size:14px;">*</span>
                          <select id="consigneeCountry1" class="form-control" formControlName="consigneeCountry"[disabled]="true" (keydown)="eventHandler($event)">
                            <option value="USA">United States</option>
                            <option>Canada</option>
                            <option>Mexico</option>
                          </select>
                          <app-error-message [control]="$any(billOfLading).controls['consigneeCountry']"
                                             style="font-size: 13px;"></app-error-message>
                        </div>
                      </div>
                      <div class="row" *ngIf="!setFlagForExisting">
                        <div class="col-md-4 form-group">
                          <label>Zip</label><span style="color: #FF0000; font-size:14px">*</span>
                          <span *ngIf="submitted && f['consigneePostalCode'].errors"  class="tooltipDetail">
                            <span *ngIf="f['consigneePostalCode'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                          </span> 
                          <input type="text" id="consigneeZip1" class="form-control" placeholder="Zip" formControlName="consigneePostalCode" (keydown)="eventHandler($event)"
                                 (change)="consigneeZipCode(billOfLading.controls['consigneePostalCode'].value)" 
                                 ngPattern="/[0-9]/" onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" maxlength="5" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['consigneePostalCode'].errors }" >
                                 <span *ngIf="showTableZip"> * Please select a city below</span>
                                 <table id ="consigneeCity" *ngIf="showTableZip" class="table table-bordered" style="margin-bottom: 0px;border:none" >
                                  <div class="scrollit">
                                    <thead>
                                  <tr>
                                    <td>City Name</td>
                                    
                                  </tr>
                                  </thead>
                                  <tbody>
                                  <tr *ngFor="let addressTemplates of consigneeZipArray; let i = index" class="noIbar" tabindex='i === selectedIndex' id="selectedIndex === i"  (click)="getCityNameValue(addressTemplates)">
                                    <td id="consigneeTemplateName">{{addressTemplates?.cityName}}</td>
                                    
                                  </tr>
                                  </tbody>
                                    <label *ngIf="consigneeTemplatesPresent">No Templates Available</label>
                                  </div>
                                </table> 
                          <span *ngIf="consigneeErrorMessage" style="color: #FF0000">Zip is not Found</span>
                        </div>
                        <div class="col-md-4 form-group">
                          <label>City</label><span style="color: #FF0000; font-size:14px;">*</span>
                          <span *ngIf="submitted && f['consigneeCity'].errors"  class="tooltipDetail">
                            <span *ngIf="f['consigneeCity'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                          </span>
                          <input type="text" id="consigneeCity" class="form-control" placeholder="City" formControlName="consigneeCity"
                           (keydown)="eventHandler($event)" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['consigneeCity'].errors }" >
                        </div>
                        <div class="col-md-4 form-group">
                          <label>State</label><span style="color: #FF0000; font-size:14px">*</span>
                          <span *ngIf="submitted && f['consigneeState'].errors"  class="tooltipDetail">
                            <span *ngIf="f['consigneeState'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                          </span>
                          <input type="text" class="form-control" id="consigneeState" placeholder="State" formControlName="consigneeState"  (keydown)="eventHandler($event)" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['consigneeState'].errors }" >
                        </div>
                      </div>
                      <div class="row" *ngIf="setFlagForExisting">
                        <div class="col-md-4 form-group">
                          <label>Zip</label><span style="color: #FF0000; font-size:14px">*</span>
                          <span *ngIf="submitted && f['consigneePostalCode'].errors"  class="tooltipDetail">
                            <span *ngIf="f['consigneePostalCode'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                          </span>
                          <input type="text" class="form-control" id="consigneeZipCode1" placeholder="Zip" formControlName="consigneePostalCode" (keydown)="eventHandler($event)"
                                 (change)="consigneeZipCode(billOfLading.controls['consigneePostalCode'].value)"
                                 ngPattern="/[0-9]/" onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" maxlength="5" readonly autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['consigneePostalCode'].errors }" >
                                 <table id ="consigneeCity" *ngIf="showTableZip" class="table table-bordered" style="margin-bottom: 0px;border:none" >
                                  <div class="scrollit">
                                    <thead>
                                  <tr>
                                    <td>City Name</td>
                                    
                                  </tr>
                                  </thead>
                                  <tbody>
                                  <tr *ngFor="let addressTemplates of consigneeZipArray; let i = index" class="noIbar" tabindex='i === selectedIndex' id="selectedIndex === i"  (click)="getCityNameValue(addressTemplates)">
                                    <td id="consigneeTemplateName">{{addressTemplates?.cityName}}</td>
                                    
                                  </tr>
                                  </tbody>
                                    <label *ngIf="consigneeTemplatesPresent">No Templates Available</label>
                                  </div>
                                </table> 
                          <span *ngIf="consigneeErrorMessage" style="color: #FF0000">Zip is not Found</span>
                        </div>
                        <div class="col-md-4 form-group">
                          <label>City</label><span style="color: #FF0000; font-size:14px">*</span>
                          <span *ngIf="submitted && f['consigneeCity'].errors"  class="tooltipDetail">
                            <span *ngIf="f['consigneeCity'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                          </span>
                          <input type="text" class="form-control" id="consigneeCity2" placeholder="City" formControlName="consigneeCity" 
                           (keydown)="eventHandler($event)" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['consigneeCity'].errors }" >
                        </div>
                        <div class="col-md-4 form-group">
                          <label>State</label><span style="color: #FF0000; font-size:14px">*</span>
                          <span *ngIf="submitted && f['consigneeState'].errors"  class="tooltipDetail">
                            <span *ngIf="f['consigneeState'].errors['required']" class="tooltiptext" style=" font-size: 14px;">This is required</span>
                          </span>
                          <input type="text" class="form-control" id="consigneeState1" placeholder="State" formControlName="consigneeState"  (keydown)="eventHandler($event)" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['consigneeState'].errors }" >
                        </div>
                      </div>
                      </div>
                    </div>
                  </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="container-fluid" *ngIf="showForm">
           
              <div class="row">
                  <div style = "padding: 10px 25px" class= "col-md-12 col-sm-12 ">
                      <div class ="div-border">
                      <div class="row">
                    <div class="col-md-3 form-group">
                      <label>Bill to Forte</label>
                      <input type="radio" value="BillToForte" id="thirdParty1" formControlName="thirdParty"
                             (change)="thirdParty(billOfLading.controls['thirdParty'].value, billOfLading.value)" autocomplete="nope" >
                    </div>
                    <div class="col-md-3 form-group">
                      <label>Third Party</label>
                      <input type="radio" value="ThirdParty" id="thirdparty2" formControlName="thirdParty"
                             (change)="thirdParty(billOfLading.controls['thirdParty'].value, billOfLading.value)" autocomplete="nope" >
                      </div>
                      <div class="col-md-3 form-group">
                        <label>Prepaid </label>
                        <input type="radio" value="Prepay" id="thirdparty3" formControlName="thirdParty"
                               (change)="thirdParty(billOfLading.controls['thirdParty'].value,billOfLading.value)" autocomplete="nope" >
                        </div>
                        <div class="col-md-3 form-group">
                          <label>Collect</label>
                          <input type="radio" value="Collect" id="thirdParty4" formControlName="thirdParty"
                                 (change)="thirdParty(billOfLading.controls['thirdParty'].value,billOfLading.value)" autocomplete="nope" >
                          </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class = "row" >
              <div class="row" *ngIf="showCollect">
                <div class="col-md-push-1 col-md-10 col-sm-12 div-border">
                  <h4 class="sub-head">Consignee Information</h4>
                  <div class="row">
                    <div class="col-md-4" form-group>
                      <label>Consignee Name</label>
                      <input type="text" class="form-control" id="consigneeName1" aria-label="Text input with dropdown button"
                             placeholder="e.g. ABC Company" formControlName="thirdPartyCompanyName"  autocomplete="nope" >
                      <app-error-message [control]="$any(billOfLading).controls['thirdPartyCompanyName']"
                                         style="font-size: 13px;"></app-error-message>
                    </div>
                    <div class="col-md-4 form-group">
                      <label>Consignee Street </label>
                      <input type="text" class="form-control" id="consigneeStreet3" placeholder="Street 1" formControlName="thirdPartyStreet"
                              autocomplete="nope" autocomplete="nope" >
                      <app-error-message [control]="$any(billOfLading).controls['thirdPartyStreet']"
                                         style="font-size: 13px;"></app-error-message>
                    </div>
                    <div class="col-md-4 form-group">
                      <label>Consignee PhoneNumber </label>
                      <input type="text" class="form-control" placeholder="Street 1"  id="consigneePhoneNumber1" formControlName="thirdPartyPhoneNumber"
                              autocomplete="nope" autocomplete="nope" >
                      <app-error-message [control]="$any(billOfLading).controls['thirdPartyPhoneNumber']"
                                         style="font-size: 13px;"></app-error-message>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4 form-group">
                      <label>Zip</label>
                      <input type="text" class="form-control" placeholder="Zip"  id="consigneeZip2" formControlName="thirdPartyPostalCode" (keydown)="eventHandler($event)"
                             (change)="thirdPartyZipCode(billOfLading.controls['thirdPartyPostalCode'].value)" 
                             ngPattern="/[0-9]/" onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" maxlength="5" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['thirdPartyPostalCode'].errors }" >
                             <div *ngIf="submitted && f['thirdPartyPostalCode'].errors" class="invalid-feedback">
                              <div *ngIf="f['thirdPartyPostalCode'].errors['required']"style="color: #FF0000">Zip is required</div>
                          </div>
                      <span *ngIf="thirdPartyErrorMessage" style="color: #FF0000">Zip is not Found</span>
                    </div>
                    <div class="col-md-4 form-group">
                      <label>City</label>
                      <input type="text" class="form-control" placeholder="City" id="thirdpartyCity" formControlName="thirdPartyCity" autocomplete="nope" 
                       [ngClass]="{ 'is-invalid': submitted && f['thirdPartyCity'].errors }" >
                      <div *ngIf="submitted && f['thirdPartyCity'].errors" class="invalid-feedback">
                          <div *ngIf="f['thirdPartyCity'].errors['required']" style="color: #FF0000">City is required</div>
                      </div>
                    </div>
                    <div class="col-md-4 form-group">
                      <label>State</label>
                      <input type="text" class="form-control" id="thirdpartyState" placeholder="State" formControlName="thirdPartyState"autocomplete="nope"[disabled]="true" [ngClass]="{ 'is-invalid': submitted && f['thirdPartyState'].errors }">
                      <div *ngIf="submitted && f['thirdPartyState'].errors" class="invalid-feedback">
                          <div *ngIf="f['thirdPartyState'].errors['required']"style="color: #FF0000">State is required</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row" *ngIf="showPrepaid">
                <div class="col-md-push-1 col-md-10 col-sm-12 div-border">
                  <h4 class="sub-head">Shipper Information</h4>
                  <div class="row">
                    <div class="col-md-4" form-group>
                      <label>Shipper Name</label>
                      <input type="text" class="form-control" id="thirdpartyCompanyName1" aria-label="Text input with dropdown button"
                             placeholder="e.g. ABC Company" formControlName="thirdPartyCompanyName"  autocomplete="nope" >
                      <app-error-message [control]="$any(billOfLading).controls['thirdPartyCompanyName']"
                                         style="font-size: 13px;"></app-error-message>
                    </div>
                    <div class="col-md-4 form-group">
                      <label>Shipper Street </label>
                      <input type="text" class="form-control" id="thirdpartyStreet1" placeholder="Street 1" formControlName="thirdPartyStreet"
                              autocomplete="nope" autocomplete="nope" >
                      <app-error-message [control]="$any(billOfLading).controls['thirdPartyStreet']"
                                         style="font-size: 13px;"></app-error-message>
                    </div>
                    <div class="col-md-4 form-group">
                      <label>Shipper PhoneNumber </label>
                      <input type="text" class="form-control" placeholder="Street 1" id="thirdpartyPhoneNumber1" formControlName="thirdPartyPhoneNumber"
                              autocomplete="nope" autocomplete="nope" >
                      <app-error-message [control]="$any(billOfLading).controls['thirdPartyPhoneNumber']"
                                         style="font-size: 13px;"></app-error-message>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4 form-group">
                      <label>Zip</label>
                      <input type="text" class="form-control" placeholder="Zip" id="thirdpartyPostalCode1" formControlName="thirdPartyPostalCode" (keydown)="eventHandler($event)"
                             (change)="thirdPartyZipCode(billOfLading.controls['thirdPartyPostalCode'].value)" 
                             ngPattern="/[0-9]/" onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" maxlength="5" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['thirdPartyPostalCode'].errors }" >
                             <div *ngIf="submitted && f['thirdPartyPostalCode'].errors" class="invalid-feedback">
                              <div *ngIf="f['thirdPartyPostalCode'].errors['required']"style="color: #FF0000">Zip is required</div>
                          </div>
                      <span *ngIf="thirdPartyErrorMessage" style="color: #FF0000">Zip is not Found</span>
                    </div>
                    <div class="col-md-4 form-group">
                      <label>City</label>
                      <input type="text" class="form-control"  id="thirdpartycity1" placeholder="City" formControlName="thirdPartyCity"
                      autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['thirdPartyCity'].errors }" >
                      <div *ngIf="submitted && f['thirdPartyCity'].errors" class="invalid-feedback">
                          <div *ngIf="f['thirdPartyCity'].errors['required']" style="color: rgb(32, 5, 5)">City is required</div>
                      </div>
                    </div>
                    <div class="col-md-4 form-group">
                      <label>State</label>
                      <input type="text" class="form-control" id="thirdpartyState1" placeholder="State"[disabled]="true" formControlName="thirdPartyState"autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['thirdPartyState'].errors }">
                      <div *ngIf="submitted && f['thirdPartyState'].errors" class="invalid-feedback">
                          <div *ngIf="f['thirdPartyState'].errors['required']"style="color: #FF0000">State is required</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="container-fluid"  *ngIf="showForm">
              <div class="row" *ngIf="showThirdParty">
              <div class="col-md-push-1 col-md-10 col-sm-12 div-border">
                <h4 class="sub-head">Third Party Information<button class="leg" data-toggle="modal" data-target="#thirdparty-address-save-modal"
                  [disabled] ="!billOfLading.controls['thirdPartyCompanyName'].valid ||
                  !billOfLading.controls['thirdPartyStreet'].valid ||
                  !billOfLading.controls['thirdPartyPostalCode'].valid ||
                  !billOfLading.controls['thirdPartyCity'].valid ||
                  !billOfLading.controls['thirdPartyState'].valid">
      <i class="fa fa-save" style="margin-right:5px"></i>Save Template</button></h4>
                <div class ="div-border">
                <div class="row">
                  <div class="col-md-4" form-group>
                      <div class="input-group">
                    <label>Name</label>
                    <input type="text" class="form-control" id="thirdpartycompanyName2" aria-label="Text input with dropdown button"
                           placeholder="e.g. ABC Company" formControlName="thirdPartyCompanyName"  autocomplete="nope" >
                    <app-error-message [control]="$any(billOfLading).controls['thirdPartyCompanyName']"
                                       style="font-size: 13px;"></app-error-message>
                                       <div class="input-group-btn">
                                        <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" style="margin-top: 22px" aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                                        <div class="dropdown-menu" style="padding: 0px;height:170px;overflow: auto;width:500">
                                          <table class="table table-bordered" style="margin-bottom: 0px;border:none">
                                            <div class="scrollit">
                                              <thead>
                                            <tr>
                                              <td>Template Name</td>
                                              <td>Company</td>
                                              <td>Zip/Post</td>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr *ngFor="let addressTemplates of thirdPartyTemplate" class="noIbar" (click)="getAddressClickValues(addressTemplates.id,'thirdParty')">
                                              <td id="templateName1">{{addressTemplates?.templateName}}</td>
                                              <td id="companyName1">{{addressTemplates?.companyName}}</td>
                                              <td id="addressTemplateZip">{{addressTemplates?.zip}}</td>
                                            </tr>
                                            </tbody>
                                              <label *ngIf="thirdPartyTemplatesPresent">No Templates Available</label>
                                            </div>
                                          </table>
                                        </div>
                                      </div>
                                      </div>
                                       
                  </div>
                  <div class="col-md-4 form-group">
                    <label>Street </label>
                    <input type="text" class="form-control" id="thirdpartystreet1" placeholder="Street 1" formControlName="thirdPartyStreet"
                            autocomplete="nope" autocomplete="nope" >
                    <app-error-message [control]="$any(billOfLading).controls['thirdPartyStreet']"
                                       style="font-size: 13px;"></app-error-message>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4 form-group">
                    <label>Zip</label>
                    <input type="text" class="form-control" id="thirdpartyPostalCode2" placeholder="Zip" formControlName="thirdPartyPostalCode" (keydown)="eventHandler($event)"
                           (change)="thirdPartyZipCode(billOfLading.controls['thirdPartyPostalCode'].value)" 
                           ngPattern="/[0-9]/" onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" maxlength="5" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['thirdPartyPostalCode'].errors }" >
                           <div *ngIf="submitted && f['thirdPartyPostalCode'].errors" class="invalid-feedback">
                            <div *ngIf="f['thirdPartyPostalCode'].errors['required']"style="color: #FF0000">Zip is required</div>
                        </div>
                    <span *ngIf="thirdPartyErrorMessage" style="color: #FF0000">Zip is not Found</span>
                  </div>
                  <div class="col-md-4 form-group">
                    <label>City</label>
                    <input type="text" class="form-control" id="thirdpartyCity2" placeholder="City" formControlName="thirdPartyCity"
                    autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['thirdPartyCity'].errors }" >
                    <div *ngIf="submitted && f['thirdPartyCity'].errors" class="invalid-feedback">
                        <div *ngIf="f['thirdPartyCity'].errors['required']" style="color: #FF0000">City is required</div>
                    </div>
                  </div>
                  <div class="col-md-4 form-group">
                    <label>State</label>
                    <input type="text" class="form-control" id="thirdpartyState2" placeholder="State" formControlName="thirdPartyState"[disabled]="true" autocomplete="nope" [ngClass]="{ 'is-invalid': submitted && f['thirdPartyState'].errors }">
                    <div *ngIf="submitted && f['thirdPartyState'].errors" class="invalid-feedback">
                        <div *ngIf="f['thirdPartyState'].errors['required']"style="color: #FF0000">State is required</div>
                    </div>
                  </div>
                </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div style = "padding:10px 20px" class= "col-md-12 col-sm-12 ">
                  <div class ="div-border">
                <h4 class="sub-head">Shipment Information<span style="color: #FF0000; font-size:14px;">*</span>
                  <span *ngIf="showCarrierErrorMsg" style="color: #FF0000">Choose Carrier SCAC Code</span>
                  <span  class="tooltipDetail">
                    <span  *ngIf="showShipmentErrorMeassage" class="tooltiptext" style=" font-size: 14px; width:230px;">(Please Fill The Shipment Information)</span>
                    <span  *ngIf="descriptionErrorMsg" class="tooltiptext" style="font-size: 14px; width:250px;">(Please Fill the Description, Handling Units and Pieces Count)</span>
                  </span> 
                </h4>
                <div class="row">
                    <label style="margin-left: 15px;">Shipment Type</label>
                      <div *ngIf="isDisabledNonItemize === true">
                          <div class="col-md-4 form-group radio-group" style="margin-left: 60px" >
                        <input type="radio" class="option-input radio" value="Non Itemized" id="shipmentTypes1" formControlName="shipmentType" 
                        (change)="checkForShipmentType(billOfLading.controls['shipmentType'].value)"
                       [disabled]="true"/>
                        <label style="font-size:12px!important;">Non Itemized</label>
                      </div>
                      </div>
                      <div *ngIf="isDisabledNonItemize === false">
                        <div class="col-md-4 form-group radio-group" style="margin-left: 60px" >
                      <input type="radio" class="option-input radio" id="shipmentTypes2" value="Non Itemized" formControlName="shipmentType" 
                      (change)="checkForShipmentType(billOfLading.controls['shipmentType'].value)"
                      />
                      <label style="font-size:12px!important;">Non Itemized</label>
                    </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 form-group radio-group" style="margin-left: 60px" *ngIf="isDisabledItemize === true">
                        <input type="radio" class="option-input radio" id="shipmentTypesItemized1" value="Itemized" formControlName="shipmentType" 
                        (change)="checkForShipmentType(billOfLading.controls['shipmentType'].value)" 
                       [disabled]="true"/>
                        <label style="font-size:12px!important;">Itemized (Provide detail of shipment)</label>
                        </div> 
                        <div class="col-md-4 form-group radio-group" style="margin-left: 60px" *ngIf="isDisabledItemize === false">
                          <input type="radio" class="option-input radio" id="shipmentTypesItemized2"  value="Itemized" formControlName="shipmentType" 
                          (change)="checkForShipmentType(billOfLading.controls['shipmentType'].value)" 
                          />
                          <label style="font-size:12px!important;">Itemized (Provide detail of shipment)</label>
                          </div>    
                </div>
                <div class="row">
                    <div class="col-md-4 form-group radio-group" style="margin-left: 60px" *ngIf="isDisabledMultiClass === true">
                        <input type="radio" class="option-input radio" id="shipmentTypesMultiClass1"  value="Multi Classed Pallet" formControlName="shipmentType" 
                        (change)="checkForShipmentType(billOfLading.controls['shipmentType'].value)" 
                       [disabled]="true"/>
                        <label style="font-size:12px!important;">Multi Classed (Specific multiple classes and weights on pallet)</label>
                        </div>
                        <div class="col-md-4 form-group radio-group" style="margin-left: 60px" *ngIf="isDisabledMultiClass === false">
                          <input type="radio" class="option-input radio" id="shipmentTypesMultiClass2"  value="Multi Classed Pallet" formControlName="shipmentType" 
                          (change)="checkForShipmentType(billOfLading.controls['shipmentType'].value)" 
                          />
                          <label style="font-size:12px!important;">Multi Classed (Specific multiple classes and weights on pallet)</label>
                          </div>
                </div>
                <div class ="row">
                  <div >
                    <div class="col-md-4 form-group radio-group" style="margin-left: 60px" >
                  <input type="radio" class="option-input radio" id="shipmentTypes2" value="voltl" formControlName="shipmentType" 
                  (change)="checkForShipmentType(billOfLading.controls['shipmentType'].value)"
                  />
                  <label style="font-size:12px!important;">VOL/T/L</label>
                </div>
                </div>
                </div>
                <div class="table-quote">
                  <div class="table-responsive" style="overflow-x:inherit;" *ngIf="showShipmentTable">
                    <span  *ngIf="showoverdimensionerror" style="color: #FF0000;font-size:medium">(Please Note: the dimension(s) provided exceed 8 and may be subject to an over-dimensional charge by the carrier.  Please contact Forte for additional information.)</span>
                    <table class="table table-bordered" *ngIf="nonItemizeShipmentTable">
                      <thead>
                      <tr>
                        <td width="1%">Hazmat</td>
                        <td width="15%">Handling Units <span style="color: #FF0000">*</span></td>
                        <td width="14%" >Pieces Count <span style="color: #FF0000">*</span></td>
                        <td width="16%">Weight(lbs) <span style="color: #FF0000">*</span><span style="color: #FF0000" *ngIf="checkForWeight">Contact call center 800-501-9922, Weight is more</span></td>
                        <td width="20%">Description <span style="color: #FF0000">*</span><span style="color: #FF0000" *ngIf="!showAddField">See Below For Breakdown</span></td>
                        <td colspan="3" width="19%">Dimensions (in.) (L*W*H) <span *ngIf="showFlagForDimensions" style="color: #FF0000">(Please Enter the (L*W*H) Pieces > 7)</span></td>
                        <td width="11%">NMFC# <span style="color: #FF0000">*</span>(111111s11) <span style="color: #FF0000" *ngIf="showNmfcErrorMsg">Format is (111111s11)</span></td>
                        <td width="11%">Class <span style="color: #FF0000">*</span></td>
                        <td width="1%">Cubic FT</td>
                        <td width="3%">Add</td>
                      </tr>
                      </thead>
                      <tbody>
                      <tr>
                        <td>
                          <input type="checkbox" id="hazmat2" class="option-input radio" style="top:0px;" value="true" (change)="selecthazad(billOfLading.value)" formControlName="hazmat"/>
                        </td>
                         <td>
                          <div style="display: flex">
                            <input type="text" class="form-control" placeholder="Qty" id="handlingUnitQuantity" formControlName="handlingUnitQuantity" (keydown)="checkEnterKey($event, 'handlingUnitQuantity')" 
                                   maxlength="4"
                                   ngPattern="/[0-9]/" style="width:70px;"
                                   onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (change)="checkForNumber(billOfLading.controls['handlingUnitQuantity'].value, 'handlingUnits')" autocomplete="nope" >
                            <select class="form-control" id="handlingUnitType" formControlName="handlingUnitType" (keydown)="checkEnterKey($event, 'handlingUnitType')">
                              <option *ngFor="let unit of handlingUnitTypeArray" value="{{unit}}">{{unit}}</option>
                            </select>
                           </div>
                        </td>
                        <td >
                          <div style="display: flex">
                            <input type="text" class="form-control"  id="packageQuantity" placeholder="Qty" formControlName="packageQuantity" (keydown)="checkEnterKey($event, 'packageQuantity')"
                                   maxlength="4"
                                   ngPattern="/[0-9]/" style="width:60px;"
                                   onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (change)="checkForNumber(billOfLading.controls['packageQuantity'].value, 'package')" autocomplete="nope" >
                            <select class="form-control" id="packageUnitType" formControlName="packageUnitType" (keydown)="checkEnterKey($event, 'packageUnitType')">
                              <option *ngFor="let package of packageUnitArray" value={{package}}>{{package}}</option>
                            </select>
                             </div>
                        </td>
                        <td>
                          <div class="input-group" style="display: flex">
                            <input type="text" class="form-control" id="weight" placeholder="(lbs)" name="search" formControlName="weight" (keydown)="checkEnterKey($event, 'weight')" (keyup.enter)="checkEnterKey($event, 'weight')"
                                   maxlength="5" ngPattern="/[0-9]/" style="width:70px;"
                                   onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (onblur)="checkWeight(billOfLading.controls['weight'].value)"
                                   (change)="checkForNumber(billOfLading.controls['weight'].value, 'weight'); checkWeight(billOfLading.controls['weight'].value)" autocomplete="nope">
                                   <select class="form-control" id="weightUnit" formControlName="weightUnitType" (keydown)="checkEnterKey($event, 'weightUnit')">
                                    <option *ngFor="let unit of weightUnitTypeArray" value="{{unit}}">{{unit}}</option>
                                    </select>
                                  </div>
                                </td>
                        <td>
                          <div class="input-group">
                             <textarea class="form-control" rows="1" id="desc" placeholder="Description" (keydown)="checkEnterKey($event, 'desc')"
                                       formControlName="description" (input)="checkDescription(billOfLading.controls['description'].value)" autocomplete="nope"> </textarea>
                                       <!-- <textarea class="form-control" rows="1" id="desc" placeholder="Description" (keydown)="checkEnterKey($event, 'desc')"
                                       formControlName="description" (change)="checkDescription(billOfLading.controls.description.value)" autocomplete="nope"> </textarea> -->
                            <div class="input-group-btn">
                              <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown"
                               aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                              <div class="dropdown-menu" style="padding: 0px;height:200px;overflow: auto;width: 500px">
                                <table class="table table-bordered" style="margin-bottom: 0px;border:none" >
                                    <thead>
                                  <tr>
                                    <td>Template Name</td>
                                    <td>Description</td>
                                    <td>Class</td>
                                  </tr>
                                  </thead>
                                  <tbody *ngIf="!itemTemplatesPresent">
                                  <tr *ngFor="let itemTemplates of itemTemplate" class="noIbar" 
                                  (click)="getItemClickValues(itemTemplates.id, 'choose', 'template')">
                                    <td id="templateNameClass">{{itemTemplates?.templateName}}</td>
                                    <td id="description1">{{itemTemplates?.description}}</td>
                                    <td id="templateClass">{{itemTemplates?.class}}</td>
                                  </tr>
                                  </tbody>
                                  <tbody *ngIf="itemTemplatesPresent">
                                    <tr>
                                      <td colspan="3" rowspan ="3">
                                        <label >No Templates Available</label>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>     
                              </div>
                              <button class="btn btn-outline-secondary" type="button" data-toggle="modal" data-target="#description-modal"><i class="fa fa-pencil"></i></button>
                            </div>
                          </div>
                        </td>
                        <td><input type="text" class="form-control" id="length" placeholder="L" formControlName="length" maxlength="4" 
                                   ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls['length'].value, 'length'); checkDimensions(billOfLading.value, 'billOfLading')"
                                   onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'length')"autocomplete="nope" ></td>
                        <td><input type="text" class="form-control" id="width" placeholder="W" formControlName="width" maxlength="4" 
                                   ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls['width'].value, 'width'); checkDimensions(billOfLading.value, 'billOfLading')"
                                   onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'width')" autocomplete="nope" ></td>
                        <td><input type="text" class="form-control" id="height" placeholder="H" formControlName="height" maxlength="4" 
                                   ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls['height'].value, 'height');checkDimensions(billOfLading.value, 'billOfLading')"
                                   onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'height')" autocomplete="nope" ></td>
                          <td><input type="text"class="form-control" id="nmfc" name="cpf3"  pattern="000000S00" ngPattern="/[0-9Ss]/" 
                            onkeyup="this.value=this.value.replace(/[^0-9Ss]+/g,'')" formControlName="nmfc" (change)="changedDecimal($event)" minlength="4" maxlength="9" id="cpf3" (keydown)="checkEnterKey($event, 'nmfc')" autocomplete="nope"  required>
                            </td>
                        <td>
                          <select class="form-control" style="padding: 6px 0px!important;width:58px!important;" id="classification" formControlName="classification" (keydown)="checkEnterKey($event, 'classification')"
                                  (change)="checkForClassification(billOfLading.controls['classification'].value)">
                            <option value="" hidden>Select</option>
                            <option *ngFor="let class of classArray" value="{{class}}">{{class}}</option>
                          </select>
                        </td>
                        <td>
                           <input type="text" class="form-control" id="cube" placeholder="Cube" formControlName="cube" 
                                 maxlength="8"
                                 ngPattern="/[0-9]/" 
                                 onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'cube')"autocomplete="nope" >
                        </td>
                        <td *ngIf="showAddField">
                          <button class="tab-icon fa fa-plus-circle" id="addButton"
                                  [disabled]="billOfLading.controls['classification'].value==='' || billOfLading.controls['packageQuantity'].value==='' || billOfLading.controls['handlingUnitQuantity'].value==='' 
                                  || billOfLading.controls['description'].value==='' || billOfLading.controls['packageQuantity'].value===''  || this.newWeight=='' || this.newWeight==0 || billOfLading.controls['nmfc'].value===''"
                                  (click)="addRow(billOfLading.value)"></button>
                                  <div id="chatbot-tooltip-container" *ngIf="showToolTip">
                                    <div class="chatbot-tooltip">
                                      <div class="chatbot-tooltiptext">
                                        <div><button class="chatbot-tooltip-close" onClick="hideTooltip()">x</button></div>
                                        <div class="chatbot-tooltip-text-msg">
Please click the plus sign to continue to create BOL                                         </div>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- <button class="tab-icon fa fa-plus-circle" id="addButton"
                                  [disabled]="!billOfLading.controls.classification.valid || !billOfLading.controls.packageQuantity.valid || !billOfLading.controls.handlingUnitQuantity.valid 
                                  || !billOfLading.controls.description.valid || addRowForExistingQuote === true || setFlagForDimensions === true || !billOfLading.controls.packageQuantity.value || this.description === '' || this.newWeight === '' || this.newWeight === 0 || !billOfLading.controls.nmfc.valid"
                                  (click)="addRow(billOfLading.value)"></button> -->
                        </td>
                        <td *ngIf="!showAddField">
                          <button class="tab-icon" id="editButton"
                                  [disabled]="!billOfLading.controls['classification'].valid || !billOfLading.controls['weight'].valid || !billOfLading.controls['packageQuantity'].valid ||!billOfLading.controls['handlingUnitQuantity'].valid || !billOfLading.controls['description'].valid || addRowForExistingQuote === true || !billOfLading.controls['nmfc'].valid"
                                  (click)="updateRow(billOfLading.value, 'addFeature')"><i
                            class="fa fa-check" aria-hidden="true"></i></button>
                        </td>
                      </tr>
                      </tbody>
                    </table>
                    <table class="table table-bordered" *ngIf="multiClassShipmentTable">
                        <thead>
                        <tr>
                          <td width="1%">Hazmat</td>
                          <td width="15%">Handling Units <span style="color: #FF0000">*</span></td>
                          <td width="14%" >Pieces Count <span style="color: #FF0000">*</span></td>
                          <td width="16%">Weight(lbs) <span style="color: #FF0000">*</span><span style="color: #FF0000" *ngIf="checkForWeight">Contact call center 800-501-9922, Weight is more</span></td>
                          <td width="20%">Description</td>
                          <td colspan="3" width="19%">Dimensions (in.) (L*W*H) <span *ngIf="showFlagForDimensions" style="color: #FF0000">(Please Enter the (L*W*H) Pieces > 7)</span>
                       </td>
                          <!-- <td width="11%">NMFC# (111111s11) <span style="color: #FF0000" *ngIf="showNmfcErrorMsg">Format is (111111s11)</span></td>
                          <td width="11%">Class <span style="color: #FF0000">*</span></td> -->
                          <td width="1%">Cubic FT</td>
                          <td width="3%">Add</td>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                          <td>
                            <input type="checkbox" id="hazmat1" class="option-input radio" style="top:0px;" value="true" (change)="selecthazad(billOfLading.value)" formControlName="hazmat"/>
                          </td>
                           <td>
                            <div style="display: flex">
                              <input type="text" class="form-control" placeholder="Qty" id="handlingUnitQuantityForMultiClass" formControlName="handlingUnitQuantity" (keydown)="checkEnterKey($event, 'handlingUnitQuantity')" 
                                     maxlength="4"
                                     ngPattern="/[0-9]/" style="width:70px;"
                                     onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (change)="checkForNumber(billOfLading.controls['handlingUnitQuantity'].value, 'handlingUnits')" autocomplete="nope" >
                              <select class="form-control" id="handlingUnitType" formControlName="handlingUnitType" (keydown)="checkEnterKey($event, 'handlingUnitType')">
                                <option *ngFor="let unit of handlingUnitTypeArray" value="{{unit}}">{{unit}}</option>
                              </select>
                             </div>
                          </td>
                          <td >
                            <div style="display: flex">
                              <input type="text" class="form-control"  id="packageQuantityForMultiClass" placeholder="Qty" formControlName="packageQuantity"
                               (keydown)="checkEnterKey($event, 'packageQuantityMultiClass')"
                                     maxlength="4"
                                     ngPattern="/[0-9]/" style="width:60px;" autofocus
                                     onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (change)="checkForNumber(billOfLading.controls['packageQuantity'].value, 'package')" autocomplete="nope" >
                              <select class="form-control" id="packageUnitType" formControlName="packageUnitType" (keydown)="checkEnterKey($event, 'packageUnitType')">
                                <option *ngFor="let package of packageUnitArray" value={{package}}>{{package}}</option>
                              </select>
                               </div>
                          </td>
                          <td>
                            <div class="input-group" style="display: flex">
                              <input type="text" class="form-control" id="weightForMultiClass" placeholder="(lbs)" name="search" formControlName="weight" (keydown)="checkEnterKey($event, 'weightForMultiClass')" (keyup.enter)="checkEnterKey($event, 'weight')"
                                     maxlength="5" ngPattern="/[0-9]/" style="width:80px;"
                                     onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (onblur)="checkWeight(billOfLading.controls['weight'].value)"
                                     (change)="checkForNumber(billOfLading.controls['weight'].value, 'weight'); checkWeight(billOfLading.controls['weight'].value)" autocomplete="nope">
                                     <select class="form-control" id="weightUnit" formControlName="weightUnitType" (keydown)="checkEnterKey($event, 'weightUnit')">
                                      <option *ngFor="let unit of weightUnitTypeArray" value="{{unit}}">{{unit}}</option>
                                      </select>
                                    </div>
                                  </td>
                          <td>
                            <div class="input-group">
                               <textarea class="form-control" rows="1" id="descForMultiClass" placeholder="Description" (keydown)="checkEnterKey($event, 'descForMultiClass')"
                                         formControlName="description" (change)="checkDescription(billOfLading.controls['description'].value)" autocomplete="nope" readonly> </textarea>
                              <div class="input-group-btn">
                                <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"[disabled]="true"><i class="fa fa-caret-down"></i></button>
                                <div class="dropdown-menu" style="padding: 0px;height:200px;overflow: auto;width: 400px">
                                  <table class="table table-bordered" style="margin-bottom: 0px;border:none" >
                                      <thead>
                                    <tr>
                                      <td>Template Name</td>
                                      <td>Description</td>
                                      <!-- <td>Weight</td> -->
                                    </tr>
                                    </thead>
                                    <tbody *ngIf="!itemTemplatesPresent">
                                    <tr *ngFor="let itemTemplates of itemTemplate" class="noIbar" 
                                    (click)="getItemClickValues(itemTemplates.id, 'choose', 'template')">
                                      <td id="templateName2">{{itemTemplates?.templateName}}</td>
                                      <td id="templateDescription">{{itemTemplates?.description}}</td>
                                      <!-- <td>{{itemTemplates?.weight}}</td> -->
                                    </tr>
                                    </tbody>
                                    <tbody *ngIf="itemTemplatesPresent">
                                      <tr>
                                        <td colspan="3" rowspan ="3">
                                          <label >No Templates Available</label>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>     
                                </div>
                                <button class="btn btn-outline-secondary" type="button"><i class="fa fa-pencil"></i></button>
                              </div>
                            </div>
                          </td>
                          <td><input type="text" class="form-control" id="length" placeholder="L" formControlName="length" maxlength="4" 
                                     ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls['length'].value, 'length'); checkDimensions(billOfLading.value, 'billOfLading')"
                                     onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'length')"autocomplete="nope" ></td>
                          <td><input type="text" class="form-control" id="width" placeholder="W" formControlName="width" maxlength="4" 
                                     ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls['width'].value, 'width'); checkDimensions(billOfLading.value, 'billOfLading')"
                                     onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'width')" autocomplete="nope" ></td>
                          <td><input type="text" class="form-control" id="height" placeholder="H" formControlName="height" maxlength="4" 
                                     ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls['height'].value, 'height');checkDimensions(billOfLading.value, 'billOfLading')"
                                     onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'heightForMultiClass')" autocomplete="nope" ></td>
                           
                          <td>
                             <input type="text" class="form-control" id="cube" placeholder="Cube" formControlName="cube" 
                                   maxlength="3"
                                   ngPattern="/[0-9]/" 
                                   onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'cube')"autocomplete="nope" >
                          </td>
                          <td *ngIf="showAddField">
                            <button class="tab-icon fa fa-plus-circle" id="addButton"
                                    [disabled]="!billOfLading.controls['packageQuantity'].valid || !billOfLading.controls['handlingUnitQuantity'].valid 
                                     || addRowForExistingQuote === true || setFlagForDimensions === true || !billOfLading.controls['packageQuantity'].value || this.newWeight === '' || this.newWeight === 0"
                                    (click)="addRow(billOfLading.value)"></button>
                          </td>
                          <td *ngIf="!showAddField">
                            <button class="tab-icon" id="editButton"
                                    [disabled]="!billOfLading.controls['classification'].valid || !billOfLading.controls['weight'].valid || !billOfLading.controls['packageQuantity'].valid ||!billOfLading.controls['handlingUnitQuantity'].valid || !billOfLading.controls['description'].valid || addRowForExistingQuote === true"
                                    (click)="updateRow(billOfLading.value, 'addFeature')"><i
                              class="fa fa-check" aria-hidden="true"></i></button>
                          </td>
                        </tr>
                        </tbody>
                      </table>

                      <table class="table table-bordered" *ngIf="voltlTable">
                        <thead>
                        <tr>
                          <td width="1%">Hazmat</td>
                          <td width="15%">Handling Units </td>
                          <td width="14%" >Pieces Count </td>
                          <td width="16%">Weight(lbs) <span style="color: #FF0000" *ngIf="checkForWeight">Contact call center 800-501-9922, Weight is more</span></td>
                          <td width="20%">Description <span style="color: #FF0000" *ngIf="!showAddField">See Below For Breakdown</span></td>
                          <td colspan="3" width="19%">Dimensions (in.) (L*W*H) <span *ngIf="showFlagForDimensions" style="color: #FF0000">(Please Enter the (L*W*H) Pieces > 7)</span>    
                          </td>
                          <td width="11%">NMFC# (111111s11) <span style="color: #FF0000" *ngIf="showNmfcErrorMsg">Format is (111111s11)</span></td>
                          <td width="11%">Class </td>
                          <td width="1%">Cubic FT</td>
                          <td width="3%">Add</td>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                          <td>
                            <input type="checkbox" id="hazmat2" class="option-input radio" style="top:0px;" (change)="selecthazad(billOfLading.value)" value="true" formControlName="hazmat"/>
                          </td>
                           <td>
                            <div style="display: flex">
                              <input type="text" class="form-control" placeholder="Qty" id="handlingUnitQuantity" formControlName="handlingUnitQuantity" (keydown)="checkEnterKey($event, 'handlingUnitQuantity')" 
                                     maxlength="4"
                                     ngPattern="/[0-9]/" style="width:70px;"
                                     onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (change)="checkForNumber(billOfLading.controls['handlingUnitQuantity'].value, 'handlingUnits')" autocomplete="nope" >
                              <select class="form-control" id="handlingUnitType" formControlName="handlingUnitType" (keydown)="checkEnterKey($event, 'handlingUnitType')">
                                <option *ngFor="let unit of handlingUnitTypeArray" value="{{unit}}">{{unit}}</option>
                              </select>
                             </div>
                          </td>
                          <td >
                            <div style="display: flex">
                              <input type="text" class="form-control"  id="packageQuantity" placeholder="Qty" formControlName="packageQuantity" (keydown)="checkEnterKey($event, 'packageQuantity')"
                                     maxlength="4"
                                     ngPattern="/[0-9]/" style="width:60px;"
                                     onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (change)="checkForNumber(billOfLading.controls['packageQuantity'].value, 'package')" autocomplete="nope" >
                              <select class="form-control" id="packageUnitType" formControlName="packageUnitType" (keydown)="checkEnterKey($event, 'packageUnitType')">
                                <option *ngFor="let package of packageUnitArray" value={{package}}>{{package}}</option>
                              </select>
                               </div>
                          </td>
                          <td>
                            <div class="input-group" style="display: flex">
                              <input type="text" class="form-control" id="weight" placeholder="(lbs)" name="search" formControlName="weight" (keydown)="checkEnterKey($event, 'weight')" (keyup.enter)="checkEnterKey($event, 'weight')"
                                     maxlength="5" ngPattern="/[0-9]/" style="width:70px;"
                                     onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (onblur)="checkWeight(billOfLading.controls['weight'].value)"
                                     (change)="checkForNumber(billOfLading.controls['weight'].value, 'weight'); checkWeight(billOfLading.controls['weight'].value)" autocomplete="nope">
                                     <select class="form-control" id="weightUnit" formControlName="weightUnitType" (keydown)="checkEnterKey($event, 'weightUnit')">
                                      <option *ngFor="let unit of weightUnitTypeArray" value="{{unit}}">{{unit}}</option>
                                      </select>
                                    </div>
                                  </td>
                          <td>
                            <div class="input-group">
                               <textarea class="form-control" rows="1" id="desc" placeholder="Description" (keydown)="checkEnterKey($event, 'desc')"
                                         formControlName="description" (input)="checkDescription(billOfLading.controls['description'].value)" autocomplete="nope"> </textarea>
                                         <!-- <textarea class="form-control" rows="1" id="desc" placeholder="Description" (keydown)="checkEnterKey($event, 'desc')"
                                         formControlName="description" (change)="checkDescription(billOfLading.controls.description.value)" autocomplete="nope"> </textarea> -->
                              <div class="input-group-btn">
                                <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown"
                                 aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                                <div class="dropdown-menu" style="padding: 0px;height:200px;overflow: auto;width: 500px">
                                  <table class="table table-bordered" style="margin-bottom: 0px;border:none" >
                                      <thead>
                                    <tr>
                                      <td>Template Name</td>
                                      <td>Description</td>
                                      <td>Class</td>
                                    </tr>
                                    </thead>
                                    <tbody *ngIf="!itemTemplatesPresent">
                                    <tr *ngFor="let itemTemplates of itemTemplate" class="noIbar" 
                                    (click)="getItemClickValues(itemTemplates.id, 'choose', 'template')">
                                      <td id="templateNameClass">{{itemTemplates?.templateName}}</td>
                                      <td id="description1">{{itemTemplates?.description}}</td>
                                      <td id="templateClass">{{itemTemplates?.class}}</td>
                                    </tr>
                                    </tbody>
                                    <tbody *ngIf="itemTemplatesPresent">
                                      <tr>
                                        <td colspan="3" rowspan ="3">
                                          <label >No Templates Available</label>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>     
                                </div>
                                <button class="btn btn-outline-secondary" type="button" data-toggle="modal" data-target="#description-modal"><i class="fa fa-pencil"></i></button>
                              </div>
                            </div>
                          </td>
                          <td><input type="text" class="form-control" id="length" placeholder="L" formControlName="length" maxlength="4" 
                                     ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls['length'].value, 'length'); checkDimensions(billOfLading.value, 'billOfLading')"
                                     onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'length')"autocomplete="nope" ></td>
                          <td><input type="text" class="form-control" id="width" placeholder="W" formControlName="width" maxlength="4" 
                                     ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls['width'].value, 'width'); checkDimensions(billOfLading.value, 'billOfLading')"
                                     onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'width')" autocomplete="nope" ></td>
                          <td><input type="text" class="form-control" id="height" placeholder="H" formControlName="height" maxlength="4" 
                                     ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls['height'].value, 'height');checkDimensions(billOfLading.value, 'billOfLading')"
                                     onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'height')" autocomplete="nope" ></td>
                            <td><input type="text"class="form-control" id="nmfc" name="cpf3" mask="999999S99" pattern="000000S00" ngPattern="/[0-9Ss]/" 
                              onkeyup="this.value=this.value.replace(/[^0-9Ss]+/g,'')" formControlName="nmfc" (change)="changedDecimal($event)" minlength="4" maxlength="9" id="cpf3" (keydown)="checkEnterKey($event, 'nmfc')" autocomplete="nope"  required>
                              </td>
                          <td>
                            <select class="form-control" style="padding: 6px 0px!important;width:58px!important;" id="classification" formControlName="classification" (keydown)="checkEnterKey($event, 'classification')"
                                    (change)="checkForClassification(billOfLading.controls['classification'].value)">
                              <option value="" hidden>Select</option>
                              <option *ngFor="let class of classArray" value="{{class}}">{{class}}</option>
                            </select>
                          </td>
                          <td>
                             <input type="text" class="form-control" id="cube" placeholder="Cube" formControlName="cube" 
                                   maxlength="8"
                                   ngPattern="/[0-9]/" 
                                   onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'cube')"autocomplete="nope" >
                          </td>
                          <td *ngIf="showAddField">
                            <button class="tab-icon fa fa-plus-circle" id="addButton"
                                    
                                    (click)="addRow(billOfLading.value)"></button>
                                    <div id="chatbot-tooltip-container" *ngIf="showToolTip">
                                      <div class="chatbot-tooltip">
                                        <div class="chatbot-tooltiptext">
                                          <div><button class="chatbot-tooltip-close" onClick="hideTooltip()">x</button></div>
                                          <div class="chatbot-tooltip-text-msg">
  Please click the plus sign to continue to create BOL                                         </div>
                                        </div>
                                      </div>
                                    </div>
                                    <!-- <button class="tab-icon fa fa-plus-circle" id="addButton"
                                    [disabled]="!billOfLading.controls.classification.valid || !billOfLading.controls.packageQuantity.valid || !billOfLading.controls.handlingUnitQuantity.valid 
                                    || !billOfLading.controls.description.valid || addRowForExistingQuote === true || setFlagForDimensions === true || !billOfLading.controls.packageQuantity.value || this.description === '' || this.newWeight === '' || this.newWeight === 0 || !billOfLading.controls.nmfc.valid"
                                    (click)="addRow(billOfLading.value)"></button> -->
                          </td>
                          <td *ngIf="!showAddField">
                            <button class="tab-icon" id="editButton"
                                    [disabled]="!billOfLading.controls['classification'].valid || !billOfLading.controls['weight'].valid || !billOfLading.controls['packageQuantity'].valid ||!billOfLading.controls['handlingUnitQuantity'].valid || !billOfLading.controls['description'].valid || addRowForExistingQuote === true || !billOfLading.controls['nmfc'].valid"
                                    (click)="updateRow(billOfLading.value, 'addFeature')"><i
                              class="fa fa-check" aria-hidden="true"></i></button>
                          </td>
                        </tr>
                        </tbody>
                      </table>
                   
                  <!--common table-->
                  <table class="table table-bordered" *ngIf="showAddedValue">         
                      <tr>
                        <td class="green-txt bg-td" rowspan="2">HazMat</td>
                        <td class="green-txt bg-td" rowspan="2">Handling Units</td>
                        <td class="green-txt bg-td" rowspan="2">Tot. Weight</td>
                        <td class="green-txt bg-td" rowspan="2">Dimension(L*W*H)</td>
                        <!-- <td class="green-txt bg-td" rowspan="2">NMFC#</td>-->
                        <td class="green-txt bg-td" rowspan="2">Class</td> 
                        <td class="green-txt bg-td" rowspan="2">Cubic FT</td>
                        <td class="green-txt bg-td" colspan="5">Pieces</td>
                        <td class="green-txt bg-td" rowspan="2">Add <br>Pieces</td>
                        <!-- <td class="green-txt bg-td" rowspan="2">Multi Classed<br>Pallet</td> -->
                        <td class="green-txt bg-td" rowspan="2">Edit</td>
                        <td class="green-txt bg-td" rowspan="2">Delete</td>
                        <td class="green-txt bg-td" rowspan="2">Save</td>
                      </tr>
                      <tr>
                          <td class="green-txt bg-td">Pieces Unit</td>
                          <td class="green-txt bg-td">Description</td>
                          <td class="green-txt bg-td">Class</td>
                          <td class="green-txt bg-td">Weight</td>
                          <td class="green-txt bg-td">NMFC#</td>
                        </tr>
                        <tr *ngIf="detailArray.length > 0"><td colspan="17" class="green-txt bg-td">Non-Itemized Line Items</td></tr>
                        <tbody>
                        <tr *ngFor="let detail of detailArray;let i=index">
                            <td id="itemizedHazmat"><i *ngIf="detail.isHazardous === true" class="fa fa-check" aria-hidden="true"></i>
                              <i *ngIf="detail.isHazardous === false || detail.isHazardous === ''" >-</i></td>
                           <td id="nonItemizedHandlingQuantitynadUnit">{{detail.HandlingUnitQuantity}} {{detail.HandlingUnitType}}</td>
                           <td id="nonitemizedWeight">{{detail.Weight.Value}}</td>
                           <td id="nonitemizedDimensions">{{detail.Dimensions.Length}}*{{detail.Dimensions.Width}}*{{detail.Dimensions.Height}}</td>
                           <!-- <td>{{detail.nmfc}}</td>-->
                           <td id="nonitemizedFreightClass">{{detail.FreightClass}}</td> 
                           <td id="nonitemizedCube">{{detail.cube}}</td>
                           <td id="nonitemizedPackage">{{detail.PackageQuantity}} {{detail.PackageUnitType}}</td>
                           <td id="nonitemizedDescription">{{detail.Description}}</td>
                           <td>&nbsp;</td>
                           <td>-</td>
                           <td id="nonitemizednmfc">{{detail.nmfc}}</td>
                           <td ><i class="fa fa-remove orange-icon" aria-hidden="true"></i></td>
                           <td id="nonitemizedEditRow" (click)="editRow(detail,i)" data-target="#new-edit-modal" data-toggle="modal"><i class="fa fa-edit blue-icon" aria-hidden="true"></i></td>
                           <td id="nonutemizedDeleteRow" (click)="deleteRow(i, detail, 'Non Itemize')"><i class="fa fa-trash-o red-icon" aria-hidden="true"></i></td>
                           <td><i class="fa fa-save green-icon" aria-hidden="true"></i></td>
                         </tr>
                        </tbody>
                         <tr *ngIf="detailvoltlArray.length > 0"><td colspan="17" class="green-txt bg-td">VOL/TL Items</td></tr>
                        <tbody>
                         <tr *ngFor="let detail of detailvoltlArray;let i=index">
                             <td id="itemizedHazmat"><i *ngIf="detail.isHazardous === true" class="fa fa-check" aria-hidden="true"></i>
                               <i *ngIf="detail.isHazardous === false || detail.isHazardous === ''" >-</i></td>
                            <td id="nonItemizedHandlingQuantitynadUnit">{{detail.HandlingUnitQuantity}} {{detail.HandlingUnitType}}</td>
                            <td id="nonitemizedWeight">{{detail.Weight.Value}}</td>
                            <td id="nonitemizedDimensions">{{detail.Dimensions.Length}}*{{detail.Dimensions.Width}}*{{detail.Dimensions.Height}}</td>
                            <!-- <td>{{detail.nmfc}}</td>-->
                            <td id="nonitemizedFreightClass">{{detail.FreightClass}}</td> 
                            <td id="nonitemizedCube">{{detail.cube}}</td>
                            <td id="nonitemizedPackage">{{detail.PackageQuantity}} {{detail.PackageUnitType}}</td>
                            <td id="nonitemizedDescription">{{detail.Description}}</td>
                            <td>&nbsp;</td>
                            <td>-</td>
                            <td id="nonitemizednmfc">{{detail.nmfc}}</td>
                            <td ><i class="fa fa-remove orange-icon" aria-hidden="true"></i></td>
                            <td id="nonitemizedEditRow" (click)="editRow(detail,i)" data-target="#new-edit-modal" data-toggle="modal"><i class="fa fa-edit blue-icon" aria-hidden="true"></i></td>
                            <td id="nonutemizedDeleteRow" (click)="deleteRow(i, detail, 'Non Itemize')"><i class="fa fa-trash-o red-icon" aria-hidden="true"></i></td>
                            <td><i class="fa fa-save green-icon" aria-hidden="true"></i></td>
                          </tr>
                        </tbody>
                        <tr *ngIf="piecesForItemizeListArray.length > 0">
                          <td colspan="17" class="green-txt bg-td">Itemized Line Items</td></tr>
                        <tbody *ngFor="let detail of piecesForItemizeListArray;let i=index;">
                             <tr style="background-color: #fcf0e4">
                           <td >
                             <i *ngIf="detail.isHazardous === true" class="fa fa-check" aria-hidden="true"></i>
                            <i *ngIf="detail.isHazardous === false || detail.isHazardous === ''">-</i></td>
                           <td id="itemizedHandling">{{detail.HandlingUnitQuantity}} {{detail.HandlingUnitType}}</td>
                           <td id="itemizedWeight"> {{detail.Weight.Value}}</td>
                           <td id="itemizedDimensions">{{detail.Dimensions.Length}}*{{detail.Dimensions.Width}}*{{detail.Dimensions.Height}}</td>
                           <!-- <td >{{detail.nmfc}}</td> -->
                           <td id="itemizedFreightClass">{{detail.FreightClass}}</td>
                           <td id="itemizedCube">{{detail.cube}}</td>
                           <td id="itemizedPackage">{{detail.PackageQuantity}}  {{detail.PackageUnitType}}</td>
                           <td id="itemizedDescription">{{detail.Description}}</td>
                           <td>-</td>
                           <td>-</td>
                           <td id="itemizednmfc">{{detail.nmfc}}</td>
                           <td >
                              <!-- <i *ngIf="detail?.newAddPieces.length === 0" class="fa fa-plus-circle orange-icon" aria-hidden="true"  data-toggle="modal" data-target="#add-pieces-modal" id="addnewpieces1" (keypress)="checkforAddpieces($event)" (click)="checkForValues('Itemize', detail, i)"></i>
                              <i *ngIf="detail?.newAddPieces.length > 0"[disabled]="true" class="fa fa-plus-circle orange-icon" aria-hidden="true"></i> -->
                              <button class="tab-icon" style="background-color: #fcf0e4!important;border: 2px solid #f7f0f0!important;" id="addnewpieces{{i}}" *ngIf="detail?.newAddPieces.length ==0" (keydown)="checkforAddpieces($event)" data-toggle="modal" data-target="#add-pieces-modal"  (click)="checkForValues('Itemize', detail, i)"><i   class="fa fa-plus-circle green-icon" aria-hidden="true"></i>
                              </button>
                              <button class="tab-icon" style="background-color: #fcf0e4!important;border: 2px solid #f7f0f0!important;" id="addnewpieces{{i}}" *ngIf="detail?.newAddPieces.length > 0" (keydown)="checkforAddpieces($event)">                         
                                   <i [attr.disabled]="true" class="fa fa-plus-circle green-icon" aria-hidden="true"></i>
                              </button>
                           </td>
                           <td id="itemizedEditRow" (click)="editRow(detail, i)" data-target="#new-edit-modal" data-toggle="modal"><i class="fa fa-edit blue-icon" aria-hidden="true"></i></td>
                           <td id="itemizedDeleteRow" (click)="deleteRow(i, detail, 'Itemize')"><i class="fa fa-trash-o red-icon" aria-hidden="true"></i></td>
                           <td ><i class="fa fa-save green-icon" aria-hidden="true"></i></td>
                         </tr>
                         <tr *ngFor="let itemize of detail?.newAddPieces; let i=index">
                            <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                            <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                            <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0" ></td>
                            <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                            <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                             <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                             <td id="itemizedPackage1">{{itemize.PackageQuantity}}  {{itemize.PackageUnitType}}</td>
                             <td id="itemizedDescription1">{{itemize.Description}}</td>
                             <td>-</td>
                             <td id="itemizedWeight1">{{itemize.Weight.Value}}</td>
                             <td>-</td>
                             <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                             <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                            <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                          <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                    <!-- <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td> -->
                           </tr>
                          </tbody>
                        <tr *ngIf="piecesForMultiClassListArray.length>0">
                          <td colspan="17" class="green-txt bg-td">Multi Classed Pallet</td></tr>
                   <tbody *ngFor="let detail of piecesForMultiClassListArray;let i=index">
                      <tr style="background-color: #fcf0e4">
                        <td id="multiclassHazmat">
                          <i  *ngIf="detail.isHazardous === true" class="fa fa-check" aria-hidden="true"></i>
                          <i  *ngIf="detail.isHazardous === false || detail.isHazardous === ''">-</i></td>
                        <td id="multiclassHandling">{{detail.HandlingUnitQuantity}} {{detail.HandlingUnitType}}</td>
                        <td id="multiclassWeight" >{{detail.Weight.Value}}</td>
                        <td  id="multiclassDimensions">{{detail.Dimensions.Length}}*{{detail.Dimensions.Width}}*{{detail.Dimensions.Height}}</td>
                        <td>&nbsp;</td> 
                        <td id="multiclassCube" >{{detail.cube}}</td>
                        <td id="multiclassPackage">{{detail.PackageQuantity}} {{detail.PackageUnitType}}</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>-</td>
                        <td>&nbsp;</td>
                        <td >
                            <button class="tab-icon" style="background-color: #fcf0e4!important;border: 2px solid #f7f0f0!important;" id="addnewpieces{{i}}" *ngIf="detail?.newAddPieces.length ==0" (keydown)="checkforAddpieces($event)" data-toggle="modal" data-target="#add-pieces-modal"  (click)="checkForValues('Multi Classed Pallet', detail, i)"><i   class="fa fa-plus-circle green-icon" aria-hidden="true"></i>
                            </button>
                            <button class="tab-icon" style="background-color: #fcf0e4!important;border: 2px solid #f7f0f0!important;" id="addnewpieces{{i}}" *ngIf="detail?.newAddPieces.length > 0" (keydown)="checkforAddpieces($event)">                         
                                 <i [attr.disabled]="true" class="fa fa-plus-circle green-icon" aria-hidden="true"></i>
                            </button>
                         </td>
                         <td  id="multiclassEditRow" (click)="editRow(detail, i)" data-target="#new-edit-modal" data-toggle="modal"><i class="fa fa-edit blue-icon" aria-hidden="true"></i></td>
                        <td id="multiclassDeleteRow" (click)="deleteRow(i, detail, 'Multi Classed Pallet')"><i class="fa fa-trash-o red-icon" aria-hidden="true"></i></td>
                        <td ><i class="fa fa-save green-icon" aria-hidden="true"></i></td>
                      </tr>
                      <tr *ngFor="let multiClass of detail?.newAddPieces;let i=index">
                          <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                          <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                          <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                          <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                          <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                          <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                          <td id="multiclassPackage">{{multiClass.PackageQuantity}} {{multiClass.PackageUnitType}}</td>
                          <td id="multiclassDescription">{{multiClass.Description}}</td>
                          <td id="multiclassFreight">{{multiClass.FreightClass}}</td>
                        <td id="multiclassWeight">{{multiClass.Weight.Value}}</td>
                        <td id="multiclassnmfc">{{multiClass.nmfc}}</td>
                        <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                        <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                        <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                        <td [attr.rowspan]="detail?.rowSpanValues" *ngIf="i==0"></td>
                        </tr>
                      </tbody>      
                   </table>
                   <!---Common table-->
       <!---Common table-->
       
                    <table class="table table-bordered">
                      <tr>
                        <td style="width:40%" rowspan="2" *ngIf="showGetRateButton">
                            <div class="input-group">
                                <label>Special Instructions / Notes</label>
                                <div class="input-group-btn" style="left: -30px;">
                                
                                    <button class="btn btn-outline-secondary dropdown-toggle" type="button" 
                                     data-toggle="dropdown" style="margin-top:10px;padding: 2px 6px;font-size: 10px;" aria-haspopup="true" aria-expanded="false">
                                     <i class="fa fa-caret-down"></i></button>
                                    <div class="dropdown-menu" style="padding: 0px;height:170px;overflow: auto;width:550px;top:0%">
                                        <table class="table table-bordered" style="margin-bottom: 0px;border:none" >
                                            <thead>
                                          <tr>
                                            <td>Template Name</td>
                                            <td>Spl Instructions</td>
                                          </tr>
                                          </thead>
                                          <tbody>
                                          <tr *ngFor="let template of splInstructionTemplate" class="noIbar" 
                                          (click)="getItemClickValuesForSplInst(template.id, 'splInstrucTemplate')">
                                            <td id="instructionTemplat2">{{template?.templateName}}</td>
                                            <td style="word-wrap: break-word; width: 100px" id="specialInstructionName">{{template?.specialInstructions}}</td>
                                          </tr>
                                          </tbody>
                                          <tbody *ngIf="splInstructionTemplatesPresent">
                                            <tr>
                                              <td colspan="3" rowspan ="3">
                                                <label >No Templates Available</label>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>     
                                    </div>
                                  </div>
                                <button class="leg" data-toggle="modal" data-target="#splInstructions-save-modal"
                                (keydown)="eventHandler($event)"  [disabled] ="billOfLading.controls['specialInstructions'].value === ''">
         <i class="fa fa-save" style="float: right;padding:2px;" id="savetemplate2"></i>Save Template</button>
         </div>
                                    <textarea class="form-control" rows="7" id="specialInstructionCount" (input)="checkSpecialInstructionsCount($event)" placeholder="Special Instructions / Notes"
                                  formControlName="specialInstructions" autocomplete="nope" maxlength=250></textarea> 
                                  {{specialInstructionsCharacterCount}} of 250
                             
                        </td>
                        <td style="width:60%" rowspan="2" *ngIf="!showGetRateButton">
                          <div class="input-group">
                            <label>Special Instructions / Notes</label>
                            <div class="input-group-btn" style="left: -30px;">
                            
                                <button class="btn btn-outline-secondary dropdown-toggle" type="button" 
                                 data-toggle="dropdown" style="margin-top:10px;padding: 2px 6px;font-size: 10px;" aria-haspopup="true" aria-expanded="false">
                                 <i class="fa fa-caret-down"></i></button>
                                <div class="dropdown-menu" style="padding: 0px;height:170px;overflow: auto;width:550px;top:0%">
                                    <table class="table table-bordered" style="margin-bottom: 0px;border:none" >
                                        <thead>
                                      <tr>
                                        <td>Template Name</td>
                                        <td>Spl Instructions</td>
                                      </tr>
                                      </thead>
                                      <tbody>
                                      <tr *ngFor="let template of splInstructionTemplate" class="noIbar" 
                                      (click)="getItemClickValuesForSplInst(template.id, 'splInstrucTemplate')">
                                        <td id="instructiontempateName">{{template?.templateName}}</td>
                                        <td style="word-wrap: break-word; width: 100px" id="instructionTemplat1">{{template?.specialInstructions}}</td>
                                      </tr>
                                      </tbody>
                                      <tbody *ngIf="splInstructionTemplatesPresent">
                                        <tr>
                                          <td colspan="3" rowspan ="3">
                                            <label >No Templates Available</label>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>     
                                </div>
                              
                             
                          
                            
                              </div>
                            <button class="leg" data-toggle="modal" data-target="#splInstructions-save-modal" id="saveTemplate1"
                            (keydown)="eventHandler($event)"  [disabled] ="billOfLading.controls['specialInstructions'].value === ''">
      <i class="fa fa-save" style="float: right;padding:2px;"></i>Save Template</button>
      </div>
                            
                                <textarea class="form-control" rows="7" id="SpecialInstructionsId" placeholder="Special Instructions / Notes"
                              formControlName="specialInstructions" autocomplete="nope" (keydown)="checkEnterKey($event, 'SpecialInstructionsId')"></textarea> 
                        </td>
                        <td rowspan="2" style="width:60%" *ngIf="!showGetRateButton && !showRate">
                          <label>Accessorials &nbsp;</label>
                          <!-- <angular2-multiselect *ngIf="disableQuoteNumber" tabindex="1" class="selectBox" id="selectedItems" name="selectedItems"
                                                style="background: #25393f !important; border: #25393f;color: #9c7357; "
                                                [data]="dropdownList" [(ngModel)]="selectedItems"
                                                [settings]="dropdownSettingsDisabled"
                                                (onSelect)="onItemSelect($event)"
                                                (onDeSelect)="OnItemDeSelect($event)"
                                                [ngModelOptions]="{standalone: true}" 
                                                #dropdownRef
                                                ></angular2-multiselect> -->
                                                
                                                <!-- <angular2-multiselect *ngIf="!disableQuoteNumber" tabindex="1" class="selectBox" id="selectedItems" name="selectedItems"
                                                style="background: #25393f !important; border: #25393f;color: #9c7357;"
                                                [data]="dropdownList" [(ngModel)]="selectedItems"
                                                [settings]="dropdownSettings"
                                                (onSelect)="onItemSelect($event)"
                                                (onDeSelect)="OnItemDeSelect($event)"
                                                [ngModelOptions]="{standalone: true}"
                                                #dropdownRef
                                                ></angular2-multiselect> -->
                                                <ng-multiselect-dropdown
                                                [placeholder]="'Choose Accessorials'"
                                                [settings]="dropdownSettings"
                                                [data]="dropdownList"
                                                [(ngModel)]="selectedItems"
                                                [ngModelOptions]="{standalone: true}"
                                              ></ng-multiselect-dropdown>
                                              </td>
                        <td colspan="3" style="width:40%" *ngIf="showRate">
                          <label>Accessorials &nbsp;</label>
                          <!-- <angular2-multiselect *ngIf="disableQuoteNumber" tabindex="1" class="selectBox" id="selectedItems" name="selectedItems"
                                                style="background: #25393f !important; border: #25393f;color: #9c7357;"
                                                [data]="dropdownList" [(ngModel)]="selectedItems"
                                                [settings]="dropdownSettingsDisabled"
                                                (onSelect)="onItemSelect($event)"
                                                (onDeSelect)="OnItemDeSelect($event)"
                                                [ngModelOptions]="{standalone: true}"
                                                #dropdownRef
                                              ></angular2-multiselect> -->
                                                
                                                <!-- <angular2-multiselect *ngIf="!disableQuoteNumber" tabindex="1" class="selectBox" id="selectedItems" name="selectedItems"
                                                style="background: #25393f !important; border: #25393f;color: #9c7357;"
                                                [data]="dropdownList" [(ngModel)]="selectedItems"
                                                [settings]="dropdownSettings"
                                                (onSelect)="onItemSelect($event)"

                                                (onDeSelect)="OnItemDeSelect($event)"
                                                [ngModelOptions]="{standalone: true}"
                                                #dropdownRef
                                                ></angular2-multiselect> -->
                                                <ng-multiselect-dropdown
                                                [placeholder]="'Choose Accessorials'"
                                                [settings]="dropdownSettings"
                                                [data]="dropdownList"
                                                [(ngModel)]="selectedItems"
                                                [ngModelOptions]="{standalone: true}"
                                              ></ng-multiselect-dropdown>
                                              </td>
                    </tr>
                    
                 <!--    <tr>
                      <td style="width:40%" *ngIf="showRate">
                      <label>Rate</label>
                      <div class="input-group" style="width:100%">
                      <div class="input-group-btn">
                      <button class="btn btn-outline-secondary" type="button" style="padding:8px"> $:</button>
                      </div>
                      <input type="text" class="form-control" formControlName="rate" readonly (keydown)="eventHandler($event)"autocomplete="nope" >
                      </div>
                      </td>
                      <td colspan="3" style="width:40%"  *ngIf="billOfLading.controls.serviceType.value === 'OTHERS'">
                          <span class="text-center"
                          style="padding: 35px; color: #FF0000; font-size: 20px;">Forte will not provide a rate, however you can create a BOL if you continue</span>
                        </td>
                      <td *ngIf="billOfLading.controls.rate.value!=='' && showRate"> 
                        <button class="detail" data-target="#quote_details" data-toggle="modal" style="margin-top:20px;" *ngIf="this.factorization !== 'COSTPLUS'" (click)="getResponseFromQuoteId(billOfLading.controls.quoteNumber.value, 'AR')">VIEW</button>
                        <button class="detail" data-target="#costplus_quote_details" data-toggle="modal" style="margin-top:20px;" *ngIf="this.factorization === 'COSTPLUS'" (click)="getResponseFromQuoteId(billOfLading.controls.quoteNumber.value, 'COSTPLUS')">VIEW</button>
                      </td>
                      <td *ngIf="showGetRateButton" style="width:20%">
                      <button class="detail" style="margin-top:20px;"  [disabled]="
                      !billOfLading.controls.shipperCompanyName.valid || !billOfLading.controls.shipperPostalCode.valid ||
                      !billOfLading.controls.shipperState.valid || !billOfLading.controls.shipperCity.valid ||
                      !billOfLading.controls.consigneePostalCode.valid || !billOfLading.controls.consigneeState.valid ||
                      !billOfLading.controls.consigneeCity.valid || pricingDetail.length === 0 "
                      data-toggle="modal" data-target="#getRate-modal" (click)="getCarrierForZipCodes(billOfLading.value)">
                      PICK CARRIER
                      </button>
                      <br>
                      <div *ngIf="showLoader" class="clearfix">&nbsp;</div>
                      <span *ngIf="showLoader" class="text-center"
                      style="padding: 35px; color: #a2705c; font-size: 20px;">
                      <i class="fa fa-spinner fa-spin" aria-hidden="true" style="color: #a2705c; font-size: 20px;"></i>&nbsp;Loading</span>
                      </td>
                      </tr> -->
                      <tr>
                        <td *ngIf="!showNoShipmentError">
                        <input type="checkbox" id="getRate" name="getRate" class="option-input" (change)="checkGetRate($event)" >
                        <label for="getRate" >Show Rate In Next Step </label><br>
                        </td>
                        </tr>
                        <tr *ngIf="billOfLading.controls['serviceType'].value === 'OTHERS'">
                        <td colspan="3" style="width:40%" >
                        <span class="text-center"
                        style="padding: 35px; color: #FF0000; font-size: 20px;">Forte will not provide a rate, however you can create a BOL if you continue</span>
                        </td>
                        </tr>
                      
                      
                      <tr *ngIf="showAdminErrorMessage">
                        <td colspan="12">
                          <span style="color: #FF0000; font-size: 14px;">There is a problem with your request, Please contact admin@Fortetlc.com or call 800.501.9922.</span>
                        </td>
                      </tr>
                      <tr *ngIf="rateErrorResponse">
                        <td colspan="12">
                          <span style="color: #FF0000; font-size: 14px;">{{errorResponse}}</span>
                        </td>
                      </tr>
                      <tr *ngIf="showIfNoRule">
                        <td colspan="12">
                          <span style="color: #FF0000; font-size: 16px;font-weight: bold">There appears to be an issue with this lane, please contact Customer Care @ 253.926.5456 or {{salesRepDetails.salesRepName}}, The Sales Representative</span>
                        </td>
                      </tr>
                      <tr *ngIf="errorResponseInGetRate">
                        <td colspan="12">
                          <span style="color: #FF0000; font-size: 16px; font-weight: bold">There seems to be a network problem. Please Get the rate Again</span>
                        </td>
                      </tr>
                      <tr *ngIf="serviceNotAvailableMsg">
                        <td colspan="12">
                          <span style="color: #FF0000; font-size: 20px; font-weight: bold">There seems to be a problem with the request. Please contact forte operations team</span>
                        </td>
                      </tr>
                      </table>
                  </div>
                </div>
                <div class="row text-center" *ngIf="showErrorMsgForGetRate">
                  <span class="text-center tooltiptext" style="color: #FF0000; font-size:16px; font-weight: bold"> Please Click on the Get Rate, then Proceed to create BOL</span>
                </div>
                <div class="row text-center" *ngIf="showErrorMessage">
                  <span class="text-center  tooltiptext" style="color: #FF0000; font-size:16px; font-weight: bold">Please Fill the Required Fields</span>
                </div>
                <div class="clearfix">&nbsp;</div>
                <div class ="row">
                  <div class="col-md-3 col-md-push-2 green-button text-center">
                  <a data-toggle="modal" data-target="#bolType-modal" (click)="preview(billOfLading['value'])" class="detail" id="preview">
                  <i class="fa fa-desktop" aria-hidden="true" style="margin-right:10px;"></i>PREVIEW</a>
                  </div>
                  <div class="col-md-3 col-md-push-2 green-button text-center">
                  <button class="detail" 
                  [disabled]="
                  !billOfLading.controls['shipperCompanyName'].valid || !billOfLading.controls['shipperPostalCode'].valid ||
                  !billOfLading.controls['shipperState'].valid || !billOfLading.controls['shipperCity'].valid ||
                  !billOfLading.controls['consigneePostalCode'].valid || !billOfLading.controls['consigneeState'].valid ||
                  !billOfLading.controls['consigneeCity'].valid || ((billOfLading.controls['nmfc'].value === '' || billOfLading.controls['packageQuantity'].value === '' || billOfLading.controls['handlingUnitQuantity'].value === ''	
                  || billOfLading.controls['weight'].value === '' || billOfLading.controls['description'].value === ''  || billOfLading.controls['classification'].value === '') && detailArray.length === 0 && billOfLading.controls['shipmentType'].value === 'Non Itemized') || (billOfLading.controls['shipmentType'].value !== 'Non Itemized' && (piecesForItemizeListArray.length === 0 && piecesForMultiClassListArray.length === 0 && detailvoltlArray.length === 0))"
                  (click)=bolCreation(billOfLading) id="create">
                  <i class="fa fa-arrow-circle-right" aria-hidden="true" style="margin-right:10px;"></i>CREATE
                  </button>
                  </div> 
                  <div class="col-md-3 col-md-push-2 green-button text-center">
                  <button class="detail" (click)="refreshPage()" id="clearButton">
                  <i class="fa fa-refresh" aria-hidden="true" style="margin-right:10px;"></i>CLEAR
                  </button>
                  </div>
                  </div>
                </div>
              </div>
            </div>
      
          </div>
        </form>
      
      
      </div>
      <app-footer></app-footer>
      
      
      <!--New Preview Modal-->
      <div id="bolType-modal" class="modal" role=""   data-keyboard="false">
        <div class="modal-dialog modal-lg">
      
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <i (click)="close()" class="close" data-dismiss="modal" style="font-size: 35px; margin-top:-20px;margin-left: 0px;">&times; </i>
              <h4 class="modal-title" style="color: #ffffff">Bill of Lading Preview</h4>
            </div>
           
          <div class="modal-body" id="print-section" style="background-color: #ffffff">
              <div id="section1"  class="print-modal">
               
                <html>
      <head>
          <style type="text/css">
              .txt-justify{
                  text-align: justify;
              }
              .txt-center{
                  text-align: center;
              }
              .txt-right{
                  text-align: right;
              }
              .txt-left{
                  text-align: left;
              }
              .fontpt{
                  font-size:10pt;
              }
              .font9pt{
                  font-size:9pt;
              }
              .full-width{
                  width: 100%;
              }
              .full-height{
                  width: 100%;
              }
              .left-float{
                  float:left;
              }
              .right-float{
                  float:right;
              }
              .padding-rgt3{
                  padding-right:3%;
              }
              .width22{
                  width:22%;
              }
              .width38{
                  width:38%;
              }
              .height110{
                  height: 110px;
              }
              .height80{
                  height: 80px;
              }
              .height20{
                  height: 20px;
              }
              .border{
                  border: 1px solid black;
              }
              .div-col3{
                  border-top: 1px solid black; border-right: 1px solid black; border-bottom: 1px solid black; float:left; width:39.6%; height: 110px;
              }
              .valign{
                  vertical-align:top;
              }
              .inline{
                 display: inline-block;
              }
              .normalfont{
                  font-weight: normal;
              }
              .mediumfont{
                  font-size:medium;
              }
              .smallfont{
                  font-size:small;
              }
              .boldfont{
                  font-weight: bold;
              }
              .border-left{
                  border-left: 1px solid black;
              }
              .font11{
                  font-size: 11pt;
              }
              .font12{
                  font-size: 12pt;
              }
              .ml-60 {
                  margin-left:60px;
              }
              .ml-10 {
                  margin-left:10px;
              }
              .ml-20 {
                  margin-left:20px;
              }
              .ml-40 {
                  margin-left:40px;
              }
              .ml-50 {
                  margin-left:50px;
              }
              .ml-80{
                  margin-left:80px;
              }
              .ml-5{
                  margin-left:5px;
              }
              .pl-20{
                 padding-left: 20px;
              }
              .bt-2{
                  border-top: 2px solid black;
              }
              .bbnone{
                  border-bottom: none;
              }
              .div-col4{
                  margin-left: 50px; float: left; height: 80%; width: 40px; border: 2px solid black;
              }
              .div-col5{
                  margin-left: 25px; float: left; height: 80%; width: 40px; border: 2px solid black; text-align: center;
              }
              .div-col6{
                  margin-left: 45px; float: left; height: 80%; width: 40px; border: 2px solid black;
              }
              .div-col7{
                  margin-left: 72px; float: left; height: 80%; width: 40px; border: 2px solid black;
              }
              .tr-1{
                 width: 100%; background-color:#CCCCCC; margin-top: 1px;
              }
              .undertxt{
                 text-decoration: underline;
              }
              .printForte { display: inline; } .pdfForte { display: none; } .itemRow td { font-weight:normal !important; } td { font-size:9pt; font-family:arial; line-height:1.5em; } span { font-size:9pt; font-family:arial; line-height:1.5em; } div { font-size:9pt; font-family:arial; line-height:1.5em; }#bolContainer { width: 850px; margin: 0 auto; font-family: Arial; line-height:1.5em;margin-top: 4.5em; font-size:9pt; } #bolContainer td { font-size: 9pt; } .controlContainer { font-weight:bold; } .controlInline { margin-left: 10px; } .sectionHeader { width: 100%; background-color: #CCCCCC; font-size: small; clear: both; font-weight: bold; } .itemHeaders { font-weight: bold; } tr.border_bottom td { border-bottom:1px solid black; } tr.border_right, td.right { border-right:1px solid black; } tr.border_not_top td.not_top { border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black; } tr.border_all, td.all { border: 1px solid black; } tr.border_top, td.top { border-top: 1px solid black; } tr.border_left { border-left: 1px solid black; } td.left { border-left: 1px solid black; } table { border-collapse: collapse; } #codInfo { width: 100%; } #codAmount { margin-left: 5%; width: 15%; font-size: 10pt; float: left; } #codChecks { margin-left: 2%; width: 78%; float: left; } @media print { td { font-size:9pt; font-family:arial; line-height:1.5em; } span { font-size:9pt; font-family:arial; line-height:1.5em; } div { font-size:9pt; font-family:arial; line-height:1.5em; } body { margin: 0.5cm 1cm 0.5cm 0.5cm; -webkit-print-color-adjust: exact; } .printSize { font-size: 7pt !important; } .firstRow { height: 10% !important; } .smaller { font-size: 6.5pt !important; } .bigger { font-size: 8.5pt !important; } .noPrint { display:none; } .top-right { width:36.56% !important; } .shipCons { height: 18% !important; } .specInst { height: 15% !important; } .bigger2 { font-size:10pt !important; } .secondLine { padding-right:13.3% !important; } #consTable { width:50.1% !important; } .printForte { display: inline; } .pdfForte { display: none !important; } }
          </style>
      </head>
      <body style="margin-top: -3em;margin-left: -2em;">
      <div id="bolContainer" style="margin:2em;padding:20px">
          <div class="firstRow left-float padding-rgt3 width22 height110">
              <table width="100%" height="100%">
                  <tbody>
                  <tr>
                      <td>
                          <img src="../../assets/images/forte_logo.png" style="height: 60px; width:150px!important" class="full-width">
                      </td>
                  </tr>
                  
                  </tbody>
              </table>
          </div>
          <div class="firstRow border left-float width38 height110 txt-center">
              <br><strong><div class="fontpt">UNIFORM STRAIGHT BILL OF LADING</div>Original-Not Negotiable</strong><br>Carrier SCAC Code: 
              <span id="bolSCAC" class="controlContainer controlInline" *ngIf="previewValue?.serviceType === 'FXFE'">FEDEX FREIGHT ECONOMY</span>
              <span id="bolSCAC" class="controlContainer controlInline" *ngIf="previewValue?.serviceType === 'FXFP'">FEDEX FREIGHT PRIORITY</span>
              <span id="bolSCAC" class="controlContainer controlInline" *ngIf="previewValue?.serviceType !== 'FXFE' && previewValue?.serviceType !== 'FXFP'">{{previewValue?.serviceType}}</span>
              <br>
      </div>
          <div class="top-right firstRow div-col3">
              <table class="full-width full-height">
                  <tbody>
                  <tr class="border_bottom" width="100%" height="30%">
                      <td valign="top">
                          <div class="valign">Date: <span *ngIf="previewValue?.pickupDate!== '' && previewValue?.pickupDate!==null && previewValue?.pickupDate!==undefined" id="bolDate" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.DATE_TIME" class="GrTanGridData inline" title="">{{previewValue?.pickupDate | date:'MM/dd/yyyy'}}</span>
      </span></span></div>
                      </td>
                  </tr>
                  <tr class="border_bottom" width="100%" height="30%">
                      <td valign="top">
                          <div class="">Shipper's Bill of Lading #: <span id="bolShipperBolNumber" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPER_BOL_NUMBER" class="GrTanGridData inline" title="">{{previewValue?.shippersBillOfLading}}</span>
      </span></span></div>
                      </td>
                  </tr>
                  <tr class="border_bottom" width="100%" height="20%">
                      <td>
                          <div class="">PO #: <span id="bolPONumber" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.PO_NUMBER" class="GrTanGridData inline"  title="">{{previewValue?.purchaseOrderNumber}}</span>
      </span></span></div>
                      </td>
                  </tr>
                  <tr width="100%" height="20%">
                      <td>
                          <div class="">Shipper #: <span id="bolShipperNumber" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPER_NUMBER" class="GrTanGridData inline"  title="">{{previewValue?.shipperIdNumber}}</span>
      </span></span></div>
                      </td>
                  </tr>
                  </tbody>
              </table>
          </div>
          <div id="shipConsInfo">
              <table width="100%">
                  <tbody>
                  <tr id="shipConsHead" class="sectionHeader">
                      <td width="25%" class="txt-right font9pt">Shipper (from)</td>
                      <td class="txt-center font9pt normalfont"  width="50%"></td>
                      <td width="25%" class="txt-left font9pt">Consignee (to)</td>
                  </tr>
                  </tbody>
              </table>
              <table width="100%">
                  <tbody>
                  <tr class="border_all">
                      <td width="50%" colspan="3" class="right">Shipper: <span id="bolShipperName" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPER" class="GrTanGridData inline" title="">{{previewValue?.shipperCompanyName}}
                        </span>
      </span></span></td>
                      <td width="50%" colspan="3">Consignee: <span id="bolConsigneeName" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.CONSIGNEE" class="GrTanGridData inline" title="">{{previewValue?.consigneeCompanyName}}</span>
      </span></span></td>
                  </tr>
                  <tr class="border_all">
                    <td width="50%" colspan="3" class="right">Contact Name: <span id="bolShipperName" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPER" class="GrTanGridData inline" title="">{{previewValue?.shipperContactName}}
                      </span>
      </span></span></td>
                    <td width="50%" colspan="3">Contact Name: <span id="bolConsigneeName" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.CONSIGNEE" class="GrTanGridData inline" title="">{{previewValue?.consigneeContactName}}</span>
      </span></span></td>
                </tr>
                  <tr class="border_all">
                      <td width="50%" colspan="3" class="right">Street: <span id="bolShipperStreet" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPERSTREET1" class="GrTanGridData inline" title="">{{previewValue?.shipperStreet1}}</span>
      </span> <span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPERSTREET2" class="GrTanGridData" style="display:inline-block" title="">{{previewValue?.shipperStreet2}}</span>
      </span></span></td>
                      <td width="50%" colspan="3">Destination Street: <span id="bolConsigneeStreet" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.CONSIGNEESTREET1" class="GrTanGridData inline"  title="">{{previewValue?.consigneeStreet1}}</span>
      </span> <span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.CONSIGNEESTREET2" class="GrTanGridData" style="display:inline-block" title="">{{previewValue?.consigneeStreet2}}</span>
      </span></span></td>
                  </tr>
                  <tr class="border_all" height="35px">
                      <td width="25%" valign="top" class="right">City: <br><span id="bolShipperCity" class="controlContainer"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPER_CITY" class="GrTanGridData inline"  title="">{{previewValue?.shipperCity}}</span>
      </span></span></td>
                      <td width="15%" valign="top" class="right">State / Province: <br><span id="bolShipperState" class="controlContainer"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPER_STATE_PROVINCE" class="GrTanGridData inline"  title="">{{previewValue?.shipperState}}</span>
      </span></span></td>
                      <td width="10%" valign="top" class="right">Zip: <br><span id="bolShipperZip" class="controlContainer"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPER_ZIP" class="GrTanGridData inline"  title="">{{previewValue?.shipperPostalCode}}</span>
      </span></span></td>
                      <td width="25%" valign="top" class="right">City: <br><span id="bolConsigneeCity" class="controlContainer"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.CONSIGNEE_CITY" class="GrTanGridData inline"  title="">{{previewValue?.consigneeCity}}</span>
      </span></span></td>
                      <td width="15%" valign="top" class="right">State / Province: <br><span id="bolConsigneeState" class="controlContainer"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.CONSIGNEE_STATE_PROVINCE" class="GrTanGridData inline"  title="">{{previewValue?.consigneeState}}</span>
      </span></span></td>
                      <td width="10%" valign="top">Zip :<br><span id="bolConsigneeZip" class="controlContainer"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.CONSIGNEE_ZIP" class="GrTanGridData inline"  title="">{{previewValue?.consigneePostalCode}}</span>
      </span></span></td>
                  </tr>
                  <tr class="border_all">
                      <td width="25%" class="right">Country: <span id="bolShipperCountry" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPER_COUNTRY" class="GrTanGridData inline" title="">{{previewValue?.shipperCountry}}</span>
      </span></span></td>
                      <td width="25%" class="right" colspan="2">Phone: <span id="bolShipperPhone" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.SHIPPER_PHONE" class="GrTanGridData inline"  title="">{{previewValue?.shipperPhoneNumber}}</span>
      </span></span></td>
                      <td width="25%" class="right">Country: <span id="bolConsigneeCountry" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.CONSIGNEE_COUNTRY" class="GrTanGridData inline"  title="">{{previewValue?.consigneeCountry}}</span>
      </span></span></td>
                      <td width="25%" colspan="2">Phone: <span id="bolConsigneePhone" class="controlContainer controlInline"><span><span id="CUSTOMER_BOL_LI_CUSTOMER_B_QOZJ.V.R1.CONSIGNEE_PHONE" class="GrTanGridData inline"  title="">{{previewValue?.consigneePhoneNumber}}</span>
      </span></span></td>
                  </tr>
                  <tr class="border_all">
                      <td height="40px" class="boldfont" valign="top" colspan="6" ><span id="bolSpecialInstructions" class="controlContainer font12" > Vol/Ref Number: <span>{{previewValue?.billOfReferenceNumber}} </span></span></td>
                      </tr>
                      <tr class="border_all">
                      <td height="40px" class="boldfont" valign="top" colspan="6" ><span id="bolSpecialInstructions" class="controlContainer font12" >Special Instructions: <span> {{previewValue?.specialInstructions}}</span></span></td>
                    </tr>
                    <!-- <tr class="border_all" *ngIf="previewValue?.accessorials !== '' && previewValue?.accessorials !== null && previewValue?.accessorials !== undefined">
                      <td height="40px" class="boldfont" valign="top" colspan="6" ><span id="bolSpecialInstructions" class="controlContainer font12" >Assessorials: <span> {{previewValue?.accessorials}}</span></span></td>
                    </tr> -->
                    <tr class="border_all">
                      <td class="boldfont txt-center" width="100%" colspan="6">
                        <span class="mediumfont" *ngIf="previewValue?.thirdParty === 'Third Party'">Bill Freight Charges {{previewValue?.thirdParty}} to:</span>
                        <span class="mediumfont" *ngIf="previewValue?.thirdParty !== 'Third Party'">Bill Freight Charges {{previewValue?.thirdParty}}:</span>
                        
                      </td>
                  </tr>
                  <!-- <tr class="border_left border_right">
                      <td width="100%" colspan="6">Name: <span id="bolBillToName" class="controlContainer controlInline"><span class="printForte">{{previewValue?.thirdPartyCompanyName}}</span><span class="pdfForte">{{previewValue?.thirdPartyCompanyName}}</span></span></td>
                  </tr> -->
                  <tr class="border_left border_bottom border_right">
                      <td width="100%" colspan="6">
                          Street: <span id="bolBillToStreet" class="controlContainer controlInline">{{previewValue?.thirdPartyStreet}}</span>
                          <span class="ml-60">City: <span id="bolBillToCity" class="controlContainer controlInline">{{previewValue?.thirdPartyCity}}</span></span>
                          <span class="ml-60">State/Province: <span id="bolBillToState" class="controlContainer controlInline">{{previewValue?.thirdPartyState}}</span></span>
                          <span class="ml-60">Zip: <span id="bolBillToZip" class="controlContainer controlInline">{{previewValue?.thirdPartyPostalCode}}                          </span></span>

                            <span class="ml-60">REF ID: <span id="bolBillToZip" class="controlContainer controlInline">{{companyData?.referenceId}}

                          </span></span>
                      </td>
                  </tr>
                  </tbody>
              </table>
          </div>
          <div id="codInfo">
              <!-- <div id="codAmount">
                  <span class="boldfont ml-10">C.O.D.</span><br>
                  <span>$</span><br>
                  <div class="ml-10 full-width bt-2">Amount</div>
              </div> -->
              <div id="codChecks">
                  <div class="boldfont" height="20px">1. The Letters "C.O.D." must appear in box before consignee's name above.</div>
                  <div  class="left-float height20"><span class="left-float">2. C.O.D. funds need to be collected as:</span> <div class="div-col4"></div> <span class="left-float ml-5">Certified Funds</span> <div class="div-col4"></div> <span class="left-float ml-5">Company Check</span></div><br>
                  <div class="left-float height20"><span class="left-float">3. C.O.D. fee to be paid by:</span> <div class="div-col5"></div> <span class="left-float ml-5 boldfont">Shipper</span> <div class="div-col6"></div> <span class="left-float ml-5 boldfont">Consignee</span> <div class="div-col7"></div> <span  class="left-float ml-5" >Personal Check</span></div>
              </div>
              <div class="sectionHeader" id="shipConsHead"><span class="pl-20">REMIT C.O.D. TO: (If different than above)</span></div>
            </div>
          <div id="itemInfo">
              <div class="txt-justify" style="font-size: 4.5pt!important;">
                   Received, subject to individually determined rates or contracts that have been agreed upon in writing between the carrier and shipper, if applicable, otherwise to the rates, classifications, and rules that have been established by the carrier and are available to the shipper, on request, and to all applicable state and federal regulations, the property described below. In apparent good order, except as noted (contents and condition of contents of packages unknown) marked, consigned, and destined as shown here on, which said carrier agrees to carry to its destination, if on its route, or otherwise to deliver to another carrier on the route to destination. Every service to be performed hereunder shall be subject to all the conditions not prohibited by law, whether printed or written, herein contained, including the conditions on the back hereof, or otherwise referenced, which are hereby agreed to by the shipper and accepted for himself and his assigns.
              </div>
              <table width="100%">
                  <tbody>
                  <tr class="border_top border_left border_bottom itemHeaders txt-center" id="itemHeaders1" width="100%">
                      <td class="right"  width="12.5%">
                          <div class="bigger">No Handling Units</div></td>
                      <td class="right"  width="12.5%">
                        <div class="bigger">Handling Units Type</div>
                     </td>
                    <td class="right"  width="12.5%">
                      <div class="bigger">Pieces</div>
                  </td>
                      <td class="right" width="3.5%">
                          <div class="bigger">HM</div>
                          <div class="bigger">(X)</div>
                      </td>
                      <td class="right"  width="39%">
                          <div class="bigger">Description of articles, kind of package, special</div>
                          <div class="bigger">marks and exceptions (Subject to correction)</div>
                      </td>
                      <td class="right"   width="11%">
                          <div class="bigger">Dimensions (in.)</div>
                          <div class="bigger">(L x W x H)</div>
                      </td>
                      <td class="right"  width="6%">
                          <div class="bigger">Weight</div>
                          <div class="bigger">(IN LBS)</div>
                      </td>
                      <td class="right"  width="14%">
                          <div class="bigger">NMFC Item #</div>
                          <div class="bigger">(Subject to correction)</div>
                      </td>
                      <td class="right" width="5.5%">
                          <div class="bigger">Class</div>
                      </td>
                      <td class="right" width="5.5%">
                          <div class="bigger">Cubic FT</div>
                      </td>
                  </tr>
                </tbody>

                  <tbody *ngFor="let array of combiningAllShipmentsArray">
                  <tr  *ngIf="array.bolType === 'Non Itemize' "class="border_bottom border_left itemRow txt-center full-width" id="bolItemRow1">
                    <td class="right bigger controlContainer">{{array.HandlingUnitQuantity}}</td><td style="border-right: 1px solid #000000;font-size:13px;" *ngIf="array.HandlingUnitType !== 'PIECE' && array.HandlingUnitType !== 'PALLET' && array.HandlingUnitType !== 'DRUM' && array.HandlingUnitType !=='CARTON'">{{array.HandlingUnitType}}</td>
                    <td class="right bigger controlContainer" *ngIf="array.HandlingUnitType === 'PIECE'">PCS</td>
                    <td class="right bigger controlContainer" *ngIf="array.HandlingUnitType === 'PALLET'">PLT</td>
                    <td class="right bigger controlContainer"  *ngIf="array.HandlingUnitType === 'DRUM'">DRM</td>
                    <td class="right bigger controlContainer"  *ngIf="array.HandlingUnitType === 'CARTON'">CTN</td>
                    <td class="right bigger controlContainer"  *ngIf="array.PackageQuantity !== '' && array.PackageQuantity !== null && array.PackageQuantity !== undefined">{{array?.PackageQuantity}} {{array?.PackageUnitType}}</td> 
                    <td class="right bigger controlContainer"  *ngIf="array.PackageQuantity === '' && array.PackageQuantity === null && array.PackageQuantity === undefined">-</td> 
                    <td class="right bigger controlContainer"  *ngIf="array.isHazardous === true"><i class="fa fa-check" aria-hidden="true"></i></td> 
                    <td class="right bigger controlContainer"  *ngIf="array.isHazardous === false || array.isHazardous === ''">-</td> 
                    <td class="right bigger controlContainer">{{array.Description}}</td>
                    <td class="right bigger controlContainer"  *ngIf="array.Dimensions!== undefined">{{array.Dimensions.Length}} x {{array.Dimensions.Width}} x {{array.Dimensions.Height}}</td>
                    <td class="right bigger controlContainer"  *ngIf="array.Dimensions === undefined">-</td>
                    <td class="right bigger controlContainer" *ngIf="array.Weight.Value !== undefined">{{array.Weight.Value}}</td>
                    <td class="right bigger controlContainer" *ngIf="array.nmfc === undefined">-</td>
                    <td class="right bigger controlContainer" *ngIf="array.nmfc !== undefined" >{{array.nmfc}}</td>
                    <td class="right bigger controlContainer" >{{array.FreightClass}}</td>
                    <td class="right bigger controlContainer" >{{array.cube}}</td>
                </tr>
                <tr *ngIf="array?.bolType =='voltl'"> 
                  <td>{{array?.HandlingUnitQuantity}}</td>
                  <td
                    *ngIf="array?.HandlingUnitType !== 'PALLET'&& array?.HandlingUnitType !== 'PIECE'&& array?.HandlingUnitType !=='CARTON' && array?.HandlingUnitType !== 'DRUM'">
                    {{array?.HandlingUnitType}}</td>
                  <td *ngIf="array?.HandlingUnitType =='PALLET'">PLT</td>
                  <td *ngIf="array?.HandlingUnitType =='PIECE'">PCS</td>
                  <td *ngIf="array?.HandlingUnitType =='CARTON'">CTN</td>
                  <td *ngIf="array?.HandlingUnitType =='DRUM'">DRM</td>
                  <td>{{array?.PackageQuantity}} {{array?.PackageUnitType}}</td>
                  <td *ngIf="array?.isHazardous === true"><i class="fa fa-check" aria-hidden="true"></i></td>
                  <td *ngIf="array?.isHazardous === false && array?.isHazardous === ''">-</td>
                  <td>{{array?.Description}}</td>
                  <td *ngIf="array?.Dimensions !== undefined">{{array?.Dimensions.Length}}</td>
                  <td *ngIf="array?.Dimensions === undefined">-</td>
                  <td *ngIf="array?.Dimensions !== undefined">{{array?.Dimensions.Width}}</td>
                  <td *ngIf="array?.Dimensions === undefined">-</td>
                  <td *ngIf="array?.Dimensions !== undefined">{{array?.Dimensions.Height}}</td>
                  <td *ngIf="array?.Dimensions === undefined">-</td>
                  <td>{{array?.Weight.Value}}</td>
                  <td>{{array?.nmfc}}</td>
                  <td>{{array?.FreightClass}}</td>
                </tr>
      
        <tr *ngIf="array?.bolType =='Itemize'" class="border_bottom border_left itemRow txt-center full-width" id="bolItemRow1">
          <td class="right bigger controlContainer">{{array.HandlingUnitQuantity}}</td><td style="border-right: 1px solid #000000;font-size:13px;" *ngIf="array.HandlingUnitType !== 'PIECE' && array.HandlingUnitType !== 'PALLET' && array.HandlingUnitType !== 'DRUM' && array.HandlingUnitType !=='CARTON'">{{array.HandlingUnitType}}</td>
          <td class="right bigger controlContainer" *ngIf="array.HandlingUnitType === 'PIECE'">PCS</td>
          <td class="right bigger controlContainer" *ngIf="array.HandlingUnitType === 'PALLET'">PLT</td>
          <td class="right bigger controlContainer"  *ngIf="array.HandlingUnitType === 'DRUM'">DRM</td>
          <td class="right bigger controlContainer"  *ngIf="array.HandlingUnitType === 'CARTON'">CTN</td>
          <td class="right bigger controlContainer"  *ngIf="array.PackageQuantity !== '' && array.PackageQuantity !== null && array.PackageQuantity !== undefined">&nbsp;</td> 
          <td class="right bigger controlContainer"  *ngIf="array.PackageQuantity === '' && array.PackageQuantity === null && array.PackageQuantity === undefined">&nbsp;</td> 
          <td class="right bigger controlContainer"  *ngIf="array.isHazardous === true"><i class="fa fa-check" aria-hidden="true"></i></td> 
          <td class="right bigger controlContainer"  *ngIf="array.isHazardous === false || array.isHazardous === ''">-</td> 
          <td class="right bigger controlContainer">See below for breakdown</td>
          <td class="right bigger controlContainer"  *ngIf="array.Dimensions!== undefined">{{array.Dimensions.Length}} x {{array.Dimensions.Width}} x {{array.Dimensions.Height}}</td>
          <td class="right bigger controlContainer"  *ngIf="array.Dimensions === undefined">-</td>
          <td class="right bigger controlContainer" *ngIf="array.Weight.Value !== undefined">&nbsp;</td>
          <td class="right bigger controlContainer" *ngIf="array.nmfc === undefined">-</td>
          <td class="right bigger controlContainer" *ngIf="array.nmfc !== undefined">{{array.nmfc}}</td>
          <td class="right bigger controlContainer" >{{array.FreightClass}}</td>
          <td class="right bigger controlContainer" >{{array.cube}}</td>
        </tr>
       
      <tr  *ngIf="array?.bolType =='Multi Classed Pallet'"class="border_bottom border_left itemRow txt-center full-width" id="bolItemRow1">
          <td class="right bigger controlContainer">{{array.HandlingUnitQuantity}}</td><td style="border-right: 1px solid #000000;font-size:13px;" *ngIf="array.HandlingUnitType !== 'PIECE' && array.HandlingUnitType !== 'PALLET' && array.HandlingUnitType !== 'DRUM' && array.HandlingUnitType !=='CARTON'">{{array.HandlingUnitType}}</td>
          <td class="right bigger controlContainer" *ngIf="array.HandlingUnitType === 'PIECE'">PCS</td>
          <td class="right bigger controlContainer" *ngIf="array.HandlingUnitType === 'PALLET'">PLT</td>
          <td class="right bigger controlContainer"  *ngIf="array.HandlingUnitType === 'DRUM'">DRM</td>
          <td class="right bigger controlContainer"  *ngIf="array.HandlingUnitType === 'CARTON'">CTN</td>
          <td class="right bigger controlContainer"  *ngIf="array.PackageQuantity !== '' && array.PackageQuantity !== null && array.PackageQuantity !== undefined">&nbsp;</td> 
          <td class="right bigger controlContainer"  *ngIf="array.PackageQuantity === '' && array.PackageQuantity === null && array.PackageQuantity === undefined">&nbsp;</td> 
          <td class="right bigger controlContainer"  *ngIf="array.isHazardous === true"><i class="fa fa-check" aria-hidden="true"></i></td> 
          <td class="right bigger controlContainer"  *ngIf="array.isHazardous === false || array.isHazardous === ''">-</td> 
          <td class="right bigger controlContainer">See below for breakdown</td>
          <td class="right bigger controlContainer"  *ngIf="array.Dimensions!== undefined">{{array?.Dimensions?.Length}} x {{array?.Dimensions?.Width}} x {{array?.Dimensions?.Height}}</td>
          <td class="right bigger controlContainer"  *ngIf="array.Dimensions === undefined">-</td>
          <td class="right bigger controlContainer" *ngIf="array.Weight.Value !== undefined">&nbsp;</td>
          <td class="right bigger controlContainer" *ngIf="array.nmfc === undefined">-</td>
          <td class="right bigger controlContainer" *ngIf="array.nmfc !== undefined" >&nbsp;</td>
          <td class="right bigger controlContainer" >&nbsp;</td>
          <td class="right bigger controlContainer" >{{array.cube}}</td>
      </tr>
      <tr *ngFor="let pieces of array.newAddPieces; let i=index" class="border_bottom border_left itemRow txt-center full-width" id="bolItemRow1">
        <td class="right bigger controlContainer"><span>&nbsp;</span></td>
        <td class="right bigger controlContainer"><b>Itemized</b></td>
        <td class="right bigger controlContainer">{{pieces.PackageQuantity}} {{pieces.PackageUnitType}}</td>
        <td class="right bigger controlContainer">&nbsp;</td>
        <td class="right bigger controlContainer">{{pieces.Description}}</td>
        <td class="right bigger controlContainer">&nbsp;</td>
        <td class="right bigger controlContainer">
          <span *ngIf="pieces?.showFlag!== 'Itemize'">{{pieces.Weight.Value}}</span>
          <span *ngIf="pieces?.showFlag== 'Itemize'" >&nbsp;</span></td>
        <td class="right bigger controlContainer" >
          <span *ngIf="pieces?.showFlag!== 'Itemize'">{{pieces.nmfc}}</span><span *ngIf="pieces?.showFlag== 'Itemize'">&nbsp;</span></td>
        <td class="right bigger controlContainer" ><span *ngIf="pieces?.showFlag!== 'Itemize'">{{pieces.FreightClass}}</span><span *ngIf="pieces?.showFlag== 'Itemize'">&nbsp;</span></td>
          <td class="right bigger controlContainer" >&nbsp;</td>
      </tr>
      <tr *ngIf="array?.bolType =='Itemize'" class="border_bottom border_left itemRow txt-center full-width" id="bolItemRow1">
          <td class="right bigger controlContainer"><b>Total</b></td>
          <td style="border-right: 1px solid #000000;font-size:13px;" >&nbsp;</td>
          <td class="right bigger controlContainer"  *ngIf="array.PackageQuantity !== '' && array.PackageQuantity !== null && array.PackageQuantity !== undefined">{{array?.PackageQuantity}}</td> 
          <td class="right bigger controlContainer"  *ngIf="array.PackageQuantity === '' && array.PackageQuantity === null && array.PackageQuantity === undefined">-</td> 
          <td class="right bigger controlContainer"  *ngIf="array.isHazardous === true">&nbsp;</td> 
          <td class="right bigger controlContainer"  *ngIf="array.isHazardous === false || array.isHazardous === ''">&nbsp;</td> 
          <td class="right bigger controlContainer">&nbsp;</td>
          <td class="right bigger controlContainer"  >&nbsp;</td>
          <!-- <td class="right bigger controlContainer"  *ngIf="array.Dimensions === undefined">-</td> -->
          <td class="right bigger controlContainer" *ngIf="array.Weight.Value !== undefined">{{array.Weight.Value}}</td>
          <td class="right bigger controlContainer" *ngIf="array.nmfc === undefined">&nbsp;</td>
          <td class="right bigger controlContainer" *ngIf="array.nmfc !== undefined">&nbsp;</td>
          <td class="right bigger controlContainer" >&nbsp;</td>
          <td class="right bigger controlContainer" >&nbsp;</td>
        </tr>
        <tr  *ngIf="array?.bolType =='Multi Classed Pallet'"class="border_bottom border_left itemRow txt-center full-width" id="bolItemRow1">
            <td class="right bigger controlContainer"><b>Total</b></td>
            <td style="border-right: 1px solid #000000;font-size:13px;">&nbsp;</td>
            <td class="right bigger controlContainer"  *ngIf="array.PackageQuantity !== '' && array.PackageQuantity !== null && array.PackageQuantity !== undefined">{{array?.PackageQuantity}} </td> 
            <!-- <td class="right bigger controlContainer"  *ngIf="array.PackageQuantity === '' && array.PackageQuantity === null && array.PackageQuantity === undefined">-</td>  -->
            <td class="right bigger controlContainer"  *ngIf="array.isHazardous === true">&nbsp;</td> 
            <td class="right bigger controlContainer"  *ngIf="array.isHazardous === false || array.isHazardous === ''">&nbsp;</td> 
            <td class="right bigger controlContainer">&nbsp;</td>
            <td class="right bigger controlContainer" >&nbsp;</td>
            <td class="right bigger controlContainer" *ngIf="array.Weight.Value !== undefined">{{array?.Weight.Value}}</td>
            <td class="right bigger controlContainer" *ngIf="array.nmfc === undefined">&nbsp;</td>
            <td class="right bigger controlContainer" *ngIf="array.nmfc !== undefined" >&nbsp;</td>
            <td class="right bigger controlContainer" >&nbsp;</td>
            <td class="right bigger controlContainer" >&nbsp;</td>
        </tr>
        <tr class="border_bottom border_left full-width" id="itemTotals">
                      <td class="right bigger" colspan="10">
                          <span class="ml-20">TOTAL HANDLING UNITS:<b>{{totalPieces}}</b> </span>
                          <span class="ml-20">Total Pallets:</span> <span id="bolTotalPieces" class="controlContainer controlInline">{{previewTotalPallets}}</span>
                          <span class="ml-40">Total Pieces Count:</span> <span id="bolTotalPallets" class="controlContainer controlInline">{{previewTotalPieces}}</span>
                          <span class="ml-40">Total Weight:</span> <span id="bolTotalWeight" class="controlContainer controlInline">{{totalWeights}} lbs</span>
                      </td>
                  </tr>
                  <tr class="border_bottom border_left sectionHeader tr-1" id="hmNote">
                      <td class="right" colspan="10"><span class="boldfont ml-80 smallfont">Mark "X" in the HM COLUMN TO DESIGNATE HAZARDOUS MATERIALS AS DEFINED IN DOT REGULATIONS</span></td>
                  </tr>
                  </tbody>
              </table>
          </div>
          <div id="bolLegalNotes">
              <div style="font-size: 4.5pt!important;;    margin-top: 48px;">NOTE (1) Where the rate and carrier's liability for loss or damage may be dependant on value, shippers must state specifically in writing the agreed to declared value of the property as follows: "The agreed to declared value of the property is specifically stated by the shipper to be not <br>
                  exceeding   <span class="undertxt">________________</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; per &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  class="undertxt">________________</span> ."</div>
              <div style="font-size: 4.5pt!important;">NOTE (2) Liability limitation for loss or damage on this shipment shall be applicable as provided by contract or in the current National Motor Freight Classification, DOT 100 series, or this carrier's governing tariffs, in no event shall carrier's liability exceed $100,000 per incident.</div>
              <div style="font-size: 4.5pt!important;">NOTE (3) Commodities requiring special or additional care or attention in handling or stowing must be so marked and packaged as to ensure safe transportation with ordinary care. See Sec 2 (e) of NMFC Item 350.</div>
          </div>
          <div id="shipperCertification">
              <div class="sectionHeader" class="border sectionHeader"><div class="txt-center"><strong>SHIPPER CERTIFICATION</strong></div></div>
              <div >
                  This is to certify that the above named materials are properly classified, described, packaged, marked, and labeled, and are in proper condition for transportation according to the applicable regulations of the Department of Transportation.<br> <br>
                  <span class="ml-5" >Shipper Signature:</span>
                  <span class="right" style="float: right;margin-right: 200px">Date:</span>    
              </div>
          </div>
          <div id="carrierCertification">
              <div class="sectionHeader" class="border sectionHeader"><div class="txt-center"><strong>CARRIER CERTIFICATION</strong></div></div>
              <div>
                  Carrier acknowledges receipt of packages and required placards. Carrier certifies emergency response information was made available and/or carrier has the DOT emergency response guidebook or equivalent document in the vehicle.
              </div>
              <table width="100%">
                  <tbody>
                  <tr class="border_all" width="100%">
                      <td class="right txt-center" width="15%" colspan="2">
                          <div class="bigger">SINGLE SHIPMENT</div>
                      </td>
                      <td class="right txt-center" width="15%">
                          <div class="bigger">DATE</div>
                      </td>
                      <td class="right txt-center" width="70%">
                          <div class="bigger">DRIVER/EMPLOYEE NUMBER &amp; SIGNATURE</div>
                      </td>
                  </tr>
                  <tr class="border_right border_left" width="100%">
                      <td class="right smallfont txt-center" colspan="2">Circle One</td>
                      <td class="right txt-center"></td>
                      <td class="right">&nbsp;</td>
                  </tr>
                  <tr class="border_bottom border_right border_left" width="100%">
                      <td class="mediumfont txt-center">Y</td>
                      <td class="right mediumfont txt-center">N</td>
                      <td class="right ">&nbsp;</td>
                      <td class="right">&nbsp;</td>
                  </tr>
                  </tbody>
              </table>
          </div>
      </div>
      </body></html>
              </div>
            </div>
            
            <div class="modal-footer">
              <div class="row">
                <div class="col-md-5 col-md-push-3 green-button text-center">
                  <a  data-dismiss="modal" style="color: #fff;">
                    <i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>CLOSE</a>
                </div>
      
      
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!--New Preview Modal-->
      
      
      <!-- Address Save Modal -->
      <div id="address-save-modal" class="modal" role="dialog"   data-keyboard="false">
        <div class="modal-dialog">
      
          <!-- Modal content-->
          <div class="modal-content">
            <form [formGroup]="addressTemplateNameForm">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title" style="color: #FFFFFF"><i class="fa fa-save" style="margin-right:5px;"></i>&nbsp;Save New Template</h4>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-md-12">
                  <p>This will save the information in the Consignee section as a new template.</p>
                  <div class="form-group">
                    <label>Template Name</label>
                    <input type="text" formControlName="addressTempName" placeholder="Please enter a template name">
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <div class="row">
                <div class="col-md-4 col-md-push-2 green-button text-center">
                  <button class="green-button" (click)="addressTemplateSave(billOfLading.value, 'address', addressTemplateNameForm.value)" [disabled] = "addressTemplateNameForm.invalid"><i class="fa fa-save" aria-hidden="true" style="margin-right:5px;"></i>Save</button>
                </div>
                <div class="col-md-4 col-md-push-2 green-button text-center">
                  <button class="green-button" data-dismiss="modal"><i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                </div>
              </div>
            </div>
            </form>
          </div>
        </div>
      </div>
      <!-- Address Save Modal -->
      
      <!-- Item Save Modal -->
      <div id="item-save-modal" class="modal" role="dialog"   data-keyboard="false">
        <div class="modal-dialog">
      
          <!-- Modal content-->
          <div class="modal-content">
            <form [formGroup]="itemTemplateNameForm">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title" style="color: #FFFFFF"><i class="fa fa-save" style="margin-right:5px;"></i>&nbsp;Save New Template</h4>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-md-12">
                  <p>This will save the information in the Items section as a new template.</p>
                  <div class="form-group">
                    <label>Template Name</label>
                    <input formControlName="itemTempName" type="text" class="form-control" placeholder="Please enter a template name">
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <div class="row">
                <div class="col-md-4 col-md-push-4 green-button text-center">
                  <button class="green-button" (click)="itemTemplateSave(billOfLading.value, 'item', itemTemplateNameForm.value)" [disabled] = "itemTemplateNameForm.invalid"><i class="fa fa-save" aria-hidden="true" style="margin-right:5px;"></i>Save</button>
                </div>
                <div class="col-md-4 col-md-push-4 green-button text-center">
                  <button class="green-button" data-dismiss="modal"><i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                </div>
              </div>
            </div>
            </form>
          </div>
        </div>
      </div>
      <!-- Item Save Modal -->
      
      
      <!-- Shipper Address Save Modal -->
      <div id="shipper-address-save-modal" class="modal" role="dialog"   data-keyboard="false">
        <div class="modal-dialog">
      
          <!-- Modal content-->
          <div class="modal-content">
            <form [formGroup]="addressTemplateNameForm">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="color: #FFFFFF"><i class="fa fa-save" style="margin-right:5px;"></i>&nbsp;Save New Template</h4>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-md-12">
                    <p>This will save the information in the Shipper section as a new template.</p>
                    <div class="form-group">
                      <label>Template Name</label>
                      <input type="text" formControlName="addressTempName" placeholder="Please enter a template name">
                    </div>
                    <div  class="form-group">
                      <label>Choose Company</label>
                      <select class="selectField" id="customer" placeholder="Search By Company Name" formControlName="selectedCompany" (change)="onChange($event)" >
                        <option value="" hidden>Search By Company Name</option>
                        <option *ngFor="let company of companyDetails" value="{{company.id}}">{{company.companyName}}</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <div class="row">
                  <div class="col-md-4 col-md-push-2 green-button text-center">
                    <button class="green-button" (click)="addressTemplateSave(billOfLading.value, 'shipperAddress', addressTemplateNameForm.value)" ><i class="fa fa-save" aria-hidden="true" style="margin-right:5px;"></i>Save</button>
                  </div>
                  <div class="col-md-4 col-md-push-2 green-button text-center">
                    <button class="green-button" data-dismiss="modal"><i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- Shipper Address Save Modal -->
      <!--Third Party Address Save Modal-->
      <div id="thirdparty-address-save-modal" class="modal" role="dialog"   data-keyboard="false">
        <div class="modal-dialog">
      
          <!-- Modal content-->
          <div class="modal-content">
            <form [formGroup]="addressTemplateNameForm">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="color: #FFFFFF"><i class="fa fa-save" style="margin-right:5px;"></i>&nbsp;Save New Template</h4>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-md-12">
                    <p>This will save the information in the Shipper section as a new template.</p>
                    <div class="form-group">
                      <label>Template Name</label>
                      <input type="text" formControlName="addressTempName" placeholder="Please enter a template name">
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <div class="row">
                  <div class="col-md-4 col-md-push-2 green-button text-center">
                    <button class="green-button" (click)="addressTemplateSave(billOfLading.value, 'thirdparty', addressTemplateNameForm.value)" [disabled] = "addressTemplateNameForm.invalid"><i class="fa fa-save" aria-hidden="true" style="margin-right:5px;"></i>Save</button>
                  </div>
                  <div class="col-md-4 col-md-push-2 green-button text-center">
                    <button class="green-button" data-dismiss="modal"><i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!--End of Third Party save Modal-->
      
      <!--splInstruc-->
      <div id="splInstructions-save-modal" class="modal" role="dialog"   data-keyboard="false">
          <div class="modal-dialog">
        
            <!-- Modal content-->
            <div class="modal-content">
              <form [formGroup]="splInstructionsTemplateNameForm">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title" style="color: #FFFFFF"><i class="fa fa-save" style="margin-right:5px;"></i>&nbsp;Save New Template</h4>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <div class="col-md-12">
                      <p>This will save the information in the Shipper section as a new template.</p>
                      <div class="form-group">
                        <label>Template Name</label>
                        <input type="text" formControlName="splInstructionTempName" placeholder="Please enter a template name">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <div class="row">
                    <div class="col-md-4 col-md-push-2 green-button text-center">
                      <button class="green-button" (click)="saveSplInstructions(billOfLading.value, 'splInstructions', splInstructionsTemplateNameForm.value)" [disabled] = "splInstructionsTemplateNameForm.invalid"><i class="fa fa-save" aria-hidden="true" style="margin-right:5px;"></i>Save</button>
                    </div>
                    <div class="col-md-4 col-md-push-2 green-button text-center">
                      <button class="green-button" data-dismiss="modal"><i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!--End of spl instructions-->
      <!--DescriptionModal-->
      <div id="description-modal" class="modal" style="z-index: 9999;" role="dialog"   data-keyboard="false">
        <div class="modal-dialog">
      
          <!-- Modal content-->
          <div class="modal-content">
           
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title" style="color: #FFFFFF">DESCRIPTION</h4>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-md-12">
                  <div *ngIf="!enableDescriptionValue" ><textarea  *ngIf ="!showAddedValue" autofocus class="form-control" id="tasknote" rows="5" [(ngModel)]="description" (input)="checkDescription(description)" (keyup)="checkForEnterKey($event, 'descr')">{{description}}</textarea>
                    <textarea  *ngIf ="showAddedValue" autofocus class="form-control" id="tasknote" rows="5" [(ngModel)]="description" (input)="checkDescription(description)" (keydown)="checkForEnterKey($event, 'descr')">{{description}}</textarea>
                  </div>
                  <div *ngIf="enableDescriptionValue" ><textarea  *ngIf ="!showAddedValue" autofocus class="form-control" id="tasknote" rows="5" [(ngModel)]="description" (input)="checkDescription1(description)" (keyup)="checkForEnterKey($event, 'descr')">{{description}}</textarea>
                    <textarea  *ngIf ="showAddedValue" autofocus class="form-control" id="tasknote" rows="5" [(ngModel)]="description" (input)="checkDescription1(description)" (keydown)="checkForEnterKey($event, 'descr')">{{description}}</textarea>
                  </div>

                </div>
              </div>
            </div>
            <div class="modal-footer">
              <div class="row">
                <span style="font-size:17px;color:#f56557;"> Note: Please hit enter twice to go to BOL main screen</span>
                <!-- <div class="col-md-4 col-md-push-4 green-button text-center">
                  <button class="green-button" id = "closeDescriptionBtn" (keydown)="checkForEnterKey($event, 'close')" ><i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                </div> -->
              </div>
            </div>
            
          </div>
        </div>
      </div>
      <!--DescriptionModal-->
      <div id="description-modal1" class="modal" style="z-index: 9999;" role="dialog"   data-keyboard="false">
        <div class="modal-dialog">
      
          <!-- Modal content-->
          <div class="modal-content">
           
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title" style="color: #FFFFFF">DESCRIPTION</h4>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-md-12">
                  <div *ngIf="!enableDescriptionValue" ><textarea  *ngIf ="!showAddedValue" autofocus class="form-control" id="tasknote" rows="5" [(ngModel)]="description" (input)="checkDescription2(description)" (keyup)="checkForEnterKey($event, 'descr1')">{{description}}</textarea>
                    <textarea  *ngIf ="showAddedValue" autofocus class="form-control" id="tasknote" rows="5" [(ngModel)]="description" (input)="checkDescription2(description)" (keydown)="checkForEnterKey($event, 'descr1')">{{description}}</textarea>
                  </div>
                  <div *ngIf="enableDescriptionValue" ><textarea  *ngIf ="!showAddedValue" autofocus class="form-control" id="tasknote" rows="5" [(ngModel)]="description" (input)="checkDescription2(description)" (keyup)="checkForEnterKey($event, 'descr1')">{{description}}</textarea>
                    <textarea  *ngIf ="showAddedValue" autofocus class="form-control" id="tasknote" rows="5" [(ngModel)]="description" (input)="checkDescription2(description)" (keydown)="checkForEnterKey($event, 'descr1')">{{description}}</textarea>
                  </div>

                </div>
              </div>
            </div>
            <div class="modal-footer">
              <div class="row">
                <span style="font-size:17px;color:#f56557;"> Note: Please hit enter twice to go to BOL main screen</span>
                <!-- <div class="col-md-4 col-md-push-4 green-button text-center">
                  <button class="green-button" id = "closeDescriptionBtn" (keydown)="checkForEnterKey($event, 'close')" ><i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                </div> -->
              </div>
            </div>
            
          </div>
        </div>
      </div>
      <!--Edit Modal for Existing-->
      <div id="edit-modal" class="modal" role="dialog"   data-keyboard="false">
          <div class="modal-dialog">
        
            <!-- Modal content-->
            <div class="modal-content">
             
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="color: #FFFFFF">Update</h4>
              </div>
              <div class="modal-body">
                <form [formGroup]="editLineItemUpdateForm">
                  <div class="row">
                      <div class="col-md-6">
                        <label>Handling Units</label><span style="color:#FF0000">*</span>
                        <div class="input-group" style="display: flex">
                            <input   type="text" class="form-control" placeholder="Qty" id="handlingUnitQuantityUpdate" formControlName="handlingUnitQuantityUpdate" 
                                   maxlength="4"
                                   ngPattern="/[0-9]/" style="width:80px;"
                                   onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (keydown)="checkEnterKey($event, 'handlingUnitTypeUpdate')" (change)="checkForNumber(editLineItemUpdateForm.controls['handlingUnitQuantityUpdate'].value, 'handlingUnitQuantityUpdate')" autocomplete="nope" >
                              <select class="form-control" id="handlingUnitType" formControlName="handlingUnitTypeUpdate">
                                  <option *ngFor="let unit of handlingUnitTypeArray" value="{{unit}}">{{unit}}</option>
                                </select> 
                        </div>  
                      </div>
                      <div class="col-md-6" >
                          <label>Pieces Count</label><span style="color:#FF0000">*</span>
                          <div class="input-group" style="display: flex">
                              <input   type="text" class="form-control" placeholder="Qty" id="packageQuantityUpdate" formControlName="packageQuantityUpdate" 
                                     maxlength="4"
                                     ngPattern="/[0-9]/" style="width:80px;"
                                     onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (keydown)="checkEnterKey($event, 'packageQuantityUpdate')" (change)="checkForNumber(editLineItemUpdateForm.controls['packageQuantityUpdate'].value, 'packageQuantityUpdate')" autocomplete="nope" >
                                <select class="form-control" id="handlingUnitType" formControlName="packageUnitTypeUpdate">
                                    <option *ngFor="let package of packageUnitArray" value={{package}}>{{package}}</option>
                                  </select>        
                          </div>
                        </div>
                      </div>
                      <div class="row" style="padding: 10px 2px;">
                        <div class="col-md-12">
                        <label>Description</label>
                        <div class="input-group">
                        <textarea class="form-control" rows="2" id="descriptionUpdate" placeholder="Description" (keydown)="checkEnterKey($event, 'descriptionUpdate')"
                        formControlName="descriptionUpdate" autocomplete="nope"> </textarea>
                        <div class="input-group-btn">
                        <!-- <button class="btn btn-outline-secondary" type="button" data-toggle="modal" data-target="#description-modal"><i class="fa fa-pencil"></i></button> -->
                        <button style="padding: 17px" class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                        <div class="dropdown-menu" style="padding: 0px;height:200px;overflow: auto;width: 500px">
                        <table class="table table-bordered" style="margin-bottom: 0px;border:none" >
                        <thead>
                        <tr>
                        <td>Template Name</td>
                        <td>Description</td>
                        <td>Class</td>
                        </tr>
                        </thead>
                        <tbody *ngIf="!itemTemplatesPresent">
                        <tr *ngFor="let itemTemplates of itemTemplate" class="noIbar"
                         (click)="getItemClickValues(itemTemplates.id, 'editUpdate', 'editUpdate')">
                        <td>{{itemTemplates?.templateName}}</td>
                        <td>{{itemTemplates?.description}}</td>
                        <td>{{itemTemplates?.class}}</td>
                        </tr>
                        </tbody>
                        <tbody *ngIf="itemTemplatesPresent">
                        <tr>
                        <td colspan="3" rowspan ="3">
                        <label >No Templates Available</label>
                        
                        </td>
                        </tr>
                        </tbody>
                        </table>
                        </div>
                        </div>
                        </div>
                        </div>
                        </div>
                    <div class="row" style="padding: 10px 2px;">
                      <div class="col-md-12">
                        <label>Dimensions(L*W*H)<span style="color: #FF0000" *ngIf="showFlagForDimensions">(Please Enter the (L*W*H) Pieces > 7)</span></label>
                      </div>
                      <div class="col-md-4" >  
                         <input type="text" class="form-control" id="lengthUpdate" placeholder="H" formControlName="lengthUpdate" maxlength="4" 
                          ngPattern="/[0-9]/" (change)="checkForNumber(editLineItemUpdateForm.controls['lengthUpdate'].value, 'lengthUpdate');checkDimensions(editLineItemUpdateForm.value, 'editUpdate')"
                          onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'lengthUpdate')" autocomplete="nope" >
                      </div>
                      <div class="col-md-4" >
                         <input type="text" class="form-control" id="widthUpdate" placeholder="H" formControlName="widthUpdate" maxlength="4" 
                          ngPattern="/[0-9]/" (change)="checkForNumber(editLineItemUpdateForm.controls['widthUpdate'].value, 'widthUpdate');checkDimensions(editLineItemUpdateForm.value, 'editUpdate')"
                          onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'widthUpdate')" autocomplete="nope" >
                      </div>
                      <div class="col-md-4">  
                        <input type="text" class="form-control" id="heightUpdate" placeholder="H" formControlName="heightUpdate" maxlength="4" 
                        ngPattern="/[0-9]/" (change)="checkForNumber(editLineItemUpdateForm.controls['heightUpdate'].value, 'heightUpdate');checkDimensions(editLineItemUpdateForm.value, 'editUpdate')"
                        onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="checkEnterKey($event, 'heightUpdate')" autocomplete="nope" >
                      </div>
                    </div>
                <div class="row" style="padding: 10px 2px;">
                  <div class="col-md-12">
                    <label>NMFC#<span style="color:#FF0000">*</span> <span style="color: #FF0000" *ngIf="showNmfcErrorMsg">Format is (111111s11)</span></label>
                    <input type="text"class="form-control" id="cpf10" name="cpf10" mask="999999S99" pattern="000000S00" ngPattern="/[0-9Ss]/" 
                              onkeyup="this.value=this.value.replace(/[^0-9Ss]+/g,'')" formControlName="nmfcUpdate" (change)="changedDecimal($event)" minlength="4" maxlength="9"  autocomplete="nope" >
                    
                  </div>
                </div>
                
              </form>
            </div>
              <div class="modal-footer">
                <div class="row">
                  
                  <div class="col-md-4 col-md-push-4 green-button text-center">
                    <span style="color: #FF0000" *ngIf="errorMsgForUpdate">(Please fill the Description, HandlingUnits and Pieces Count)</span>
                    <button class="green-button" (click)="saveDescNmfc(editLineItemUpdateForm.value)"><i class="fa fa-save" aria-hidden="true" style="margin-right:5px;"></i>Save</button>
                  </div>
                </div>
              </div>
            </div>
            </div>
          </div>
          <!--End of Edit Modal for Existing-->
      <!--Start of Itemize and Multi class Pallet-->
      <div id="add-pieces-modal" class="modal" role="dialog"   data-keyboard="false">
        <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
            <form [formGroup]="piecesForm">
            <div class="modal-header">
              <button type="button" (click)="closePiecesModal(addPiecesHeader)" class="close">&times;</button>
              <h4 class="modal-title" style="color: #FFFFFF"><i class="fa fa-save" style="margin-right:5px;"></i>&nbsp;Add New Pieces To {{addPiecesHeader}}</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                                       <h6 class="item-body">Total Pieces : {{headerDetailForShipment?.PackageQuantity}}  {{headerDetailForShipment?.PackageUnitType}}</h6>
                                       </div>
                                       <div class="col-md-6">
                                      <h6 class="item-body">Total Weight : {{headerDetailForShipment?.Weight?.Value}}  ttl</h6>
                    </div>  
                    </div>
              <div class="row">
                  <div class="col-md-6 form-group">
                      <label>Pieces Count</label><span style="color:#FF0000">*</span>
                      <div class="input-group" style="display: flex">
                          <input type="text" class="form-control" placeholder="Qty" id="packageQuantityForPieces"  
                                 maxlength="4" formControlName="packageQuantity"
                                 ngPattern="/[0-9]/" style="width:150px;"
                                 onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" 
                                 (keydown)="checkEnterKey($event, 'packageQuantityForPieces')" 
                                 (change)="checkForNumber(piecesForm.controls['packageQuantity'].value, 'packageQuantityForPieces')"
                                autocomplete="nope" required>
                            <select class="form-control" id="packageUnitType" formControlName="packageUnitType"[disabled]="true">
                                <option *ngFor="let package of packageUnitArray" value={{package}}>{{package}}</option>
                              </select>        
                      </div>                
                  </div>   
                  <div class="col-md-6 form-group">
                    <label>Weight</label>
                    <div class="input-group" style="display: flex">
                        <input type="text" class="form-control" id="weightForPieces" placeholder="(lbs)" name="search"  
                        (keydown)="checkEnterKey($event, 'weightForPieces')"
                               maxlength="5" ngPattern="/[0-9]/" style="width:150px;" formControlName="weight"
                               onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" 
                               (onblur)="checkWeight(piecesForm.controls['weight'].value);checkForNumber(piecesForm.controls['weight'].value, 'weightForPieces')"
                               autocomplete="nope" required>
                               <select class="form-control" id="weightUnit"[disabled]="true"
                               formControlName="weightUnit">
                                <option *ngFor="let unit of weightUnitTypeArray" value="{{unit}}">{{unit}}</option>
                                </select>
                              </div>
                  </div>
                </div>
                <div class="row" >
                  <div class="col-md-12 form-group">
                      <label>Description</label><span style="color:#FF0000">*</span>
                      <div class="input-group"> 
                          <div class="input-group-btn"> 
                             
                              <textarea  class="form-control" ngui-auto-complete  style="width: 91%;" rows="1" id="descForPieces1" placeholder="Description" 
                              formControlName="description" [typeahead]="itemTemplate" typeaheadOptionField="templateName" (typeaheadOnSelect)="getDescription($event)" (typeaheadNoResults)="getData($event)" 
                               required > </textarea>
                               <!-- <textarea  *ngIf="!enableAutoComplete" class="form-control"  style="width: 91%;" rows="1" id="descForPieces2" placeholder="Description" 
                               formControlName="description"  (input)="checkDescription1(piecesForm.controls.description.value)" autocomplete="nope" (keydown)="checkForEnterKey($event, 'descAdd')"
                                required > </textarea> -->
                              <button class="btn btn-outline-secondary dropdown-toggle" id="descriptionToggle"  type="button"
                               data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                              <div class="dropdown-menu" style="padding: 0px;height:200px;overflow: auto;width: 500px">
                                <table   class="table table-bordered"  style="margin-bottom: 0px;border:none" >
                                    <thead>
                                  <tr>
                                    <td>Template Name</td>
                                    <td>Description</td>
                                    <td>Class</td>
                                  </tr>
                                  </thead>
                                  <!-- id ="itemTemplatesId" -->
                                  <tbody *ngIf="itemTemplatesPresent === false">
                                  <tr #tabletemplate *ngFor="let itemTemplates of itemTemplate; let i = index;" tabindex="i"  (keydown)="checkEnterKey2($event, 'tabletemplate', i)" class="noIbar" 
                                  (click)="getItemClickValues(itemTemplates.id, 'chooseForPieces', addPiecesHeader)">
                                    <td >{{itemTemplates?.templateName}}</td>
                                    <td>{{itemTemplates?.description}}</td>
                                    <td>{{itemTemplates?.class}}</td>
                                  </tr>
                                  </tbody>
                                  <tbody *ngIf="itemTemplatesPresent">
                                    <tr>
                                      <td colspan="3" rowspan ="3">
                                        <label >No Templates Available</label>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>     
                              </div>
                              <!-- <button class="btn btn-outline-secondary" id="descriptionModalid" (keydown)="checkEnterKey1($event, 'descriptionModalid')" type="button" data-toggle="modal" data-target="#description-modal"><i class="fa fa-pencil"></i></button> -->
                            </div>
                       </div>               
                  </div>
                </div>
              <!--   <div class="row" *ngIf="showForItemize">
                    <div class="col-md-12 form-group">
                        <label>Description</label><span style="color:#FF0000">*</span>
                        <div class="input-group">
                            <div class="input-group-btn">
 
                                <textarea  class="form-control"   style="width: 91%;" rows="1" id="descForPieces" placeholder="Description" 
                                formControlName="description"   (keydown)="checkEnterKey1($event, 'descForPieces')"

                                 required
                                 autocomplete="nope"
                                > </textarea>
                                <button class="btn btn-outline-secondary dropdown-toggle" id="descriptionToggle" (keydown)="checkEnterKey1($event, 'descriptionToggle')" type="button"
                                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                                <div class="dropdown-menu" style="padding: 0px;height:200px;overflow: auto;width: 500px">
                                  <table   class="table table-bordered" (keydown)="checkEnterKey1($event, 'tabletemplate')" style="margin-bottom: 0px;border:none" >
                                      <thead>
                                    <tr>
                                      <td>Template Name</td>
                                      <td>Description</td>
                                      <td>Class</td>
                                    </tr>
                                    </thead>
                                    <tbody *ngIf="itemTemplatesPresent === false">
                                    <tr #tabletemplate *ngFor="let itemTemplates of itemTemplate; let i = index;" tabindex="i"  (keydown)="checkEnterKey2($event, 'tabletemplate', tabindex)" class="noIbar" 
                                    (click)="getItemClickValues(itemTemplates.id, 'chooseForPieces', addPiecesHeader)">
                                      <td >{{itemTemplates?.templateName}}</td>
                                      <td>{{itemTemplates?.description}}</td>
                                      <td>{{itemTemplates?.class}}</td>
                                    </tr>
                                    </tbody>
                                    <tbody *ngIf="itemTemplatesPresent">
                                      <tr>
                                        <td colspan="3" rowspan ="3">
                                          <label >No Templates Available</label>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>     
                                </div>
                              </div>
                         </div>               
                    </div>
                  </div> -->
                <div class="row" *ngIf="!showForItemize">
                    <div class="col-md-6 form-group" *ngIf="!showForItemize">
                        <label>NMFC</label><span style="color:#FF0000">*</span>
                        <input type="text"class="form-control" id="cpf9" name="cpf3" mask="999999S99"  pattern="000000S00" ngPattern="/[0-9Ss]/" 
                              onkeyup="this.value=this.value.replace(/[^0-9Ss]+/g,'')" formControlName="nmfc" 
                              (change)="changedDecimal($event)" (keydown)="checkEnterKey($event, 'nmfcForPieces')"  minlength="4" maxlength="9"  required
                              autocomplete="nope" >
                      </div>
                    <div class="col-md-6 form-group" *ngIf="!showForItemize">
                      <label>Class</label><span style="color:#FF0000">*</span>
                      <select class="form-control" id="classificationForPieces"  
                      (keydown)="checkEnterKey($event, 'classificationForPieces')" formControlName="classification" 
                                  (change)="checkForClassification(piecesForm.controls['classification'].value)" required>
                            <option value="" hidden>Select</option>
                            <option *ngFor="let class of classArray" value="{{class}}">{{class}}</option>
                          </select>
                    </div>              
                  </div>
                  <div class="row" *ngIf="piecesListArray?.length > 0 ||piecesClassListArray?.length > 0">
                    <div class="col-md-6">
                                       <h6 class="item-body">Remaining Pieces : {{headerDetailForShipment?.differencePieces}}  {{headerDetailForShipment?.PackageUnitType}}</h6>
                                       </div>
                                       <div class="col-md-6">
                                      <h6 class="item-body">Remaining Weight : {{headerDetailForShipment?.differenceWeight}}  ttl</h6>
                    </div>  
                    </div>
                    <div class="row text-center" *ngIf="errorMessageForWeightCount">
                      <span class="text-center" style="color: #FF0000; font-size:14px">
                       {{showWeightVarianceMsg}}
                      </span>
                    </div>
                    <div class="row text-center" *ngIf="errorMessageForPiecesCount">
                      <span class="text-center" style="color: #FF0000; font-size:14px">
                       {{showPiecesVarianceMsg}}
                      </span>
                    </div>
                    
            </div>
            <div class="table-responsive" *ngIf="showForItemize && piecesListArray.length > 0" style="padding: 10px 30px">
                <table class="table table-bordered" >
                  <tr>
                      <td class="green-txt bg-td">Pieces Unit</td>
                        <td class="green-txt bg-td">Weight</td>
                        <td class="green-txt bg-td">Description</td>
                          <td class="green-txt bg-td">Edit</td>
                          <td class="green-txt bg-td">Delete</td>
                  </tr>
                  <tr *ngFor="let piecesValue of piecesListArray;let i=index">
                    <td>{{piecesValue.PackageQuantity}} {{piecesValue.PackageUnitType}}</td> 
                    <td>{{piecesValue.Weight.Value}}</td>
                    <td>{{piecesValue.Description}}</td>
                    <td (click)="editPieces(piecesValue, i, 'Itemize')"><i
                      class="fa fa-check" aria-hidden="true"></i></td>
                    <td (click)="deletePieces(piecesValue, i, 'Itemize')"><i class="fa fa-trash-o"></i></td>
                  </tr>
                </table>
              </div>
              
              <div class="table-responsive" *ngIf="!showForItemize && piecesClassListArray?.length > 0" style="padding: 10px 30px">
                <table class="table table-bordered">
                  <tr>
                      <td class="green-txt bg-td">Pieces Unit</td>
                        <td class="green-txt bg-td">Weight</td>
                        <td class="green-txt bg-td">Description</td>
                          <td class="green-txt bg-td">Nmfc</td>
                            <td class="green-txt bg-td">Class</td>
                            <td class="green-txt bg-td">Edit</td>
                              <td class="green-txt bg-td">Delete</td>
                  </tr>
                  <tr *ngFor="let piecesValue of piecesClassListArray;let i=index">
                      <td>{{piecesValue.PackageQuantity}} {{piecesValue.PackageUnitType}}</td> 
                      <td>{{piecesValue.Weight.Value}}</td>
                      <td>{{piecesValue.Description}}</td>
                    <td>{{piecesValue.nmfc}}</td>
                    <td>{{piecesValue.FreightClass}}</td>
                    <td (click)="editPieces(piecesValue, i, 'Multi Classed Pallet')"><i
                      class="fa fa-check" aria-hidden="true"></i></td>
                    <td (click)="deletePieces(piecesValue, i, 'Multi Classed Pallet')"><i class="fa fa-trash-o"></i></td>
                  </tr>
                </table>
              
              </div>
      
            <div class="modal-footer">
              <div class="row">
                <div class="col-md-4 col-md-push-2 green-button text-center" *ngIf="showForAddPiecesInTable">
                  <button class="green-button" *ngIf="addPiecesHeader =='Itemized'" id="addBtn"
                  [disabled]="piecesForm.controls['packageQuantity'].value=== '' || piecesForm.controls['description'].value=== ''" 
                  (click)="addPieces(piecesForm.value, billOfLading.value, addPiecesHeader)">
                  <i class="fa fa-plus-circle" aria-hidden="true" style="margin-right:5px;"></i>Add</button>
                  <button class="green-button" *ngIf="addPiecesHeader !=='Itemized'" id="addBtn"
                  [disabled]="piecesForm.controls['packageQuantity'].value=== '' || piecesForm.controls['description'].value=== '' || piecesForm.controls['weight'].value=== '' || piecesForm.controls['nmfc'].value=== '' " 
                  (click)="addPieces(piecesForm.value, billOfLading.value, addPiecesHeader)">
                  <i class="fa fa-plus-circle" aria-hidden="true" style="margin-right:5px;"></i>Add</button>
                </div>
                <div class="col-md-4 col-md-push-2 green-button text-center"  *ngIf="!showForAddPiecesInTable">
                    <button class="green-button" *ngIf="addPiecesHeader =='Itemized'" 
                    [disabled]="piecesForm.controls['packageQuantity'].value=== '' || piecesForm.controls['description'].value=== ''" 
                    (click)="updatePieces(piecesForm.value, billOfLading.value, addPiecesHeader, 'addFeature')">Update</button>
                    <button class="green-button" *ngIf="addPiecesHeader !=='Itemized'"
                    [disabled]="piecesForm.controls['packageQuantity'].value=== '' || piecesForm.controls['description'].value=== '' || piecesForm.controls['weight'].value=== '' || piecesForm.controls['classification'].value=== '' || piecesForm.controls['nmfc'].value=== ''" 
                    (click)="updatePieces(piecesForm.value, billOfLading.value, addPiecesHeader, 'addFeature')">
                    Update</button>
                  </div>
      
                <div class="col-md-4 col-md-push-2 green-button text-center">
                  <button class="green-button" id ="closeModal" (click)="addShipmentInfo(billOfLading.value, addPiecesHeader)">
                    <i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                </div>
              </div>
            </div>
           
            </form>
          </div>
        </div>
      </div>
          <!--start of quote details modal-->
      
          <div id="quote_details" class="modal" role="dialog"   data-keyboard="false">
            <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
            <div class="modal-header">
            <h4 class="modal-title" style="color: #ffffff!important">&nbsp;Quote Details</h4>
            <span><button type="button" class="close close2" data-dismiss="modal" style="font-size: 35px">&times;</button></span>
            </div>
            <div class="modal-body">
            <div class="legend-body" style="margin-bottom: 10px;">
            
            <div class="row">
            <div class="col-sm-6">
            <p class="qt_hd">Company :<span class="qt_bd">{{singleCustomerName}}</span></p>
            </div>
            <div class="col-sm-6">
            <div class="col-sm-4" style="padding-left: 0px !important; padding-right: 0px !important;">
            <p class="qt_hd" style="padding-left: 0px !important; padding-right: 0px !important;">Origin :</p>
            </div>
            <div class="col-sm-8" style="padding-left: 0px !important; padding-right: 0px !important;">
            <p class="qt_bd" style="padding-left: 0px !important; padding-right: 0px !important;">{{specificQuoteIdObject?.originZip}}({{originCityState?.city}},{{originCityState?.state}})</p>
            </div>
            </div>
            </div>
            <div class="row">
            <div class="col-sm-6 ">
            <p class="qt_hd">Quote ID &nbsp;:<span class="qt_bd">{{specificQuoteIdObject?.quoteReferenceId}}</span></p>
            </div>
            <div class="col-sm-6">
            <div class="col-sm-4" style="padding-left: 0px !important; padding-right: 0px !important;">
            <p class="qt_hd" style="padding-left: 0px !important; padding-right: 0px !important;">Destination:</p>
            </div>
            <div class="col-sm-8" style="padding-left: 0px !important; padding-right: 0px !important;">
            <p class="qt_bd" style="padding-left: 0px !important; padding-right: 0px !important;">{{specificQuoteIdObject?.destinationZip}}({{destinationCityState?.city}},{{destinationCityState?.state}})</p>
            </div>
            </div>
            </div>
            <div class="row">
            <div class="col-sm-6">
            <p class="qt_hd" *ngIf="customerType !== 'externalCustomer'">Category &nbsp;:<span class="qt_bd" >{{specificQuoteIdObject?.category}}</span></p>
            </div>
            <div class="col-sm-6">
            <div class="col-sm-4" style="padding-left: 0px !important; padding-right: 0px !important;">
            <p class="qt_hd" style="padding-left: 0px !important; padding-right: 0px !important;">Carrier :
            </p>
            </div>
            <div class="col-sm-8" style="padding-left: 0px !important; padding-right: 0px !important;">
            <p class="qt_bd" style="padding-left: 0px !important; padding-right: 0px !important;">{{specificQuoteIdObject?.carrier}}</p>
            </div>
            </div>
            </div>
            
            <div class="table-responsive">
            <table class="table table-bordered" style="text-align: left!important">
            <thead>
            <tr>
            <th style="color: #fff;border:1px solid #a4745b;font-size: 13px ">Description</th>
            <th style="color: #fff;border:1px solid #a4745b;font-size: 13px">Class</th>
            <th style="color: #fff;border:1px solid #a4745b;font-size: 13px">Weight&nbsp;(Pounds)</th>
            <th style="color: #fff;border:1px solid #a4745b;font-size: 13px">Rate</th>
            <th style="color: #fff;border:1px solid #a4745b;font-size: 13px">Charge</th>
            </tr>
            </thead>
            <tbody>
            <tr>
            <td></td>
            <td class="td_right">
            <div *ngFor="let classData of rateDetailObject?.classification" >{{classData}}</div></td>
            <td class="td_right">
            <div *ngFor="let weight of rateDetailObject?.weight" style="text-align: right!important;">{{weight}}</div>
            <!-- <div *ngFor="let diffWeight of rateDetailObject?.diffWeight">{{diffWeight}}</div> -->
          </td>
            <td class="td_right">
            <div *ngFor="let rate of rateDetailObject?.rate" style="text-align: right!important;">${{rate}}</div>
            <div *ngFor="let crtRate of rateDetailObject?.crtRate" style="text-align: right!important;">${{crtRate}}</div>
          </td>
            <td class="td_right">
            <div *ngFor="let finalRate of rateDetailObject?.finalRate" style="text-align: right!important;">${{finalRate}}</div>
            <div *ngFor="let diffRate of rateDetailObject?.diffRate" style="text-align: right!important;">${{diffRate}}</div>
          </td>
            </tr>
            <tr>
            <td class="td_left" style="text-align: left!important;">Total Weight and Discount({{rateDetailObject?.discount}}%)
           <br> <tr ><td colspan="2" class="td_left" style="padding:0px">High Cost</td></tr>
           <tr *ngFor="let high of highcostArray"><td *ngIf="high.origin !== 0" class="td_left" style="padding:0px" id="modalAccessorialName">Origin - {{high.origin}}</td><td *ngIf="high.destination !== 0" class="td_right" style="padding:0px" id="modalAccessorialCostTotal"> Destination - {{high.destination}}</td></tr>
            </td>
            <td></td>
            <td class="td_right" style="text-align: right!important;">{{rateDetailObject?.totalWeight}}</td>
            <td></td>
            <td class="td_right" style="text-align: right!important;">${{charge}}<br>${{rateDetailObject?.highCostDeliveryCharge}}</td>
            </tr>
            <tr>
                <td class="td_left" style="text-align: left!important;">Fuel Surcharge({{rateDetailObject?.fuelCharge}}%)</td>
                <td></td>
                <td></td>
                <td></td>
                <td class="td_right" style="text-align: right!important;">${{fuelCharges}}</td><!-- fuelcharge will not come for certain result-->
                </tr>
              <!-- <td class="td_left" style="text-align: left!important;">High Cost</td> -->
                <!-- <tr>
          
            <table>
              <tr ><td colspan="2" class="td_left" style="padding:0px">High Cost</td></tr>
              <tr *ngFor="let high of highcostArray"><td *ngIf="high.origin !== 0" class="td_left" style="padding:0px" id="modalAccessorialName">Origin - {{high.origin}}</td><td *ngIf="high.destination !== 0" class="td_right" style="padding:0px" id="modalAccessorialCostTotal"> Destination - {{high.destination}}</td></tr>
              </table>
            <td></td>
            <td></td>
            <td></td>
            <td class="td_right" style="text-align: right!important;">${{rateDetailObject?.highCostDeliveryCharge}}</td>
            </tr> -->
            <tr>
            <td class="td_left" style="text-align: left!important;">Single Shipment Charge</td>
            <td></td>
            <td></td>
            <td></td>
            <td class="td_right" style="text-align: right!important;">${{rateDetailObject?.singleShipmentCharge}}</td>
            </tr>
            <tr *ngIf="rateDetailObject?.additionalCharge !== 0">
            <td class="td_left" style="text-align: left!important;">Additional Charge</td>
            <td></td>
            <td></td>
            <td></td>
            <td class="td_right" style="text-align: right!important;">${{rateDetailObject?.additionalCharge}}</td>
            </tr>
            <tr *ngIf="rateDetailObject?.peakSurcharge !== 0">
              <td class="td_left" style="text-align: left!important;">Peak Charge</td>
              <td></td>
              <td></td>
              <td></td>
              <td class="td_right" style="text-align: right!important;">${{rateDetailObject?.peakSurcharge}}</td>
              </tr>
            <tr>
            <td class="td_left">
            <table style="border: none;">
            <tr ><td colspan="2" class="td_left" style="padding:0px;border:none;text-align: left!important;" >Accessorial Charge</td></tr>
            <tr *ngFor="let assessorial of assessorialList"><td class="td_left" style="padding:0px;border:none; text-align:left!important;">{{assessorial.name}}</td><td class="td_right" style="padding:0px" style="text-align: right!important;">- {{assessorial.cost}}</td></tr>
            <!-- <tr><span *ngFor="let assessorial of assessorialList">{{assessorial.name}} &nbsp;<b> - {{assessorial.cost}}</b><br></span></tr> -->
            </table></td>
            <td ></td>
            <td ></td>
            <td ></td>
            <td class="td_right" style="vertical-align: bottom" style="text-align: right!important;">${{rateDetailObject?.assessorialCharge}}</td>
            </tr>
            <tr>
            <td class="td_left" style="text-align: left!important;">Total Charge</td>
            <td></td>
            <td></td>
            <td></td>
            <td class="td_right" style="text-align: right!important;">${{specificQuoteIdObject?.totalCharge}}</td>
            </tr>
            
            </tbody>
            </table>
            <div class="alert alert-success" id="success-alert">
              <button type="button" class="close" data-dismiss="alert">x</button>
              <strong>Success! </strong>
              Email Sent Successfully
          </div>
          <div >
            <button class="btn btn-primary" style="background-color: transparent;
            border: 2px solid #fff; margin-top: 15px;
            margin-left: 10px;" data-toggle="tooltip" data-placement="left" title="Continue to Bill Of Lading" (click)="continueBOL(billOfLading.value , billOfLading)" data-dismiss="modal">Continue</button>
            <button class="btn btn-primary " style="background-color: transparent;
            border: 2px solid #fff;
            float: right; margin: 1em;"  id="sendMail" (click)="sendMailAr(specificQuoteIdObject.quoteId, specificQuoteIdObject?.salesRepId, 'externalCustomer', specificQuoteIdObject?.category)" data-toggle="tooltip" data-placement="left" title="Send Email"><i class="fa fa-envelope" aria-hidden="true"></i>&nbsp;Send Email</button>
            </div>
            
            </div>
            </div>
            </div>
            
            </div>
            </div>
            </div>
        
    
        
        
        <div id="costplus_quote_details" class="modal" role="dialog"   data-keyboard="false">
              <div class="modal-dialog">
              
              
              <!-- Modal content-->
              <div class="modal-content">
              <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" style="font-size: 35px">&times;</button>
              <h4 class="modal-title" style="color: #ffffff!important">&nbsp;Quote Details</h4>
              </div>
              <div class="modal-body">
              <div class="legend-body" style="margin-bottom: 10px;">
              
              <div class="row">
              <div class="col-sm-6">
              <p class="qt_hd">Company :<span class="qt_bd">{{singleCustomerName}}</span></p>
              </div>
              <div class="col-sm-6">
              <div class="col-sm-4" style="padding-left: 0px !important; padding-right: 0px !important;">
              <p class="qt_hd" style="padding-left: 0px !important; padding-right: 0px !important;">Origin :</p>
              </div>
              <div class="col-sm-8" style="padding-left: 0px !important; padding-right: 0px !important;">
              <p class="qt_bd" style="padding-left: 0px !important; padding-right: 0px !important;">{{specificQuoteIdObject?.originZip}}({{originCityState?.city}},{{originCityState?.state}})</p>
              </div>
              </div>
              </div>
              <div class="row">
              <div class="col-sm-6 ">
              <p class="qt_hd">Quote ID &nbsp;:<span class="qt_bd">{{specificQuoteIdObject?.quoteReferenceId}}</span></p>
              </div>
              <div class="col-sm-6">
              <div class="col-sm-4" style="padding-left: 0px !important; padding-right: 0px !important;">
              <p class="qt_hd" style="padding-left: 0px !important; padding-right: 0px !important;">Destination:</p>
              </div>
              <div class="col-sm-8" style="padding-left: 0px !important; padding-right: 0px !important;">
              <p class="qt_bd" style="padding-left: 0px !important; padding-right: 0px !important;">{{specificQuoteIdObject?.destinationZip}}({{destinationCityState?.city}},{{destinationCityState?.state}})</p>
              </div>
              </div>
              </div>
              <div class="row">
              <div class="col-sm-6">
              <p class="qt_hd" *ngIf="customerType !== 'externalCustomer'">Category &nbsp;:<span class="qt_bd" >{{specificQuoteIdObject?.category}}</span></p>
              </div>
              <div class="col-sm-6">
              <div class="col-sm-4" style="padding-left: 0px !important; padding-right: 0px !important;">
              <p class="qt_hd" style="padding-left: 0px !important; padding-right: 0px !important;">Carrier :
              </p>
              </div>
              <div class="col-sm-8" style="padding-left: 0px !important; padding-right: 0px !important;">
              <p class="qt_bd" style="padding-left: 0px !important; padding-right: 0px !important;">{{specificQuoteIdObject?.carrier}}</p>
              </div>
              </div>
              </div>
              
    
              <div class="table-responsive">
              <table class="table table-bordered" style="text-align: left!important">
              <thead>
              <tr>
              <th style="color: #fff;border:1px solid #a4745b;font-size: 13px ">Description</th>
              <th style="color: #fff;border:1px solid #a4745b;font-size: 13px">Class</th>
              <th style="color: #fff;border:1px solid #a4745b;font-size: 13px">Weight&nbsp;(Pounds)</th>
              <th style="color: #fff;border:1px solid #a4745b;font-size: 13px">Rate</th>
              <th style="color: #fff;border:1px solid #a4745b;font-size: 13px">Charge</th>
              </tr>
              </thead>
              <tbody>
              <tr>
              <td></td>
              <td class="td_right">
              <div *ngFor="let classData of rateDetailObject?.classification" >{{classData}}</div></td>
              <td class="td_right">
              <div *ngFor="let weight of rateDetailObject?.weight" style="text-align: right!important;">{{weight}}</div>
              <!-- <div *ngFor="let diffWeight of rateDetailObject?.diffWeight">{{diffWeight}}</div> -->
            </td>
              <td class="td_right">
              <!-- <div *ngFor="let rate of rateDetailObject?.rate" >${{rate}}</div>
              <div *ngFor="let crtRate of rateDetailObject?.crtRate">${{crtRate}}</div> -->
            </td>
              <td class="td_right">
              <!-- <div *ngFor="let finalRate of rateDetailObject?.finalRate" >${{finalRate}}</div>
              <div *ngFor="let diffRate of rateDetailObject?.diffRate">${{diffRate}}</div> -->
            </td>
              </tr>
              <tr>
              <td class="td_left" style="text-align: left!important;">Total Weight and Charge</td>
              <td></td>
              <td class="td_right" style="text-align: right!important;">{{rateDetailObject?.totalWeight}}</td>
              <td></td>
              <td class="td_right" style="text-align: right!important;">${{charge}}</td>
              </tr>
              <tr>
                  <td class="td_left" style="text-align: left!important;">Fuel Surcharge</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td class="td_right" style="text-align: right!important;">${{fuelCharges}}</td><!-- fuelcharge will not come for certain result-->
                  </tr>
              <tr>
              <td class="td_left" style="text-align: left!important;">High Cost</td>
              <td></td>
              <td></td>
              <td></td>
              <td class="td_right" style="text-align: right!important;">${{rateDetailObject?.highCostDeliveryCharge}}</td>
              </tr>
              <tr>
              <td class="td_left" style="text-align: left!important;">Single Shipment Charge</td>
              <td></td>
              <td></td>
              <td></td>
              <td class="td_right" style="text-align: right!important;">${{rateDetailObject?.singleShipmentCharge}}</td>
              </tr>
              <tr *ngIf="rateDetailObject?.additionalCharge !== 0">
              <td class="td_left" style="text-align: left!important;">Additional Charge</td>
              <td></td>
              <td></td>
              <td></td>
              <td class="td_right" style="text-align: right!important;">${{rateDetailObject?.additionalCharge}}</td>
              </tr>
             
              <tr>
              <td class="td_left">
              <table style="border: none;">
              <tr ><td colspan="2" class="td_left" style="padding:0px;border:none; text-align: left!important;">Accessorial Charge</td></tr>
              <tr *ngFor="let assessorial of assessorialList"><td class="td_left" style="padding:0px;border:none; text-align: left!important;">{{assessorial.name}}</td><td class="td_right" style="padding:0px; text-align: right!important;">- {{assessorial.cost}}</td></tr>
              <!-- <tr><span *ngFor="let assessorial of assessorialList">{{assessorial.name}} &nbsp;<b> - {{assessorial.cost}}</b><br></span></tr> -->
              </table></td>
              <td ></td>
              <td ></td>
              <td ></td>
              <td class="td_right" style="vertical-align: bottom; text-align: right!important;">${{rateDetailObject?.assessorialCharge}}</td>
              </tr>
              <tr>
              <td class="td_left" style="text-align: left!important;">Total Charge</td>
              <td></td>
              <td></td>
              <td></td>
              <td class="td_right" style="text-align: right!important;">${{specificQuoteIdObject?.totalCharge}}</td>
              </tr>
              
              </tbody>
              </table>
              <!-- <div class="alert alert-success" id="success-alert">
                <button type="button" class="close" data-dismiss="alert">x</button>
                <strong>Success! </strong>
                Email Sent Successfully
            </div> -->
            <div >
              <button class="btn btn-primary" style="background-color: transparent;
              border: 2px solid #fff; margin-top: 15px;
              margin-left: 10px;"
              data-toggle="tooltip" data-placement="left" title="Continue to BOL"
              (click)="continueBOL(billOfLading.value , billOfLading)" data-dismiss="modal">Continue</button>
              <button class="btn btn-primary" style="background-color: transparent;
              border: 2px solid #fff;
              float: right;
              margin: 1em;" id="sendMail" (click)="sendMailAr(specificQuoteIdObject.quoteId, specificQuoteIdObject?.salesRepId, 'externalCustomer', specificQuoteIdObject?.category)" data-toggle="tooltip" data-placement="left" title="Send Email"><i class="fa fa-envelope" aria-hidden="true"></i>&nbsp;Send Email</button>
              </div>
              </div>
              </div>
              </div>
              </div>
              </div>
              </div>
        <!--End of quote details modal-->
        <!-- Itemized Edit Modal -->
      <div id="new-edit-modal" class="modal" role="dialog"   data-keyboard="false">
          <div class="modal-dialog modal-lg">
        
            <!-- Modal content-->
            <div class="modal-content">
              <form [formGroup]="editShipmentInformationForm">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="color: #FFFFFF"><i class="fa fa-pencil" style="margin-right:5px;"></i>&nbsp;Edit Line Item</h4>
              </div>
              <div class="modal-body">
               <div class="clearfix">&nbsp;</div>
                <div class="row">
                    <div class="col-md-3 form-group radio-group">
                        <!-- style="margin-top: 28px" -->
                        <label >Is Hazardous material?</label>
                      <div style="margin-top: -15px;margin-bottom: 15px;margin-left: -10px;">
                        <input type="radio" id="hazmat3" class="option-input radio" style="top: 5px;
                        margin-left: 10px;" value="true" formControlName="hazmat"/>
                        <label style="margin-top: 28px">Yes</label>
                        <input type="radio" id="hazmat4" class="option-input radio" style="top: 5px;
                        margin-left: 10px;" value="false" formControlName="hazmat"/>
                        <label style="margin-top: 28px">No</label>
                        </div>
                        </div> 
                    <div class="col-md-3 form-group">
                        <label>Handling Units</label><span style="color:#FF0000">*</span>
                        <div style="display: flex">
                            <input type="text" *ngIf="disableCertainFields" class="form-control addColor" placeholder="Qty" id="handlingUnitQuantityEdit" 
                                   maxlength="4" formControlName="handlingUnitQuantity"
                                   ngPattern="/[0-9]/" style="width:100px;"
                                   onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')"
                                    (change)="checkForNumber(editShipmentInformationForm.controls['handlingUnitQuantity'].value, 'handlingUnits')" autocomplete="nope" (keydown)="checkForenterKeyEdit($event,'handlingUnitsEdit')"
                                    >
                                    
                                    <input type="text" *ngIf="!disableCertainFields" class="form-control" placeholder="Qty" id="handlingUnitQuantityEdit" 
                                   maxlength="4" formControlName="handlingUnitQuantity"
                                   ngPattern="/[0-9]/" style="width:100px;"
                                   onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')"
                                    (change)="checkForNumber(editShipmentInformationForm.controls['handlingUnitQuantity'].value, 'handlingUnits')" autocomplete="nope" (keydown)="checkForenterKeyEdit($event,'handlingUnitsEdit')"
                                    >
                            <select class="form-control" id="handlingUnitType" formControlName="handlingUnitType">
                              <option *ngFor="let unit of handlingUnitTypeArray" value="{{unit}}">{{unit}}</option>
                            </select>
                           </div>              
                    </div>
                    
                    <div class="col-md-3 form-group">
                      <label>Weight</label>
                      <div class="input-group" style="display: flex">
                          <input type="text" *ngIf="!disableCertainFields" class="form-control" id="weight" placeholder="(lbs)" name="search" 
                                 maxlength="5" ngPattern="/[0-9]/" style="width:100px;"
                                 onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')"
                                  (onblur)="checkWeight(editShipmentInformationForm.controls['weight'].value)"
                                 (change)="checkForNumber(editShipmentInformationForm.controls['weight'].value, 'weight'); 
                                 
                                 checkWeight(editShipmentInformationForm.controls['weight'].value)" formControlName="weight"
                                 autocomplete="nope" >
                                 <input *ngIf="disableCertainFields" type="text" class="form-control" id="weight" placeholder="(lbs)" name="search" 
                                 maxlength="5" ngPattern="/[0-9]/" style="width:100px;"
                                 onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')"
                                  (onblur)="checkWeight(editShipmentInformationForm.controls['weight'].value)"
                                 (change)="checkForNumber(editShipmentInformationForm.controls['weight'].value, 'weight'); 
                                 checkWeight(editShipmentInformationForm.controls['weight'].value)" formControlName="weight"
                                 autocomplete="nope"[disabled]="true" >
                                 <select class="form-control" id="weightUnit" formControlName="weightUnit">
                                  <option *ngFor="let unit of weightUnitTypeArray" value="{{unit}}">{{unit}}</option>
                                  </select>
                                </div>
                    </div>
                    <div class="col-md-3 form-group">
                        <label>Cubic(ft<sup>3</sup>)</label>
                        <input type="text" class="form-control" id="cube" placeholder="Cube"
                             maxlength="7" formControlName="cube"
                             ngPattern="/[0-9]/" 
                             onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" 
                             autocomplete="nope" >
                      </div>
                  </div>
                  <div class="row">
                      <!-- <div class="col-md-6 form-group">
                          <label>Dimensions(L*W*H)</label>
                          <div class="input-group" style="display: flex">
                              <input type="text" class="form-control" id="lengthEdit" placeholder="L"  maxlength="4" 
                                ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls.length.value, 'length'); 
                                checkDimensions(editShipmentInformationForm.value, 'editShipmentInformationForm')"
                                onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" formControlName="length"
                                autocomplete="nope" (keydown)="checkForenterKeyEdit($event, 'lengthEdit')">
                              <input type="text" class="form-control" id="widthEdit" placeholder="W" maxlength="4" 
                                ngPattern="/[0-9]/" formControlName="width"
                                (change)="checkForNumber(editShipmentInformationForm.controls.width.value, 'width'); 
                                checkDimensions(editShipmentInformationForm.value, 'billOfLading')"
                                onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" 
                                 autocomplete="nope" (keydown)="checkForenterKeyEdit($event, 'widthEdit')">
                              <input type="text" class="form-control" id="heightEdit" placeholder="H" maxlength="4" 
                                ngPattern="/[0-9]/" formControlName="height"
                                (change)="checkForNumber(editShipmentInformationForm.controls.height.value, 'height');
                                checkDimensions(editShipmentInformationForm.value, 'billOfLading')"
                                onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" 
                                 autocomplete="nope" (keydown)="checkForenterKeyEdit($event, 'heightEdit')">
                                    </div>
                        </div> -->
                        <div class="col-md-5 form-group">
                          <label>Pieces Count</label><span style="color:#FF0000">*</span>
                          <div style="display: flex">
                              <input type="text" *ngIf="disableCertainFields" class="form-control addColor" id="packageQuantityEdit"
                               placeholder="Qty" formControlName="packageQuantity"
                                     maxlength="4"
                                     ngPattern="/[0-9]/" style="width:60px;"
                                     onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" 
                                     (change)="checkForNumber(editShipmentInformationForm.controls['packageQuantity'].value, 'packageEdit'); 
                                     editOnLtlQuote(editShipmentInformationForm.controls['packageQuantity'].value, 'package')" 
                                     autocomplete="nope" (keydown)="checkForenterKeyEdit($event, 'packageQuantityEdit')"
                                     >

                                     <input type="text" *ngIf="!disableCertainFields" class="form-control" id="packageQuantityEdit" 
                               placeholder="Qty" formControlName="packageQuantity"
                                     maxlength="4"
                                     ngPattern="/[0-9]/" style="width:60px;"
                                     onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" 
                                     (change)="checkForNumber(editShipmentInformationForm.controls['packageQuantity'].value, 'package'); 
                                     editOnLtlQuote(editShipmentInformationForm.controls['packageQuantity'].value, 'package')" 
                                     autocomplete="nope"(keydown)="checkForenterKeyEdit($event, 'packageQuantityEdit')"
                                     >
                              <select class="form-control" id="packageUnitType" formControlName="packageUnitType" (change)="editOnLtlQuote(editShipmentInformationForm.controls['packageUnitType'].value, 'packageUnitType')">
                                <option *ngFor="let package of packageUnitArray" value={{package}}>{{package}}</option>
                              </select>
                               </div>
                      </div>

                      <div class="col-md-3 form-group">
                          <label>NMFC# <span style="color:#FF0000">*</span>(111111s11)</label>
                          <input type="text"class="form-control" id="nmfcEdit" name="cpf3" 
                          mask="999999S99" pattern="000000S00" ngPattern="/[0-9Ss]/" 
                          onkeyup="this.value=this.value.replace(/[^0-9Ss]+/g,'')"  formControlName="nmfc"
                          (change)="changedDecimal($event)" minlength="4" maxlength="9" id="cpf9" 
                           autocomplete="nope" (keydown)="checkForenterKeyEdit($event, 'nmfcedit')">
                        </div>
                        <div class="col-md-3 form-group">
                            <label>Class</label>
                            <select *ngIf="!disableCertainFields" class="form-control" id="classificationedit"  
                                       formControlName="classification" required
                                       (change)="checkForClassification(editShipmentInformationForm.controls['classification'].value)" (keydown)="checkForenterKeyEdit($event, 'classificationedit')">
                                  <option value="" hidden>Select</option>
                                  <option *ngFor="let class of classArray" value="{{class}}">{{class}}</option>
                                </select>
                                <select *ngIf="disableCertainFields" class="form-control" id="classificationedit"  
                                       formControlName="classification" required[disabled]="true"
                                       (change)="checkForClassification(editShipmentInformationForm.controls['classification'].value)" (keydown)="checkForenterKeyEdit($event, 'classificationedit')">
                                  <option value="" hidden>Select</option>
                                  <option *ngFor="let class of classArray" value="{{class}}">{{class}}</option>
                                </select>
                          </div>
                  </div>
                          <div class="row">
                            <!-- <div class="col-md-5 form-group">
                                <label>Pieces Count</label><span style="color:#FF0000">*</span>
                                <div style="display: flex">
                                    <input type="text" *ngIf="disableCertainFields" class="form-control addColor" id="packageQuantityEdit"
                                     placeholder="Qty" formControlName="packageQuantity"
                                           maxlength="4"
                                           ngPattern="/[0-9]/" style="width:60px;"
                                           onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" 
                                           (change)="checkForNumber(editShipmentInformationForm.controls.packageQuantity.value, 'packageEdit'); 
                                           editOnLtlQuote(editShipmentInformationForm.controls.packageQuantity.value, 'package')" 
                                           autocomplete="nope" (keydown)="checkForenterKeyEdit($event, 'packageQuantityEdit')">
      
                                           <input type="text" *ngIf="!disableCertainFields" class="form-control" id="packageQuantityEdit" 
                                     placeholder="Qty" formControlName="packageQuantity"
                                           maxlength="4"
                                           ngPattern="/[0-9]/" style="width:60px;"
                                           onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" 
                                           (change)="checkForNumber(editShipmentInformationForm.controls.packageQuantity.value, 'package'); 
                                           editOnLtlQuote(editShipmentInformationForm.controls.packageQuantity.value, 'package')" 
                                           autocomplete="nope"(keydown)="checkForenterKeyEdit($event, 'packageQuantityEdit')">
                                    <select class="form-control" id="packageUnitType" formControlName="packageUnitType" (change)="editOnLtlQuote(editShipmentInformationForm.controls.packageUnitType.value, 'packageUnitType')">
                                      <option *ngFor="let package of packageUnitArray" value={{package}}>{{package}}</option>
                                    </select>
                                     </div>
                            </div> -->
                            <div class="col-md-6 form-group">
                              <label>Dimensions(L*W*H)</label>
                              <div class="input-group" style="display: flex">
                                  <input type="text" class="form-control" id="lengthEdit" placeholder="L"  maxlength="4" 
                                    ngPattern="/[0-9]/" (change)="checkForNumber(billOfLading.controls['length'].value, 'length'); 
                                    checkDimensions(editShipmentInformationForm.value, 'editShipmentInformationForm')"
                                    onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" formControlName="length"
                                    autocomplete="nope" (keydown)="checkForenterKeyEdit($event, 'lengthEdit')">
                                  <input type="text" class="form-control" id="widthEdit" placeholder="W" maxlength="4" 
                                    ngPattern="/[0-9]/" formControlName="width"
                                    (change)="checkForNumber(editShipmentInformationForm.controls['width'].value, 'width'); 
                                    checkDimensions(editShipmentInformationForm.value, 'billOfLading')"
                                    onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" 
                                     autocomplete="nope" (keydown)="checkForenterKeyEdit($event, 'widthEdit')">
                                  <input type="text" class="form-control" id="heightEdit" placeholder="H" maxlength="4" 
                                    ngPattern="/[0-9]/" formControlName="height"
                                    (change)="checkForNumber(editShipmentInformationForm.controls['height'].value, 'height');
                                    checkDimensions(editShipmentInformationForm.value, 'billOfLading')"
                                    onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" 
                                     autocomplete="nope" (keydown)="checkForenterKeyEdit($event, 'heightEdit')">
                                        </div>
                            </div>
                            <div class="col-md-7 form-group">
                                <label>Description</label>
                              <div class="input-group">
                                  <textarea  class="form-control" rows="1" id="descEdit" placeholder="Description" 
                                            formControlName="description"
                                            (change)="checkDescription(editShipmentInformationForm.controls['description'].value)" autocomplete="nope" (keydown)="checkForEnterKey($event, 'descEdit')"> </textarea>
                                 <div class="input-group-btn">
                                   <!-- <button class="btn btn-outline-secondary" type="button" data-toggle="modal" data-target="#description-modal"><i class="fa fa-pencil"></i></button> -->
                                   <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                                   <div class="dropdown-menu" style="padding: 0px;height:200px;overflow: auto;width: 500px">
                                     <table class="table table-bordered" style="margin-bottom: 0px;border:none" >
                                         <thead>
                                       <tr>
                                         <td>Template Name</td>
                                         <td>Description</td>
                                         <td>Class</td>
                                       </tr>
                                       </thead>
                                       <tbody *ngIf="!itemTemplatesPresent">
                                       <tr *ngFor="let itemTemplates of itemTemplate" class="noIbar" 
                                       (click)="getItemClickValues(itemTemplates.id, 'choose', 'choose')">
                                         <td>{{itemTemplates?.templateName}}</td>
                                         <td>{{itemTemplates?.description}}</td>
                                         <td>{{itemTemplates?.class}}</td>
                                       </tr>
                                       </tbody>
                                       <tbody *ngIf="itemTemplatesPresent">
                                         <tr>
                                           <td colspan="3" rowspan ="3">
                                             <label >No Templates Available</label>
                                           </td>
                                         </tr>
                                       </tbody>
                                     </table>     
                                   </div>
                                 </div>
                               </div>
                            </div>
                          </div>
                          <div class="row">
                              <div class="col-md-6">
                                                 <h6 class="item-body">Total Pieces : {{headerDetailForShipment?.PackageQuantity}}  {{headerDetailForShipment?.PackageUnitType}}</h6>
                                                 </div>
                                                 <div class="col-md-6">
                                                <h6 class="item-body">Total Weight : {{headerDetailForShipment?.Weight?.Value}}  ttl</h6>
                                                <!-- <h6 class="item-body">NMFC# (111111s11) : 1234</h6> -->
                              </div>  
                              </div>
      
                          <!--Edit Pieces for Multi class and Itemize-->
                          <div class="bg-div" *ngIf="showEditPiecesForm">
                              <h4 class="sub-head">Edit on Pieces Information</h4>
                              <form [formGroup]="piecesForm">
                          <div class="row">
                              <div class="col-md-3 form-group">
                                  <label>Pieces Count</label><span style="color:#FF0000">*</span>
                                  <div style="display: flex">
                                      <input type="text" class="form-control"  id="packageQuantityForEdit"
                                       placeholder="Qty" formControlName="packageQuantity"
                                             maxlength="4"
                                             ngPattern="/[0-9]/" style="width:60px;"
                                             onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')" (keydown)="checkEnterKey($event, 'packageQuantityForEdit')"
                                             (change)="checkForNumber(editShipmentInformationForm.controls['packageQuantity'].value, 'package')" autocomplete="nope" >
                                      <select class="form-control" id="packageUnitType" formControlName="packageUnitType">
                                        <option *ngFor="let package of packageUnitArray" value={{package}}>{{package}}</option>
                                      </select>
                                       </div>
                              </div>
                              <div class="col-md-3 form-group">
                                  <label>Weight</label>
                                  <div class="input-group" style="display: flex">
                                      <input type="text" *ngIf="!disableCertainFields" class="form-control" id="weightForEdit" placeholder="(lbs)" name="search" 
                                             maxlength="5" ngPattern="/[0-9]/" style="width:100px;"
                                             onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')"
                                              (onblur)="checkWeight(editShipmentInformationForm.controls['weight'].value)" (keydown)="checkEnterKey($event, 'weightForEdit')"
                                             (change)="checkForNumber(editShipmentInformationForm.controls['weight'].value, 'weight'); 
                                             checkWeight(editShipmentInformationForm.controls['weight'].value)" formControlName="weight" autocomplete="nope">
      
                                             <input type="text" *ngIf="disableCertainFields" class="form-control" id="weight" placeholder="(lbs)" name="search" 
                                             maxlength="5" ngPattern="/[0-9]/" style="width:100px;"
                                             onkeyup="this.value=this.value.replace(/[^0-9]+/g,'')"
                                              (onblur)="checkWeight(editShipmentInformationForm.controls['weight'].value)"
                                             (change)="checkForNumber(editShipmentInformationForm.controls['weight'].value, 'weight'); 
                                             checkWeight(editShipmentInformationForm.controls['weight'].value)" formControlName="weight" autocomplete="nope" [disabled]="true">
                                             <select class="form-control" id="weightUnit">
                                              <option *ngFor="let unit of weightUnitTypeArray" value="{{unit}}">{{unit}}</option>
                                              </select>
                                            </div>
                                </div>
                              <div class="col-md-6 form-group">
                                  <label>Description</label>
                                <div class="input-group">
                                    <textarea  class="form-control" rows="1" id="descForEdit" placeholder="Description"
                                              formControlName="description" (keydown)="checkEnterKey($event, 'descForEdit')"
                                              (change)="checkDescription(editShipmentInformationForm.controls['description'].value)" autocomplete="nope"> </textarea>
                                   <div class="input-group-btn">
                                     <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-caret-down"></i></button>
                                     <div class="dropdown-menu" style="padding: 0px;height:200px;overflow: auto;width: 500px">
                                       <table class="table table-bordered" style="margin-bottom: 0px;border:none" >
                                           <thead>
                                         <tr>
                                           <td>Template Name</td>
                                           <td>Description</td>
                                           <td>Class</td>
                                         </tr>
                                         </thead>
                                         <tbody *ngIf="!itemTemplatesPresent">
                                         <tr *ngFor="let itemTemplates of itemTemplate" class="noIbar" 
                                         (click)="getItemClickValues(itemTemplates.id, 'chooseForPieces', addPiecesHeader)">
                                           <td>{{itemTemplates?.templateName}}</td>
                                           <td>{{itemTemplates?.description}}</td>
                                           <td>{{itemTemplates?.class}}</td>
                                         </tr>
                                         </tbody>
                                         <tbody *ngIf="itemTemplatesPresent">
                                           <tr>
                                             <td colspan="3" rowspan ="3">
                                               <label >No Templates Available</label>
                                             </td>
                                           </tr>
                                         </tbody>
                                       </table>     
                                     </div>
                                   </div>
                                 </div>
                              </div>
                            </div>
                            <div class="row" *ngIf="showForMultiClassPiecesList">
                                <div class="col-md-6 form-group">
                                    <label>NMFC# <span style="color:#FF0000">*</span> (111111s11)</label>
                                    <input type="text"class="form-control" name="cpf3" 
                                    mask="999999S99" pattern="000000S00" ngPattern="/[0-9Ss]/" (keydown)="checkEnterKey($event, 'nmfcEdit')"
                                    onkeyup="this.value=this.value.replace(/[^0-9Ss]+/g,'')"  formControlName="nmfc"
                                    (change)="changedDecimal($event)" minlength="4" maxlength="9" id="cpf11" 
                                     autocomplete="nope" >
                                  </div>
                                  <div class="col-md-6 form-group">
                                      <label>Class</label>
                                      <select *ngIf="!disableCertainFields" class="form-control" id="classificationEdit"
                                                 formControlName="classification" required  (keydown)="checkEnterKey($event, 'classificationEdit')"
                                                 (change)="checkForClassification(piecesForm.controls['classification'].value)">
                                            <option value="" hidden>Select</option>
                                            <option *ngFor="let class of classArray" value="{{class}}">{{class}}</option>
                                          </select>
      
                                          <select *ngIf="disableCertainFields" class="form-control" id="classification"
                                                 formControlName="classification" required [disabled]="true"
                                                 (change)="checkForClassification(piecesForm.controls['classification'].value)">
                                            <option value="" hidden>Select</option>
                                            <option *ngFor="let class of classArray" value="{{class}}">{{class}}</option>
                                          </select>
                                    </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 col-md-push-2  text-center" *ngIf="showForAddPiecesInTable">
                                    <button class="logisticsBtn" *ngIf="addPiecesHeader === 'Itemized'" id="saveBtn"
                                    [disabled]="!piecesForm.controls['packageQuantity'].valid || !piecesForm.controls['description'].valid" 
                                    (click)="addPieces(piecesForm.value, billOfLading.value, addPiecesHeader)">
                                    <i class="fa fa-plus-circle" aria-hidden="true" style="margin-right:5px;"></i>Save</button>
                                    <button class="logisticsBtn" *ngIf="addPiecesHeader !== 'Itemized'" id="saveBtn"
                                    [disabled]="!piecesForm.controls['packageQuantity'].valid || !piecesForm.controls['description'].valid || !piecesForm.controls['weight'].valid || !piecesForm.controls['classification'].valid"
                                    (click)="addPieces(piecesForm.value, billOfLading.value, addPiecesHeader)">
                                    <i class="fa fa-plus-circle" aria-hidden="true" style="margin-right:5px;"></i>Save</button>
                                  </div>
                                  
                                  <div class="col-md-4 col-md-push-2 text-center"  *ngIf="!showForAddPiecesInTable">
                                      <button class="logisticsBtn" id="updateBtn" (click)="updatePieces(piecesForm.value, editShipmentInformationForm.value, addPiecesHeader, 'editFeature')">
                                          <i class="fa fa-pencil-square" aria-hidden="true"></i>Update</button>
                                    </div>
                                  <div class="col-md-4 col-md-push-2 text-center">
                                    <button class="logisticsBtn" (click)="clearPiecesForm()">
                                      <i class="fa fa-refresh" aria-hidden="true" style="margin-right:5px;"></i>Clear</button>
                                  </div>
                            </div>
                          </form>
                            </div>
                            <div class="row text-center" *ngIf="errorMessageForWeightCount">
                              <span class="text-center" style="color: #FF0000; font-size:14px">
                               {{showWeightVarianceMsg}}
                              </span>
                            </div>
                            <!--End of Edit Itemize and multiclass Pieces-->
                             
                  <div class="row" *ngIf="piecesDetailsArray?.length>0">
                      <div class="col-md-12">
                        <h4 class="main-head">Pieces Information</h4>
                        <!-- <div *ngIf="disableCertainFields">
                          <span  class="text-center" style="color: #FF0000; font-size:14px">Please Click on Edit and fill the PCS Count, Description and Nmfc#</span>
                        </div> -->
                          <button  *ngIf="!disableCertainFields" class="leg" (click)="addPiecesInEditForm(addPiecesHeader)">
                              <i class="fa fa-plus-circle" style="margin-right:5px"></i>Add Pieces</button>
                          <table class="table table-bordered" *ngIf="piecesListArray?.length>0">
                              <tr>
                                <td class="green-txt bg-td">Pieces</td>
                                <td class="green-txt bg-td">Description</td>
                                <td class="green-txt bg-td">Weight(lbs)</td>
                                <td class="green-txt bg-td">Edit</td>
                                <td *ngIf="!disableCertainFields" class="green-txt bg-td">Delete</td>
                              </tr>
                              <tbody >
                            <tr *ngFor="let piecesValue of piecesListArray; let i=index;">
                              <td>{{piecesValue.PackageQuantity}} {{piecesValue.packageUnitType}}</td>
                              <td>{{piecesValue.Description}}</td>
                              <td>{{piecesValue.Weight.Value}}</td>
                              <td (click)="editPieces(piecesValue, i, 'editItemize')"><i class="fa fa-edit blue-icon" aria-hidden="true"></i></td>
                              <td *ngIf="!disableCertainFields" (click)="deletePieces(piecesValue, i, 'Itemize')"><i class="fa fa-trash-o red-icon" aria-hidden="true"></i></td>
                            </tr>
                          </tbody>
                          </table>
                          
                          <table class="table table-bordered" *ngIf="piecesClassListArray?.length>0">
                              <tr>
                                <td class="green-txt bg-td">Pieces</td>
                                <td class="green-txt bg-td">Description</td>
                                <td class="green-txt bg-td">Weight(lbs)</td>
                                <td class="green-txt bg-td" >NMFC#</td>
                                <td class="green-txt bg-td" >Class</td>
                                <td class="green-txt bg-td">Edit</td>
                                <td *ngIf="!disableCertainFields" class="green-txt bg-td">Delete</td>
                              </tr>
                          <tbody >
                              <tr *ngFor="let piecesValue of piecesClassListArray; let i=index;">
                                <td>{{piecesValue.PackageQuantity}} {{piecesValue.packageUnitType}}</td>
                                <td>{{piecesValue.Description}}</td>
                                <td>{{piecesValue.Weight.Value}}</td>
                                
                                <td >{{piecesValue.nmfc}}</td>
                                <td >{{piecesValue.FreightClass}}</td>
                                <td (click)="editPieces(piecesValue, i, 'editMultiClass')"><i *ngIf="piecesValue.PackageQuantity!==''&& piecesValue.PackageQuantity!== null&& piecesValue.PackageQuantity!== undefined" class="fa fa-edit blue-icon" aria-hidden="true"></i><i *ngIf="piecesValue.PackageQuantity==''|| piecesValue.PackageQuantity== null || piecesValue.PackageQuantity== undefined" class="fa fa-edit red-icon" aria-hidden="true"></i></td>
                                <td *ngIf="!disableCertainFields" (click)="deletePieces(piecesValue, i, 'Multi Classed Pallet')"><i class="fa fa-trash-o red-icon" aria-hidden="true"></i></td>
                              </tr>
                            </tbody>
                              </table>           
                      </div>
                    </div>
      
                    <div class="row" *ngIf="piecesListArray?.length > 0 ||piecesClassListArray?.length > 0">
                        <div class="col-md-6">
                                           <h6 class="item-body">Remaining Pieces : {{headerDetailForShipment?.differencePieces}}  {{headerDetailForShipment?.PackageUnitType}}</h6>
                                           </div>
                                           <div class="col-md-6" *ngIf="addPiecesHeader !== 'Itemized'">
                                          <h6 class="item-body">Remaining Weight : 0  ttl</h6>
                        </div>  
                        </div>
              </div>
              <div class="modal-footer">
                <div class="row">
                  <div class="col-md-4 col-md-push-2 green-button text-center">
                    <button class="green-button"  id="updateEdit" *ngIf="piecesClassListArray?.length>0 || piecesListArray?.length>0"  
                      (click)="updatePiecesForEdit(piecesForm.value, editShipmentInformationForm.value, addPiecesHeader, 'editFeature')" [disabled]="errorMessageForWeightCount === true"><i class="fa fa-check" aria-hidden="true" style="margin-right:5px;"></i>Update</button>
                    <button class="green-button" id="updateEdit" *ngIf="piecesClassListArray?.length === 0 && piecesListArray?.length === 0 || piecesClassListArray === undefined  || piecesListArray?.length === 0" 
                     (click)="updateRow(editShipmentInformationForm.value, 'editFeature')"><i class="fa fa-check" aria-hidden="true" style="margin-right:5px;"></i>Update</button>
                  </div>
                  <div class="col-md-4 col-md-push-2 green-button text-center">
                    <button class="green-button" data-dismiss="modal" (click)="updateRow(editShipmentInformationForm.value, 'editFeature')"><i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                  </div>
                </div>
              </div>
              </form>
            </div>
          </div>
        </div>
         <!-- Itemized Edit Modal -->
          <!-- Get Rate Modal -->
          <div id="getRate-modal" class="modal" role="dialog"  data-keyboard="false">
            <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <!-- <button type="button" class="fclose" data-dismiss="modal">&times;</button> -->
                  <h4 *ngIf="getRateCheck!=true"class="modal-title" style="color: #FFFFFF">Choose the Carrier SCAC Code</h4>
                  <h4 *ngIf="getRateCheck==true" class="modal-title" style="color: #FFFFFF">Choose the Carrier SCAC Code And View Rate</h4>
    
                  <button type="button" class="close close1" data-dismiss="modal" aria-label="Close" (click)="closeGetRateModal()">
                    <span aria-hidden="true" style="font-size: 30pt !important;">&times;</span>
                  </button>
                </div>
              <form [formGroup]="billOfLading" *ngIf="this.getRateFlag === false || this.pickCarrierFlag === true">
                <div class="modal-body">
                  <div class="row">
                    <div class="col-md-4 form-group radio-group" style="margin-left: 60px" >
                      <div class="form-group" *ngFor="let carrier of rulesCarrierArray">
                          <input type="radio"  class="option-input radio" id="serviceType" formControlName="serviceType" [attr.disabled]="disableCarrier"  autofocus 
                          (change)="checkForServiceType(billOfLading.controls['serviceType'].value, billOfLading.value)" 
                          value={{carrier}} />
                          <!-- {{noshipmentDataMessage}} , {{salesRepType}} -->
                          <label >{{carrier}}</label>
                      </div>
                    </div>
                  </div>
                  <div class="row" *ngIf="showInputForOthers">
                    <div class="col-md-12">
                        <label>Carrier Name</label>
                        <input type="text" class="form-control" placeholder="" formControlName="otherServiceType" (keydown)="eventHandler($event)" autocomplete="nope" >
                      </div>
                  </div>
               
                </div>
                <div class="modal-footer">
                  <div class="row">
                    <div class="col-md-6 col-md-push-3 green-button text-center" *ngIf="billOfLading.controls['serviceType'].value !== 'OTHERS'">
                    <!-- <button class="green-button" *ngIf="this.factorization !== 'COSTPLUS' && getRateCheck === true" data-dismiss="modal" (click)=rateModal(billOfLading.value)>GET RATE</button> -->
                    <button class="green-button" id="getrate1" *ngIf="this.factorization !== 'COSTPLUS' && getRateCheck === true"  (click)="rateModal(billOfLading.value)" [disabled]="billOfLading.controls['serviceType'].value === '' " >GET RATE</button>
                    <button class="green-button" id="bol1" data-dismiss="modal" *ngIf= "this.factorization !== 'COSTPLUS' && getRateCheck === false && showNoShipmentError === false" (click)="continueToBOL(billOfLading.value)" [disabled]="billOfLading.controls['serviceType'].value === '' ">Continue to BOL</button>
                    <!-- <button class="green-button" *ngIf="this.factorization === 'COSTPLUS' && getRateCheck === true" data-dismiss="modal" (click)=rateModal(billOfLading.value)>GET RATE</button> -->
                    <button class="green-button" id="getrate2" *ngIf="this.factorization === 'COSTPLUS' && getRateCheck === true"  (click)="rateModal(billOfLading.value)" [disabled]="billOfLading.controls['serviceType'].value === ''">GET RATE</button>
                    <button class="green-button" id="bol2" data-dismiss="modal" *ngIf= "this.factorization === 'COSTPLUS' && getRateCheck === false && showNoShipmentError === false" (click)="continueToBOL(billOfLading.value)" [disabled]="billOfLading.controls['serviceType'].value === '' ">Continue to BOL</button>
                    <!-- <button id="createbolfocus" *ngIf="showEnteringForm === true" class="detail" data-dismiss="modal"  (keydown)="checkEventHandling($event)" (click)="createBolnew(billOfLading.value)">
                      Create BOL
                    </button> -->
                    <button id="createbolfocus" class="green-button" *ngIf="showNoShipmentError === true" data-dismiss="modal"  (keydown)="checkEventHandling($event)" (click)="createBolnew(billOfLading.value)">
                      Create BOL
                    </button>
                    
                    </div>
                    <div class="col-md-6 col-md-push-3 green-button text-center" *ngIf="billOfLading.controls['serviceType'].value === 'OTHERS'">
                    <!-- <button class="green-button" data-dismiss="modal" *ngIf= "getRateCheck === true" [disabled]="!billOfLading.controls.otherServiceType.valid" (click)=getRateForOthers(billOfLading.value)>GET RATE</button> -->
                    <!-- <button class="green-button" id="getrate3" *ngIf= "getRateCheck === true && billOfLading.controls.serviceType.value === 'OTHERS'" [disabled]="billOfLading.controls.serviceType.value === ''" (click)="getRateForOthers(billOfLading.value)">GET RATE</button> -->
                    <button class="green-button" id="bol3" data-dismiss="modal"  [disabled]="billOfLading.controls['serviceType'].value === ''" (click)="continueToBOL(billOfLading.value)" >Continue to BOL</button>
                    <!-- <div class="modal-footer" *ngIf="showEnteringForm === true ">
                      <div class="row">
                        <div class="col-md-4 footer-button text-center"> -->
                        
                        <!-- </div>
                        </div>
                      </div> -->
                    </div>
                    </div>
                    <div class="row" *ngIf="noshipmentDataMessage && billOfLading.controls['serviceType'].value === 'OTHERS' && salesRepType !=='administrator'">
                      <div class="col-sm-12 text-center" >
                        <span class="text-center"
                        style="padding: 35px; color: #FF0000; font-size: 20px;">To ship through any of the above carriers, please contact Forte Customer Care @ 253.926.5456.</span>
                        <!-- <div class="clearfix">&nbsp;</div> -->
                      </div>
                    </div>
                    <div>
    
                    </div>
                </div>
                
                </form>
                <div class="modal-body" *ngIf="showLoader">
                    <div  class="clearfix">&nbsp;</div>
                        <div *ngIf="showLoader" class="text-center rate-label">
                        <i class="fa fa-spinner fa-spin" aria-hidden="true" style="color: #a2705c; font-size: 30px;"></i>&nbsp;Loading</div>
                  </div>
                  <div class="modal-body" *ngIf="billOfLading.controls['rate'].value!=='' && showRate  && this.showLoader === false && this.getRateFlag === true && billOfLading.controls['serviceType'].value != 'OTHERS' && this.pickCarrierFlag === false && showEnteringForm === false ">
               <div class="rate-label" >
                      <label>Rate</label>
                      <!-- <div class="input-group" style="width:50%">
                    <div class="input-group-btn"> -->
                      <!-- <button class="btn btn-outline-secondary" type="button" style="padding:8px"> $:</button> -->
                     <span id="quoterate" style="font-size: 30px;"> ${{specificQuoteIdObject?.totalCharge}}</span>
                      <!-- <input type="text" class="form-control" formControlName="rate" readonly (keydown)="eventHandler($event)"autocomplete="nope" > -->
                    </div>

                
                    <div  *ngIf=" !noshipmentDataMessage && billOfLading.controls['serviceType'].value === 'OTHERS'">
                        <span class="text-center"
                        style="padding: 35px; color: #FF0000; font-size: 20px;">Forte will not provide a rate, however you can create a BOL if you continue</span>
                    </div>
                 
                  </div>

                  <!-- <div class="modal-body" style="padding: 30px 17px 68px 10px !important;" *ngIf="showEnteringForm === true ">
                    <div class="rate-label" >
                      <div class="col-md-12">
                      <div class="row">
                      <div class="col-md-4">
                        <label>Net Rate</label>
                        <input type="text" id="Rate"  [(ngModel)]="NetCharge" (keydown)="checkcontractKey($event,'name')" >
                      </div>
                      <div class="col-md-4">
                        <label>Discount</label>
                        <input type="text" id="Rate"  [(ngModel)]="EnteredDiscount" (keydown)="checkcontractKey($event,'name')" >
                      </div>
                      <div class="col-md-4">
                        <label>Min Rate</label>
                        <input type="text" id="Rate"  [(ngModel)]="EnteredMinCharge" (keydown)="checkcontractKey($event,'name')" >
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-4">
                        <label>Fuel Discount</label>
                        <input type="text" id="Rate"  [(ngModel)]="fuelDiscount" (keydown)="checkcontractKey($event,'name')" >
                      </div>
                      <div class="col-md-4">
                        <label>Additional Charge</label>
                        <input type="text" id="Rate"  [(ngModel)]="additionalChargeValueEntered" (keydown)="checkcontractKey($event,'name')" >
                      </div>
                      <div class="col-md-4">
                        <label>Gross Rate</label>
                        <input type="text" id="Rate"  [(ngModel)]="EnteredMinCharge" (keydown)="checkcontractKey($event,'name')" >
                      </div>
                    </div>
                  </div>

                    
                    </div>
                  </div> -->
                      
                  <div class="modal-footer"
                    *ngIf="billOfLading.controls['rate'].value!=='' && showRate  && this.showLoader === false && this.getRateFlag === true && this.pickCarrierFlag === false">
                    <div class="row">
                      <div class="col-md-4 footer-button text-center">
                        <button id="createbolfocus" class="detail" data-dismiss="modal"  (keydown)="checkEventHandling($event)" (click)="createBolnew(billOfLading.value)">
                          Create BOL
                        </button>
                      </div>
                  
                      <div class="col-md-4 footer-button text-center">
                        <button id="pickanothercarrier" class="detail detail-padding" (click)="pickCarrierShow()" (keydown)="checkEventHandlingForPick($event)">
                         ALTERNATE CARRIER
                        </button>
                      </div>
                    
                      <div class="col-md-4 footer-button text-center" *ngIf="this.factorization !== 'COSTPLUS' && specificQuoteIdObject?.showcolor === false">
                        <button  id="viewCheck" class="detail" data-target="#quote_details" data-toggle="modal" data-dismiss="modal"
                          (click)="getResponseFromQuoteId(billOfLading.controls['quoteNumber'].value, 'AR')" (keydown)="checkEventHandlingForView($event)">VIEW</button>
                      </div>
                      <div class="col-md-4 footer-button text-center" *ngIf="this.factorization === 'COSTPLUS'">
                        <button id="viewCheck" class="detail" data-target="#costplus_quote_details" data-toggle="modal" data-dismiss="modal"
                          (click)="getResponseFromQuoteId(billOfLading.controls['quoteNumber'].value, 'COSTPLUS')" (keydown)="checkEventHandlingForView($event)">VIEW</button>
                      </div>
                  
                    </div>
                  </div>

                  <!-- <div class="modal-footer" *ngIf="showNoShipmentError === true ">
                  <div class="row">
                    <div class="col-md-6 col-md-push-3 green-button text-center">
                      <button id="createbolfocus" class="green-button" data-dismiss="modal"  (keydown)="checkEventHandling($event)" (click)="createBolnew(billOfLading.value)">
                        Create BOL
                      </button>
                    </div>
                    </div>
                  </div> -->
                      
                      <!-- <div *ngIf="billOfLading.controls.rate.value!=='' && showRate  && this.showLoader === false && this.getRateFlag === true && this.pickCarrierFlag === false"> 
                        <button class="detail" data-target="#quote_details" data-toggle="modal" style="margin-top:20px;" data-dismiss="modal" *ngIf="this.factorization !== 'COSTPLUS'" (click)="getResponseFromQuoteId(billOfLading.controls.quoteNumber.value, 'AR')">VIEW</button>
                        <button class="detail" data-target="#costplus_quote_details" data-toggle="modal" style="margin-top:20px;" data-dismiss="modal" *ngIf="this.factorization === 'COSTPLUS'" (click)="getResponseFromQuoteId(billOfLading.controls.quoteNumber.value, 'COSTPLUS')">VIEW</button>
                      <span><button class="detail" 
                        (click)="pickCarrierShow()">
                         PICK CARRIER
                         </button></span>
                         <span><button class="detail" data-dismiss="modal"
                          (click)="createBolnew(billOfLading.value)">
                           Create BOL
                           </button>
    
                         </span>
                      </div> -->
                      <!-- <div *ngIf="showGetRateButton  && this.showLoader === false && this.getRateFlag === true" style="width:20%">
                      <button class="detail" 
                     (click)="getCarrierForZipCodes(billOfLading.value)">
                      PICK CARRIER
                      </button>
                      </div> -->
              </div>
              </div>
              </div>
          <div id="getRate-modal1" class="modal" role="dialog"  data-keyboard="false">
            <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <!-- <button type="button" class="fclose" data-dismiss="modal">&times;</button> -->
                  <h4 *ngIf="getRateCheck!=true"class="modal-title" style="color: #FFFFFF">Choose the Carrier SCAC Code</h4>
                  <h4 *ngIf="getRateCheck==true" class="modal-title" style="color: #FFFFFF">Choose the Carrier SCAC Code And View Rate</h4>
    
                  <button type="button" class="close close1" data-dismiss="modal" aria-label="Close" (click)="closeGetRateModal()">
                    <span aria-hidden="true" style="font-size: 30pt !important;">&times;</span>
                  </button>
                </div>
              <form [formGroup]="billOfLading" *ngIf="this.getRateFlag === false || this.pickCarrierFlag === true">
                <div class="modal-body">
                  <div class="row">
                    <div class="col-md-4 form-group radio-group" style="margin-left: 60px" >
                      <div class="form-group" *ngFor="let carrier of rulesCarrierArray">
                          <input type="radio"  class="option-input radio" id="serviceType" formControlName="serviceType"  [attr.disabled]="disableCarrier"  autofocus 
                          (change)="checkForServiceType(billOfLading.controls['serviceType'].value, billOfLading.value)" 
                          value={{carrier}}/>
                          <label >{{carrier}}</label>
                      </div>
                    </div>
                  </div>
                  <div class="row" *ngIf="showInputForOthers">
                    <div class="col-md-12">
                        <label>Carrier Name</label>
                        <input type="text" class="form-control" placeholder="" formControlName="otherServiceType" (keydown)="eventHandler($event)" autocomplete="nope" >
                      </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <div class="row">
                    <div class="col-md-6 col-md-push-3 green-button text-center" *ngIf="billOfLading.controls['serviceType'].value !== 'OTHERS'">
                    <!-- <button class="green-button" *ngIf="this.factorization !== 'COSTPLUS' && getRateCheck === true" data-dismiss="modal" (click)=rateModal(billOfLading.value)>GET RATE</button> -->
                    <button class="green-button" id="getrate1" *ngIf="this.factorization !== 'COSTPLUS' && getRateCheck === true && showNoShipmentError === false"  (click)="rateModal(billOfLading.value)" [disabled]="billOfLading.controls['serviceType'].value === '' " >GET RATE</button>
                    <button class="green-button" id="bol1" data-dismiss="modal" *ngIf= "this.factorization !== 'COSTPLUS' && getRateCheck === false" (click)="continueToBOL(billOfLading.value)" [attr.disabled]="billOfLading.controls['serviceType'].value === '' ">Continue to BOL</button>
                    <!-- <button class="green-button" *ngIf="this.factorization === 'COSTPLUS' && getRateCheck === true" data-dismiss="modal" (click)=rateModal(billOfLading.value)>GET RATE</button> -->
                    <button class="green-button" id="getrate2" *ngIf="this.factorization === 'COSTPLUS' && getRateCheck === true && showNoShipmentError === false"  (click)="rateModal(billOfLading.value)" [disabled]="billOfLading.controls['serviceType'].value === ''">GET RATE</button>
                    <button class="green-button" id="bol2" data-dismiss="modal" *ngIf= "this.factorization === 'COSTPLUS' && getRateCheck === false" (click)="continueToBOL(billOfLading.value)" [attr.disabled]="billOfLading.controls['serviceType'].value === '' ">Continue to BOL</button>
                    <button id="createbolfocus" class="green-button" *ngIf="showNoShipmentError === true" data-dismiss="modal"  (keydown)="checkEventHandling($event)" (click)="createBolnew(billOfLading.value)">	
                      Create BOL	
                    </button>
                    </div>
                    <div class="col-md-6 col-md-push-3 green-button text-center" *ngIf="billOfLading.controls['serviceType'].value === 'OTHERS'">
                    <!-- <button class="green-button" data-dismiss="modal" *ngIf= "getRateCheck === true" [disabled]="!billOfLading.controls.otherServiceType.valid" (click)=getRateForOthers(billOfLading.value)>GET RATE</button> -->
                    <button class="green-button" id="getrate3" *ngIf= "getRateCheck === true" [disabled]="billOfLading.controls['serviceType'].value === ''" (click)="getRateForOthers()">GET RATE</button>
                    <button class="green-button" id="bol3" data-dismiss="modal" *ngIf= "getRateCheck === false" [disabled]="billOfLading.controls['serviceType'].value === ''" (click)="continueToBOL(billOfLading.value)" >Continue to BOL</button>
                    </div>
                    </div>
                    <div class="row" *ngIf="noshipmentDataMessage && billOfLading.controls['serviceType'].value === 'OTHERS' && salesRepType !=='administrator'">	
                      <div class="col-sm-12 text-center" >	
                        <span class="text-center"	
                        style="padding: 35px; color: #FF0000; font-size: 20px;">To ship through any of the above carriers, please contact Forte Customer Care @ 253.926.5456.</span>	
                        <!-- <div class="clearfix">&nbsp;</div> -->	
                      </div>	
                    </div>
                    <div>
    
                    </div>
                </div>
                
                </form>
                <div class="modal-body" *ngIf="showLoader">
                    <div  class="clearfix">&nbsp;</div>
                        <div *ngIf="showLoader" class="text-center rate-label">
                        <i class="fa fa-spinner fa-spin" aria-hidden="true" style="color: #a2705c; font-size: 30px;"></i>&nbsp;Loading</div>
                  </div>
                  <div class="modal-body">
                  <div class="rate-label" *ngIf="billOfLading.controls['rate'].value!=='' && showRate  && this.showLoader === false && this.getRateFlag === true && billOfLading.controls['serviceType'].value != 'OTHERS' && this.pickCarrierFlag === false && showEnteringForm === false">
                      <label>Rate</label>
                      <!-- <div class="input-group" style="width:50%">
                    <div class="input-group-btn"> -->
                      <!-- <button class="btn btn-outline-secondary" type="button" style="padding:8px"> $:</button> -->
                     <span id="quoterate" style="font-size: 30px;"> ${{specificQuoteIdObject?.totalCharge}}</span>
                      <!-- <input type="text" class="form-control" formControlName="rate" readonly (keydown)="eventHandler($event)"autocomplete="nope" > -->
                    </div>
                    <div  *ngIf=" !noshipmentDataMessage && billOfLading.controls['serviceType'].value === 'OTHERS'">
                        <span class="text-center"
                        style="padding: 35px; color: #FF0000; font-size: 20px;">Forte will not provide a rate, however you can create a BOL if you continue</span>
                    </div>
                  </div>
                      
                  <div class="modal-footer"
                    *ngIf="billOfLading.controls['rate'].value!=='' && showRate  && this.showLoader === false && this.getRateFlag === true && this.pickCarrierFlag === false">
                    <div class="row">
                      <div class="col-md-4 footer-button text-center">
                        <button id="createbolfocus" class="detail" data-dismiss="modal"  (keydown)="checkEventHandling($event)" (click)="createBolnew(billOfLading.value)">
                          Create BOL
                        </button>
                      </div>
                  
                      <div class="col-md-4 footer-button text-center">
                        <button id="pickanothercarrier" class="detail detail-padding" (click)="pickCarrierShow()" (keydown)="checkEventHandlingForPick($event)">
                         ALTERNATE CARRIER
                        </button>
                      </div>
                  
                      <div class="col-md-4 footer-button text-center" *ngIf="this.factorization !== 'COSTPLUS'">
                        <button  id="viewCheck" class="detail" data-target="#quote_details" data-toggle="modal" data-dismiss="modal"
                          (click)="getResponseFromQuoteId(billOfLading.controls['quoteNumber'].value, 'AR')" (keydown)="checkEventHandlingForView($event)">VIEW</button>
                      </div>
                      <div class="col-md-4 footer-button text-center" *ngIf="this.factorization === 'COSTPLUS'">
                        <button id="viewCheck" class="detail" data-target="#costplus_quote_details" data-toggle="modal" data-dismiss="modal"
                          (click)="getResponseFromQuoteId(billOfLading.controls['quoteNumber'].value, 'COSTPLUS')" (keydown)="checkEventHandlingForView($event)">VIEW</button>
                      </div>
                  
                    </div>
                  </div>
                      
                      <!-- <div *ngIf="billOfLading.controls.rate.value!=='' && showRate  && this.showLoader === false && this.getRateFlag === true && this.pickCarrierFlag === false"> 
                        <button class="detail" data-target="#quote_details" data-toggle="modal" style="margin-top:20px;" data-dismiss="modal" *ngIf="this.factorization !== 'COSTPLUS'" (click)="getResponseFromQuoteId(billOfLading.controls.quoteNumber.value, 'AR')">VIEW</button>
                        <button class="detail" data-target="#costplus_quote_details" data-toggle="modal" style="margin-top:20px;" data-dismiss="modal" *ngIf="this.factorization === 'COSTPLUS'" (click)="getResponseFromQuoteId(billOfLading.controls.quoteNumber.value, 'COSTPLUS')">VIEW</button>
                      <span><button class="detail" 
                        (click)="pickCarrierShow()">
                         PICK CARRIER
                         </button></span>
                         <span><button class="detail" data-dismiss="modal"
                          (click)="createBolnew(billOfLading.value)">
                           Create BOL
                           </button>
    
                         </span>
                      </div> -->
                      <!-- <div *ngIf="showGetRateButton  && this.showLoader === false && this.getRateFlag === true" style="width:20%">
                      <button class="detail" 
                     (click)="getCarrierForZipCodes(billOfLading.value)">
                      PICK CARRIER
                      </button>
                      </div> -->
              </div>
              </div>
              </div>
      
          <!-- End of Get Rate Modal -->
    
    
          <!-- Get Rate Modal towards rate details -->
    
          <!-- <div id="getRateToRate-modal" class="modal" role="dialog"   data-keyboard="false">
            <div class="modal-dialog">
              Modal content
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title" style="color: #FFFFFF">Choose the Carrier SCAC Code And View Rate</h4>
                  <button type="button" class="close close1" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" style="font-size: 30pt !important;">&times;</span>
                  </button>
                </div>
              <form [formGroup]="billOfLading" *ngIf="getRateFlag === false">
                <div class="modal-body">
                  <div class="row">
                    <div class="col-md-4 form-group radio-group" style="margin-left: 60px" >
                      <div class="form-group" *ngFor="let carrier of rulesCarrierArray">
                          <input type="radio"  class="option-input radio" id="serviceType" formControlName="serviceType" autofocus 
                          (change)="checkForServiceType(billOfLading.controls.serviceType.value, billOfLading.value)" 
                          value={{carrier}}/>
                          <label >{{carrier}}</label>
                      </div>
                    </div>
                  </div>
                  <div class="row" *ngIf="showInputForOthers">
                    <div class="col-md-12">
                        <label>Carrier Name</label>
                        <input type="text" class="form-control" placeholder="" formControlName="otherServiceType" (keydown)="eventHandler($event)" autocomplete="nope" >
                      </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <div class="row">
                    <div class="col-md-6 col-md-push-3 green-button text-center" *ngIf="billOfLading.controls.serviceType.value !== 'OTHERS'">
                    <button class="green-button" *ngIf="this.factorization !== 'COSTPLUS' && getRateCheck === true"  (click)=rateModal(billOfLading.value)>GET RATE</button>
                    <button class="green-button" data-dismiss="modal" *ngIf= "this.factorization !== 'COSTPLUS' && getRateCheck === false" (click)=continueToBOL(billOfLading.value,billOfLading)>Continue to BOL</button>
                    <button class="green-button" *ngIf="this.factorization === 'COSTPLUS' && getRateCheck === true"  (click)=rateModal(billOfLading.value)>GET RATE</button>
                    <button class="green-button" data-dismiss="modal" *ngIf= "this.factorization === 'COSTPLUS' && getRateCheck === false" (click)=continueToBOL(billOfLading.value,billOfLading)>Continue to BOL</button>
                    </div>
                    <div class="col-md-6 col-md-push-3 green-button text-center" *ngIf="billOfLading.controls.serviceType.value === 'OTHERS'">
                    <button class="green-button"  *ngIf= "getRateCheck === true" [disabled]="!billOfLading.controls.otherServiceType.valid" (click)=getRateForOthers(billOfLading.value)>GET RATE</button>
                    <button class="green-button" data-dismiss="modal" *ngIf= "getRateCheck === false" (click)=continueToBOL(billOfLading.value,billOfLading) >Continue to BOL</button>
                    </div>
                    </div>
                    <div>
    
                    </div>
                </div>
                
                </form>
                <div>
                  <div *ngIf="showLoader" class="clearfix">&nbsp;</div>
                      <span *ngIf="showLoader" class="text-center"
                      style="padding: 35px; color: #a2705c; font-size: 20px;">
                      <i class="fa fa-spinner fa-spin" aria-hidden="true" style="color: #a2705c; font-size: 20px;"></i>&nbsp;Loading</span>
                </div>
                <div *ngIf="billOfLading.controls.rate.value!=='' && showRate  && this.showLoader === false && this.getRateFlag === true">
                    <label>Rate</label>
                    <div class="input-group" style="width:50%">
                  <div class="input-group-btn">
                    <button class="btn btn-outline-secondary" type="button" style="padding:8px"> $:</button>
                    </div>
                    <input type="text" class="form-control" formControlName="rate" readonly (keydown)="eventHandler($event)"autocomplete="nope" >
                    </div>
                </div>
                    <div  *ngIf="billOfLading.controls.serviceType.value === 'OTHERS'">
                        <span class="text-center"
                        style="padding: 35px; color: #FF0000; font-size: 20px;">Forte will not provide a rate, however you can create a BOL if you continue</span>
                    </div>
                    <div *ngIf="billOfLading.controls.rate.value!=='' && showRate  && this.showLoader === false && this.getRateFlag === true"> 
                      <button class="detail" data-target="#quote_details" data-toggle="modal" style="margin-top:20px;" data-dismiss="modal" *ngIf="this.factorization !== 'COSTPLUS'" (click)="getResponseFromQuoteId(billOfLading.controls.quoteNumber.value, 'AR')">VIEW</button>
                      <button class="detail" data-target="#costplus_quote_details" data-toggle="modal" style="margin-top:20px;" data-dismiss="modal" *ngIf="this.factorization === 'COSTPLUS'" (click)="getResponseFromQuoteId(billOfLading.controls.quoteNumber.value, 'COSTPLUS')">VIEW</button>
                    </div>
                    <div *ngIf="showGetRateButton  && this.showLoader === false && this.getRateFlag === true" style="width:20%">
                    <button class="detail" 
                   (click)="getCarrierForZipCodes(billOfLading.value)">
                    PICK CARRIER
                    </button>
                    </div>
                </div>
              </div>
            </div> -->
          
            <div id="DeliveryModal" class="modal" role="dialog"   data-keyboard="false">
              <div class="modal-dialog" style="width:1000px;">
            
                <!-- Modal content-->
                <div class="modal-content">
                  <form [formGroup]="assessorialForm">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" style="color: #FFFFFF"><i class="fa fa-save" style="margin-right:5px;"></i>&nbsp;Contact Information For Delivery Pickup Request</h4>
                  </div>
                  <div class="modal-body">
                    <div class="row">
                      <div class="col-md-12">
                      <div class ="row">
                        <div class="col-md-4">
                            <label>Contact Name</label><span  style="color: #FF0000; font-size: 14px;">*</span> 
                            <input id ="contact" type="text" class="form-control"  (keydown)="checkmodalenterKey($event,'contact')" formControlName="contactName" >
                        </div>
                        <div class="col-md-4">
                            <label>Contact Number</label><span
                            style="color: #FF0000; font-size: 14px;">*</span> 

                            <input id="contactNumber" type="text" class="form-control"   formControlName="contactNumber"  placeholder="(###) ###-####" (keydown)="checkmodalenterKey($event,'contactNumber')"  minlength="10" ngPattern="/[0-9]/"
                            onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" name="phone" [textMask]="{mask: mask}" clean="true" ng-model="phone" autocomplete="nope" >
                          </div>
                          <div class="col-md-4">
                              <label>Hours Required Prior to Delivery</label><span
                              style="color: #FF0000; font-size: 14px;">*</span> 

                              <input id="hours" type="number" maxlength="3" class="form-control" (keydown)="checkmodalenterKey($event,'hours')"  formControlName="NotificationAlert" >
 
                            </div>
                      </div>
                      <div class ="row">
                        <div class="col-md-4">
                          <label>Alternate Contact Name</label>
                            <input id="alternateName" type="text" class="form-control" (keydown)="checkmodalenterKey($event,'alternateName')"  formControlName="alternatecontactName" >

                        </div>
                        <div class="col-md-4">
                            <label>Alternate Contact Number</label>
                            <input id="alternateNumber" type="text" class="form-control"   formControlName="alternatecontactNumber"placeholder="(###) ###-####" (keydown)="checkmodalenterKey($event,'alternateNumber')"  minlength="10" ngPattern="/[0-9]/"
                            onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" name="phone" [textMask]="{mask: mask}" clean="true" ng-model="phone" autocomplete="nope" >

                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                      <div class="row">
                          <div class="col-md-4 col-md-push-4 green-button text-center">
                            <button id ="modalSave" class="green-button" [disabled] ="!assessorialForm.controls['contactName'].valid || !assessorialForm.controls['contactNumber'].valid || !assessorialForm.controls['NotificationAlert'].valid" (click)="saveDeliveryAppointment(assessorialForm.value)"><i class="fa fa-save" aria-hidden="true"  style="margin-right:5px;"></i>Save</button>
                          </div>
                      </div>
                    <!-- <div class="row">
                      <div class="col-md-4 col-md-push-2 green-button text-center">
                        <button class="green-button" (click)="addressTemplateSave(billOfLading.value, 'address', addressTemplateNameForm.value)" [disabled] = "addressTemplateNameForm.invalid"><i class="fa fa-save" aria-hidden="true" style="margin-right:5px;"></i>Save</button>
                      </div>
                      <div class="col-md-4 col-md-push-2 green-button text-center">
                        <button class="green-button" data-dismiss="modal"><i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                      </div>
                    </div> -->
                    </div>
                  </div>
                  </form>
                </div>
              </div>
            </div>  
            
            <div id="hazmadModal" class="modal" role="dialog"   data-keyboard="false">
              <div class="modal-dialog" style="width:1000px;">
            
                <!-- Modal content-->
                <div class="modal-content">
                  <form [formGroup]="hazmadForm">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" style="color: #FFFFFF"><i class="fa fa-save" style="margin-right:5px;"></i>&nbsp;Information Related To Hazmat</h4>
                  </div>
                  <div class="modal-body">
                    <div class="row">
                      <div class="col-md-12">
                      <div class ="row">
                        <div class="col-md-4">
                            <label>UN Number</label><span  style="color: #FF0000; font-size: 14px;">*</span> 
                            <input id ="emergencycontact" type="text" class="form-control"  (keydown)="checkmodalenterKey($event,'unNumebr')" formControlName="unNumber" >
                        </div>
                        <div class="col-md-4">
                          <label>Emergency Contact Name</label><span
                          style="color: #FF0000; font-size: 14px;">*</span> 

                          <input id="emergencycontactNumber" type="text" class="form-control"   formControlName="emergencycontactName"  placeholder="" (keydown)="checkmodalenterKey($event,'emergencycontactName')"  autocomplete="nope" >
                        </div>
                        <div class="col-md-4">
                            <label>Emergency Contact Number</label><span
                            style="color: #FF0000; font-size: 14px;">*</span> 

                            <input id="emergencycontactNumber" type="text" class="form-control"   formControlName="emergencycontactNumber"  placeholder="(###) ###-####" (keydown)="checkmodalenterKey($event,'emergencycontactNumber')"  minlength="10" ngPattern="/[0-9]/"
                            onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" name="phone" [textMask]="{mask: mask}" clean="true" ng-model="phone" autocomplete="nope" >
                          </div>
     
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <label>Description</label><span  style="color: #FF0000; font-size: 14px;">*</span> 
                          <input id ="emergencydescription" type="text" class="form-control"  (keydown)="checkmodalenterKey($event,'description')" formControlName="description" >
                      </div>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                      <div class="row">
                          <div class="col-md-4 col-md-push-4 green-button text-center">
                            <button id ="modalSave" class="green-button" [disabled] ="!hazmadForm.controls['unNumber'].valid || !hazmadForm.controls['emergencycontactName'].valid || !hazmadForm.controls['emergencycontactNumber'].valid" (click)="saveHazmatValue(hazmadForm.value)"><i class="fa fa-save" aria-hidden="true"  style="margin-right:5px;"></i>Save</button>
                          </div>
                      </div>
                    <!-- <div class="row">
                      <div class="col-md-4 col-md-push-2 green-button text-center">
                        <button class="green-button" (click)="addressTemplateSave(billOfLading.value, 'address', addressTemplateNameForm.value)" [disabled] = "addressTemplateNameForm.invalid"><i class="fa fa-save" aria-hidden="true" style="margin-right:5px;"></i>Save</button>
                      </div>
                      <div class="col-md-4 col-md-push-2 green-button text-center">
                        <button class="green-button" data-dismiss="modal"><i class="fa fa-close" aria-hidden="true" style="margin-right:5px;"></i>Close</button>
                      </div>
                    </div> -->
                    </div>
                  </div>
                  </form>
                </div>
              </div>
            </div>                   
      
      
      
      