<ngx-loading [show]="loader" ></ngx-loading>
<!--<div *ngIf ="!loading"> -->
    <ngx-spinner
    bdColor="rgba(76, 122, 113, 0.61)"
    size="medium"
    color="#00000"
    type="ball-scale-multiple"
    fullScreen=true
  zindex = 8989
    >
    <!-- <div style="float:right;margin-top:-25px;" *ngIf="processingLoader">
    
      <span *ngIf="processingLoader">Processing</span>
      <span *ngIf="processingLoader"> {{responseLength}} of {{fullLength}}</span>

  </div>  -->
  </ngx-spinner> 
   <!-- <div  > -->
<div   class="banner-w3layoutsSales" style="min-height:500px;overflow:hidden">
  <!--Top-Bar-->
  <div class="header">
    <nav class="navbar navbar-default">
      <app-header></app-header>
      <div class="clearfix"></div>
    </nav>
  </div>

  <!--main screen-->
  <div class="w3l_banner_info" id="name" style="width:98%!important">
    <div class="col-md-12 col-sm-12 banner-form-agileinfo" >


          <div class="row">
            <!-- <app-workbook></app-workbook> -->
            <div class="col-md-10 col-md-push-1 button-group">
              <div class="btn-group btn-group-justified">
                <button style="width:40%" class="btn btn-primary active" id="customerInformation" (click)="routingLink()"><em class="fa fa-user"
                    style="margin-right: 5px"></em>Customer Information</button>
                <button style="width:40%"  id="uploadTraffic" class="btn btn-primary active" [routerLink]="[('/uploadWorksheet')]">
                  <em class="fa fa-upload" style="margin-right: 5px"></em>Upload Traffic Flow</button>
                <!-- <button style="width:40%" class="btn btn-primary active" [routerLink]="[('/Invoice')]"><i
                    class="fa fa-file" style="margin-right: 5px"></em>Traffic Data</button> -->
                    <button style="width:40%"  id="trafficdata" class="btn btn-primary active" (click)="routeToInvoiceWorkBook()"><em
                      class="fa fa-file" style="margin-right: 5px"></em>Traffic Data</button>
                <button style="width:40%" id="carrierAnalytics" class="btn btn-primary " [routerLink]="[('/carrierAnalytics')]"><em class="fa fa-file"
                    style="margin-right: 5px"></em>Analytics</button>
                    <button style="width:40%" id="contractpage" class="btn btn-primary active" (click)="getBusisnessRule()" >
                      <em class="fa fa-file" style="margin-right: 5px"></em>Create TL Contract</button>
              </div>
            </div>
          </div>

          <!-- <div class="row">
                 <div class="col-sm-12 text-center">
              <label>Choose Carrier</label>
              <div class="clearfix">&nbsp;</div>
            </div> 
          
            <div class="col-md-2 form-group radio-group">
                <button class="btn btn-success center-block"  data-toggle="modal" data-target="#apassessorial-view" style="margin-top: 19px;" ><i  class="fa fa-check"></em> AP Assesorials View</button>
            </div>
            <div class="col-md-2 form-group radio-group">
                <button class="btn btn-success center-block"  data-toggle="modal" data-target="#arassessorial-view" style="margin-top: 19px;" ><i  class="fa fa-check"></em> AR Assesorials View</button>
            </div>
          
          </div> -->
        

          <div class="row"> 
            <div class="col-md-2 col-lg-2 div-group">
              <form [formGroup]="workbookForm">
                <div class="row">
                  <div class="col-md-12 form-group radio-group" *ngFor="let carrier of carrierArray">
                    <input type="radio" class="option-input radio" id="serviceType" formControlName="carrier"
                      (change)="checkForCarrier(workbookForm.controls['carrier'].value)" value={{carrier}} />
                    <label style="font-size:11px">{{carrier}}</label>
                  </div>
                </div>
              </form>
            </div>
            <form [formGroup]="workbookForm">
          
              <div class="col-md-2 col-lg-2 div-group">
                <div class="row">
                  <div class="col-sm-6">
                    <label style="font-size: 11px"> Forte AP $AMC</label>
                    <div style="margin-bottom: 13px;" class="form-group">
                      <input type="text" class="form-control" placeholder="" formControlName="apAmc" id="APAmc"
                        [class.chanhgedForm]="editAPAMC === true" (keydown)="editAmcCheckrate($event,'APAmc')">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <label style="font-size: 11px">Forte AR $AMC</label>
                    <div style="margin-bottom: 13px;" class="form-group">
                      <input type="text" class="form-control" placeholder="$AMC" formControlName="arAmc" id="ARAmc" [class.chanhgedForm]="editARAMC === true"
                        (keydown)="editAmcCheckrate($event,'ARAmc')">
                    </div>
                  </div>
          
                </div>
                <div class="row">
                  <!-- <h6>Forte AR</h6> -->
                  <div class="col-sm-6">
                    <label style="font-size: 11px"> Forte AP Disc %</label>
                    <div style="margin-bottom: 13px;" class="form-group">
                      <input type="text" class="form-control" placeholder="Disc %" formControlName="apDiscount" id="APDiscount"
                        [class.chanhgedForm]="editAPDiscountValue === true" (keydown)="editAmcCheckrate($event,'APDiscount')"
                        [readonly]="enableReadOnly">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <label style="font-size: 11px">Forte AR Disc %</label>
                    <div style="margin-bottom: 13px;" class="form-group">
                      <input type="text" class="form-control" placeholder="Disc %" formControlName="arDiscount" id="ARDiscount"
                        (keydown)="editAmcCheckrate($event,'ARDiscount')">
                    </div>
                  </div>
          
                </div>
          
                <!-- </div> -->
          
                <!-- <div class="col-md-6 col-lg-6 div-group" > -->
          
          
                <!-- </div> -->
          
                <!-- </div> -->
              </div>
              <div class="col-md-3 col-lg-3 div-group">
                <div class="row">
                  <div class="col-sm-4">
                    <label style="font-size: 11px">Current Program $</label>
                    <div style="margin-bottom: 13px;" class="form-group">
                      <input type="text" class="form-control" id="currentProgram" placeholder="" formControlName="currentProgram"
                        readonly>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <label style="font-size: 11px">Savings $</label>
                    <div style="margin-bottom: 13px;" class="form-group">
                      <input type="text" class="form-control" id="savings" placeholder="" formControlName="savings" readonly>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <label style="font-size: 11px">SavingsPercent %</label>
                    <div style="margin-bottom: 13px;" class="form-group">
                      <input type="text" class="form-control" id="savingsPercent" placeholder="" formControlName="savingsPercent"
                        readonly>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <label style="font-size: 11px">Gross Profit$</label>
                    <div style="margin-bottom: 13px;" class="form-group">
                      <input type="text" id="grossprofit" class="form-control" placeholder="" formControlName="gp" readonly>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <label style="font-size: 11px">Gross Profit %</label>
                    <div style="margin-bottom: 13px;" class="form-group">
                      <input type="text" id="grossprofitPercent" class="form-control" placeholder="" formControlName="gpPercent"
                        readonly>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <label style="font-size: 11px">Impact</label>
                    <div style="margin-bottom: 13px;" class="form-group">
                      <input type="text" id="impact" class="form-control" placeholder="" formControlName="impact" readonly>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <div class="col-md-3 col-lg-3 div-group">
              <div class="row" style="margin-top:20px;">
                <div class="col-md-12">
                  <textarea class="form-control" rows="1" (blur)="checkSpecialInstructionsCount($event)" placeholder="Notes"
                    autocomplete="nope" [(ngModel)]="notesEnter"></textarea>
                </div>
                <div class="col-md-6">
                  <button class="btn btn-success center-block" data-toggle="modal" [class.chanhgedACC]="editApAccess === true"
                    data-target="#apassessorial-view" style="margin-top:24px;margin-bottom:12px">AP Accessorials</button>
                </div>
                <div class="col-md-6">
                  <button class="btn btn-success center-block" data-toggle="modal" [class.chanhgedACC]="editArAccess === true"
                    data-target="#arassessorial-view" style="margin-top:24px;margin-bottom:12px">AR Accessorials</button>
                </div>
                </div>
              </div>

                <div class="col-md-2 col-lg-2 div-group">

                <div class="col-md-12">
                  <div  >
                    <label style="margin-bottom:16px!important" > Costplus %</label>  
                    <label class="switch">
                      <input type="checkbox" [checked]="costplusToggle" (change)="CostplusEnabling($event)">
                      <span class="slider round"></span>
                    </label>
                   
                    <input *ngIf="costplusToggle" class="form-control" type= "number" rows="1" (keyup.enter)="checkCostplus($event)" placeholder=""
                    autocomplete="nope" [(ngModel)]="costplusFactor">      
                    </div>
                </div>
              </div>
            <!-- <div class="col-md-2 col-lg-2 div-group">
              <div class="row" style="margin-top:20px;">
                <div class="col-md-12">
                  <div  >
                    <label style="margin-bottom:16px!important" > Costplus</label>          
                    </div>
                </div>
              </div>
            </div> -->
          
          
          </div>
        <!-- </form> -->

         
        


          <!--        
          <div class="clearfix">&nbsp;</div> -->
    
      <!-- <div class = "row" >
      <form [formGroup]="editworkbookForm">
        <div class="col-md-10 col-md-push-1">
            <div class="row">
                <h6 style="text-align: center"> Rate</h6>
                <div class="col-sm-6">
                  <label>Forte Ap Discount %</label>
                  <div class="form-group">
                    <input type="text" class="form-control" placeholder="Disc %" formControlName="apDiscount" id="APDiscount"
                      (keydown)="editYrcDiscount($event,'APDiscount')">
                  </div>
                </div>
                <div class="col-sm-6">
                  <label>Forte Ar Discount %</label>
                  <div class="form-group">
                    <input type="text" class="form-control" placeholder="Disc %" formControlName="arDiscount" id="ARDiscount"
                      (keydown)="editYrcDiscount($event,'ARDiscount')">
                  </div>
                </div>

              </div>
          </div>
      </form>
    </div> -->
    <!-- <div class="clearfix">&nbsp;</div> -->

    <!-- <div class = "row" style="margin-top:20px;">
      <div class="col-sm-12">
    <textarea class="form-control" style="height:100%" rows="2" (blur)="checkSpecialInstructionsCount($event)" placeholder="Notes" autocomplete="nope" [(ngModel)]="notesEnter"></textarea> 
  </div>
    </div> -->
 

</div>
  </div>
  <div class="container-fluid">
      <div class="col-md-12 col-sm-12" >
          <!-- <div style="float:right;margin-top:-25px;" *ngIf="processingLoader">
              <span style="padding: 0px; color: #a2705c; font-size: 40px; ">
                  <em class="fa fa-spinner fa-spin" aria-hidden="true" style="color: #a2705c; font-size: 40px;"></em> 
              </span>
              <span *ngIf="processingLoader">Processing</span>
              <span *ngIf="processingLoader">{{responseLength}} Of {{fullLength}}</span>
    
          </div> -->
        <!-- <div>
        <span style="float:right" *ngIf="completedLoader">Completed</span>
           </div> -->
        <div class="row" *ngIf="showTableValues">
          <div style="margin-top: 25px;overflow-x:scroll;height:800px;overflow-y:scroll">
            <table  class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th class="sticky">
                    <input type="checkbox" class="option-input radio" [checked]="selectAllValue" (change)="selectAll($event)" style="top:0px;" value="true" />
                  </th>
                  <th class="sticky">SlNo</th>
                  <th class="sticky">Creation Date</th>
                  <th class="sticky">Shipment Date</th>
                  <th class="sticky">Rules Applied</th>
                  <th class="sticky">Carrier</th>
                  <th class="sticky">Origin</th>
  
                  <th class="sticky">Destination</th>
  
                  <th class="sticky">Class</th>
                  <th class="sticky">Weight</th>
                  <th class="sticky">Pallets</th>
                  <th class="sticky">Inv Amt</th>
                  <th class="sticky">Fuel</th>
                  <th class="sticky">Accessorial</th>
                  <!-- <th>Ass. Charge</th> -->
                  <th class="sticky">Forte AR Total</th>
                  <th class="sticky">Forte AP Total</th>
                  <th class="sticky">Variance</th>
                  <th class="sticky">Forte Gross</th>
                  <th class="sticky">Forte Rate</th>
                  <th class="sticky" >Forte Discount (%)</th>
  <!-- 
                  <th>Forte AR Gross</th>
                  <th>Forte AR</th>
                  <th>Forte AR Discount</th> -->
  
                  <th class="sticky">FSC </th>
                  <!-- <th>FSC %</th> -->
                  <th class="sticky">AP Accessorial</th>
                  <th class="sticky">AR Accessorial</th>

                  <th class="sticky">Profit</th>
                  <!-- <th>Profit(%)</th> -->
                  <th class="sticky">Optimize</th>
                  <!-- <th class="sticky" *ngIf="editOption">Edit</th> -->
                </tr>
              </thead>
              <tbody>
                <tr class="title-tr" *ngIf="outboundArray?.length> 0">
                  <td colspan="26">Out Bound</td>
                </tr>
  
                <tr *ngFor="let invoice of outboundArray; let i=index;" [class.green1-tr]="invoice?.editedDiscounted === true" [class.blue-tr]="invoice.selected === true && invoice.negative === false" [class.yellow-tr]="invoice.selected === false" [class.pink-tr]="invoice.negative === true && invoice.selected === true">
                  <td>
                    <input type="checkbox"  (change)="checkForSelected($event, i, 'outbound')" class="option-input radio" style="top:0px;" [checked]="invoice?.selected" />
                  </td>
                  <td>{{i+1}}</td>
                  <td style="white-space: nowrap;">{{invoice?.createdOn | date:'MM-dd-yyyy'}}</td>
                  <td style="white-space: nowrap;">{{invoice?.shipmentDate | date:'MM-dd-yyyy'}}</td>
                  <td style="white-space:nowrap" *ngIf="invoice?.showRule" data-toggle="tooltip" title="{{invoice?.ruleNames}}">Yes</td>
                  <td style="white-space:nowrap" *ngIf="!invoice?.showRule">NO</td>
                  <td style="white-space:nowrap">{{invoice?.carrier}}</td>
                  <td style="white-space:nowrap">{{invoice?.originZip}}, {{invoice?.originState}}</td>
  
                  <td style="white-space:nowrap">{{invoice?.destinationZip}}, {{invoice?.destinationState}}</td>
                  <td style="white-space:nowrap">{{invoice?.class}}</td>
                  <td style="white-space:nowrap">{{invoice?.weight}}</td>
                  <td style="white-space:nowrap">{{invoice?.pieces}}</td>
                  <td style="white-space:nowrap">${{invoice?.invoiceAmount}}</td>
                  <td style="white-space:nowrap">${{invoice?.fuelCharge}}</td>
                  <td *ngIf="invoice?.assessorial.length >0">
                <tr *ngFor="let assessorial of invoice?.assessorial">{{assessorial?.shortName}}-{{assessorial?.charge}}
                </tr>
                </td>
                <td *ngIf="invoice?.assessorial.length === 0">-</td>
                <td *ngIf="invoice?.totalForteRate !== 0" [class.grayout]="costplusToggle">${{invoice?.totalForteRate}}</td>
                <td *ngIf="invoice?.totalForteRate === 0">NA</td>
                <td *ngIf="invoice?.totalForteApRate !== 0" [class.grayout]="costplusToggle">${{invoice?.totalForteApRate}}</td>
                <td *ngIf="invoice?.totalForteApRate === 0">NA</td>
                <td *ngIf="invoice?.variance !== 0" [class.grayout]="costplusToggle">{{invoice?.variance}}</td>
                <td *ngIf="invoice?.variance === 0">NA</td>
                <td style="white-space: nowrap;" [class.grayout]="costplusToggle"><b>AP-</b>{{invoice?.apGrossRate}}<br><b>AR-</b>{{invoice?.arGrossRate}}</td>
                <td style="white-space: nowrap;" [class.grayout]="costplusToggle" *ngIf="invoice?.apFinalRate !== 0 && invoice?.arFinalRate !== 0"><b>AP -</b> ${{invoice?.apFinalRate}}<br><b>AR - </b>${{invoice?.arFinalRate}} </td>
                <td style="white-space: nowrap;" [class.grayout]="costplusToggle" *ngIf="invoice?.apFinalRate === 0 && invoice?.arFinalRate === 0"><b>AP -</b> NA<br><b>AR -</b> NA</td>
                <td style="white-space: nowrap;" [class.grayout]="costplusToggle" ><b>AP -</b> {{invoice?.finalAPDiscount}}<br><b>AR -</b><span >{{invoice?.finalARDiscount}}</span> <b><em class="fa fa-pencil" aria-hidden="true" style="color:#0079FE" (click)="editItemArray(invoice, i, invoice.id,'outbound')"></em></b>
                  <input *ngIf="invoice?.showEdit" type="text" id="editARDiscount" placeholder={{invoice?.finalARDiscount}} class="form-control" [(ngModel)]="editableArDiscountValue" style="padding: 0px 5px!important;"  (keydown)="editDiscountByRow1($event,invoice?.id,i, 'outbound', invoice)" (blur)="editDiscountByRow($event,invoice?.id,i, 'outbound', invoice)" ></td>
                <!-- <td style="white-space: nowrap;"  ><b>AP -</b> {{invoice?.finalAPDiscount}}<br><b>AR -</b>{{invoice?.finalARDiscount}}</td> -->
                <!-- <td style="white-space: nowrap;"  *ngIf="!enableReadOnly"><b>AP- </b>NA<br><b>AR- </b>NA</td> -->
  
                <!-- <td>{{invoice?.arGrossRate}}</td>
                <td class="ap-td" *ngIf="invoice?.arFinalRate !== 0">${{invoice?.arFinalRate}}</td>
                <td class="ap-td" *ngIf="invoice?.arFinalRate === 0">NA</td> -->
                <!-- <td class="ap-td" *ngIf="invoice?.finalARDiscount !== undefined">{{invoice?.finalARDiscount}}</td>
                <td class="ap-td" *ngIf="invoice?.finalARDiscount === undefined">-</td> -->
  
                 <td style="white-space: nowrap;" [class.grayout]="costplusToggle"> ${{invoice?.fuelSurChargeArValue}} <br>({{invoice?.arFSC}}%)</td>
                <!-- <td>{{invoice?.arFSC}}</td> -->
                <td style="white-space: nowrap;" *ngIf="invoice?.ApAssessorialsArray.length > 0 && invoice?.ArAssessorialsArray.length > 0">		 
                <tr>Total - {{invoice?.forteApAssessorialRate}} - $</tr>		
                <!-- <tr *ngFor="let assessorial of invoice?.ApAssessorialsArray">{{assessorial?.shortname}}-${{assessorial?.apCost}}</tr>		 -->
                <a class="logisticsBtn"  data-toggle="modal" data-target="#view-assessorial" (click)="viewAssessorialDetails(invoice?.ApAssessorialsArray, 'apAssess')">View</a></td>
                <td *ngIf="invoice?.ApAssessorialsArray.length === 0"> -</td>
  
                <td style="white-space: nowrap;" *ngIf="invoice?.ArAssessorialsArray.length > 0">
                    <tr>Total - {{invoice?.forteArAssessorialRate}} - $</tr>		
                    <!-- <tr *ngFor="let assessorial of invoice?.ArAssessorialsArray">{{assessorial?.shortname}}-${{assessorial?.arCost}}</tr>		 -->
                    <a class="logisticsBtn" data-toggle="modal" data-target="#view-assessorial"  (click)="viewAssessorialDetails(invoice?.ArAssessorialsArray, 'arAssess')">View</a></td>
                    <td *ngIf="invoice?.ArAssessorialsArray.length === 0"> -</td>
  
                    <!-- <td *ngIf="invoice?.assessorial.length >0">
                  <table>
                    <tr *ngFor="let assessorial of invoice?.assessorial">
                      {{assessorial?.shortName}}-{{assessorial?.charge}}</tr>
                  </table>
                </td>
                <td *ngIf="invoice?.assessorial.length === 0">-</td>
                <td *ngIf="invoice?.assessorial.length >0">
                  <table>
                    <tr *ngFor="let assessorial of invoice?.assessorial">
                      {{assessorial?.shortName}}-{{assessorial?.charge}}</tr>
                  </table>
                </td>
                <td *ngIf="invoice?.assessorial.length === 0">-</td> -->
                <td  style="white-space: nowrap;" *ngIf="invoice?.marginRate !== 0">${{invoice?.marginRate}}<br>({{invoice?.margin}}%)</td>
                <td *ngIf="invoice?.marginRate === 0">NA</td>
                <!-- <td *ngIf="invoice?.margin !== 0">{{invoice?.margin}}</td>
                <td *ngIf="invoice?.margin === 0">NA</td> -->
  
                <td *ngIf="invoice?.optimizeValue !== 0">{{invoice?.optimizeValue}}</td>
                <td *ngIf="invoice?.optimizeValue === 0">NA</td>
                <!-- <td *ngIf="editOption"(click)="editItemArray(invoice, i, invoice.id)"><em class="fa fa-pencil-square-o" aria-hidden="true"></em></td> -->
                </tr>
                <tr class="title-tr" *ngIf="inboundArray?.length > 0">
                  <td colspan="26">In Bound
                  </td>
                </tr>
                <tr  *ngFor="let invoice of inboundArray; let i=index;" [class.green1-tr]="invoice?.editedDiscounted === true" [class.green-tr]="invoice.selected === true && invoice.negative === false" [class.yellow-tr]="invoice.selected === false" [class.pink-tr]="invoice.negative === true && invoice.selected === true">
                  
                    <td>
                        <input type="checkbox"  (change)="checkForSelected($event, i, 'inbound')" class="option-input radio" style="top:0px;" [checked]="invoice?.selected" />
                      </td>
                      <td>{{i+1}}</td>
                      <td style="white-space: nowrap;">{{invoice?.createdOn | date:'MM-dd-yyyy'}}</td>
                      <td style="white-space: nowrap;">{{invoice?.shipmentDate | date:'MM-dd-yyyy'}}</td>
                      <td style="white-space:nowrap" *ngIf="invoice?.showRule" data-toggle="tooltip" title="{{invoice?.ruleNames}}">Yes</td>
                  <td style="white-space:nowrap" *ngIf="!invoice?.showRule">NO</td>
                      <td>{{invoice?.carrier}}</td>
                      <td style="white-space:nowrap">{{invoice?.originZip}}, {{invoice?.originState}}</td>
      
                      <td style="white-space:nowrap">{{invoice?.destinationZip}}, {{invoice?.destinationState}}</td>
                      <td>{{invoice?.class}}</td>
                      <td>{{invoice?.weight}}</td>
                      <td>{{invoice?.pieces}}</td>
                      <td>${{invoice?.invoiceAmount}}</td>
                      <td>${{invoice?.fuelCharge}}</td>
                      <td *ngIf="invoice?.assessorial.length >0">
                    <tr *ngFor="let assessorial of invoice?.assessorial">{{assessorial?.shortName}}-{{assessorial?.charge}}
                    </tr>
                    </td>
                    <td *ngIf="invoice?.assessorial.length === 0">-</td>
                    <td *ngIf="invoice?.totalForteRate !== 0" [class.grayout]="costplusToggle">${{invoice?.totalForteRate}}</td>
                    <td *ngIf="invoice?.totalForteRate === 0">NA</td>
                    <td *ngIf="invoice?.totalForteApRate !== 0" [class.grayout]="costplusToggle">${{invoice?.totalForteApRate}}</td>
                    <td *ngIf="invoice?.totalForteApRate === 0">NA</td>
                    <td *ngIf="invoice?.variance !== 0" [class.grayout]="costplusToggle">{{invoice?.variance}}</td>
                    <td *ngIf="invoice?.variance === 0">NA</td>
                    <td style="white-space: nowrap;" [class.grayout]="costplusToggle"><b>AP-</b>{{invoice?.apGrossRate}}<br><b>AR-</b>{{invoice?.arGrossRate}}</td>
                    <td style="white-space: nowrap;" [class.grayout]="costplusToggle" *ngIf="invoice?.apFinalRate !== 0 && invoice?.arFinalRate !== 0"><b>AP -</b> ${{invoice?.apFinalRate}}<br><b>AR - </b>${{invoice?.arFinalRate}} </td>
                    <td style="white-space: nowrap;" [class.grayout]="costplusToggle"  *ngIf="invoice?.apFinalRate === 0 && invoice?.arFinalRate === 0"><b>AP -</b> NA<br><b>AR -</b> NA</td>
                    <td style="white-space: nowrap;" [class.grayout]="costplusToggle" ><b>AP -</b> {{invoice?.finalAPDiscount}}<br><b>AR -</b><span >{{invoice?.finalARDiscount}}</span> <b><em class="fa fa-pencil" aria-hidden="true" style="color:#0079FE" (click)="editItemArray(invoice, i, invoice.id,'inbound')"></em></b>
                      <input *ngIf="invoice?.showEdit" type="text" id="editARDiscount" placeholder={{invoice?.finalARDiscount}} class="form-control" [(ngModel)]="editableArDiscountValue" style="padding: 0px 5px!important;"  (keydown)="editDiscountByRow1($event,invoice?.id,i, 'inbound', invoice)" (blur)="editDiscountByRow($event,invoice?.id,i, 'inbound', invoice)" ></td>
                    <!-- <td style="white-space: nowrap;" ><b>AP -</b> {{invoice?.finalAPDiscount}}<br><b>AR -</b>{{invoice?.finalARDiscount}}</td> -->
                    <!-- <td style="white-space: nowrap;"  *ngIf="!enableReadOnly"><b>AP- </b>NA<br><b>AR- </b>NA</td> -->
      
                    <!-- <td>{{invoice?.arGrossRate}}</td>
                    <td class="ap-td" *ngIf="invoice?.arFinalRate !== 0">${{invoice?.arFinalRate}}</td>
                    <td class="ap-td" *ngIf="invoice?.arFinalRate === 0">NA</td> -->
                    <!-- <td class="ap-td" *ngIf="invoice?.finalARDiscount !== undefined">{{invoice?.finalARDiscount}}</td>
                    <td class="ap-td" *ngIf="invoice?.finalARDiscount === undefined">-</td> -->
      
                     <td style="white-space: nowrap;" [class.grayout]="costplusToggle"> ${{invoice?.fuelSurChargeArValue}} <br>({{invoice?.arFSC}}%)</td>
                    <!-- <td>{{invoice?.arFSC}}</td> -->
                    <td style="white-space: nowrap;" [class.grayout]="costplusToggle" *ngIf="invoice?.ApAssessorialsArray.length > 0 && invoice?.ArAssessorialsArray.length > 0">		 
                      <tr>Total - {{invoice?.forteApAssessorialRate}} -$</tr>		
                      <!-- <tr *ngFor="let assessorial of invoice?.ApAssessorialsArray">{{assessorial?.shortname}}-${{assessorial?.apCost}}</tr>		 -->
                      <a class="logisticsBtn" data-toggle="modal" data-target="#view-assessorial" (click)="viewAssessorialDetails(invoice?.ApAssessorialsArray, 'apAssess')">View</a></td>
                      <td *ngIf="invoice?.ApAssessorialsArray.length === 0"> -</td>
        
                      <td  style="white-space: nowrap;" [class.grayout]="costplusToggle" *ngIf="invoice?.ArAssessorialsArray.length > 0">
                          <tr>Total - {{invoice?.forteArAssessorialRate}} - $</tr>		
                          <!-- <tr *ngFor="let assessorial of invoice?.ArAssessorialsArray">{{assessorial?.shortname}}-${{assessorial?.arCost}}</tr>		 -->
                          <a class="logisticsBtn" data-toggle="modal" data-target="#view-assessorial" (click)="viewAssessorialDetails(invoice?.ArAssessorialsArray, 'arAssess')">View</a></td>
                          <td *ngIf="invoice?.ArAssessorialsArray.length === 0"> -</td>
      
                        <!-- <td *ngIf="invoice?.assessorial.length >0">
                      <table>
                        <tr *ngFor="let assessorial of invoice?.assessorial">
                          {{assessorial?.shortName}}-{{assessorial?.charge}}</tr>
                      </table>
                    </td>
                    <td *ngIf="invoice?.assessorial.length === 0">-</td>
                    <td *ngIf="invoice?.assessorial.length >0">
                      <table>
                        <tr *ngFor="let assessorial of invoice?.assessorial">
                          {{assessorial?.shortName}}-{{assessorial?.charge}}</tr>
                      </table>
                    </td>
                    <td *ngIf="invoice?.assessorial.length === 0">-</td> -->
                    <td  style="white-space: nowrap;" *ngIf="invoice?.marginRate !== 0">${{invoice?.marginRate}}<br>({{invoice?.margin}}%)</td>
                    <td *ngIf="invoice?.marginRate === 0">NA</td>
                    <!-- <td *ngIf="invoice?.margin !== 0">{{invoice?.margin}}</td>
                    <td *ngIf="invoice?.margin === 0">NA</td> -->
      
                    <td *ngIf="invoice?.optimizeValue !== 0">{{invoice?.optimizeValue}}</td>
                    <td *ngIf="invoice?.optimizeValue === 0">NA</td>
                    <!-- <td *ngIf="editOption"(click)="editItemArray(invoice, i, invoice.id)"><em class="fa fa-pencil-square-o" aria-hidden="true"></em></td> -->
  
                </tr>
                <tr class="title-tr">
                  <td colspan="26" *ngIf="thirdPartyArray?.length >0">Third Party
                  </td>
                </tr>
  
                <tr  *ngFor="let invoice of thirdPartyArray; let i=index;" [class.green1-tr]="invoice?.editedDiscounted === true" [class.red-tr]="invoice.selected === true && invoice.negative === false" [class.yellow-tr]="invoice.selected === false" [class.pink-tr]="invoice.negative === true && invoice.selected === true">
                  
                    <td>
                        <input type="checkbox"  (change)="checkForSelected($event, i, 'thirdParty')" class="option-input radio" style="top:0px;" [checked]="invoice?.selected" />
                      </td>
                      <td>{{i+1}}</td>
                      <td style="white-space: nowrap;">{{invoice?.createdOn | date:'MM-dd-yyyy'}}</td>
                      <td style="white-space: nowrap;">{{invoice?.shipmentDate | date:'MM-dd-yyyy'}}</td>
                      <td style="white-space:nowrap" *ngIf="invoice?.showRule"  data-toggle="tooltip" title="{{invoice?.ruleNames}}">Yes</td>
                  <td style="white-space:nowrap" *ngIf="!invoice?.showRule">NO</td>
                      <td>{{invoice?.carrier}}</td>
                      <td style="white-space:nowrap">{{invoice?.originZip}}, {{invoice?.originState}}</td>
      
                      <td style="white-space:nowrap">{{invoice?.destinationZip}}, {{invoice?.destinationState}}</td>
                      <td>{{invoice?.class}}</td>
                      <td>{{invoice?.weight}}</td>
                      <td>{{invoice?.pieces}}</td>
                      <td>${{invoice?.invoiceAmount}}</td>
                      <td>${{invoice?.fuelCharge}}</td>
                      <td *ngIf="invoice?.assessorial.length >0">
                    <tr *ngFor="let assessorial of invoice?.assessorial">{{assessorial?.shortName}}-{{assessorial?.charge}}
                    </tr>
                    </td>
                    <td *ngIf="invoice?.assessorial.length === 0">-</td>
                    <td *ngIf="invoice?.totalForteRate !== 0" [class.grayout]="costplusToggle">${{invoice?.totalForteRate}}</td>
                    <td *ngIf="invoice?.totalForteRate === 0">NA</td>
                    <td *ngIf="invoice?.totalForteApRate !== 0" [class.grayout]="costplusToggle">${{invoice?.totalForteApRate}}</td>
                    <td *ngIf="invoice?.totalForteApRate === 0">NA</td>
                    <td *ngIf="invoice?.variance !== 0" [class.grayout]="costplusToggle">{{invoice?.variance}}</td>
                    <td *ngIf="invoice?.variance === 0">NA</td>
                    <td style="white-space: nowrap;" [class.grayout]="costplusToggle"><b>AP-</b>{{invoice?.apGrossRate}}<br><b>AR-</b>{{invoice?.arGrossRate}}</td>
                    <td style="white-space: nowrap;" [class.grayout]="costplusToggle" *ngIf="invoice?.apFinalRate !== 0 && invoice?.arFinalRate !== 0"><b>AP -</b> ${{invoice?.apFinalRate}}<br><b>AR - </b>${{invoice?.arFinalRate}} </td>
                    <td style="white-space: nowrap;" [class.grayout]="costplusToggle" *ngIf="invoice?.apFinalRate === 0 && invoice?.arFinalRate === 0"><b>AP -</b> NA<br><b>AR -</b> NA</td>
                    <td style="white-space: nowrap;" [class.grayout]="costplusToggle" ><b>AP -</b> {{invoice?.finalAPDiscount}}<br><b>AR -</b><span >{{invoice?.finalARDiscount}}</span> <b><em class="fa fa-pencil" aria-hidden="true" style="color:#0079FE" (click)="editItemArray(invoice, i, invoice.id,'thirdparty')"></em></b>
                    <input *ngIf="invoice?.showEdit" type="text" id="editARDiscount" placeholder={{invoice?.finalARDiscount}} class="form-control" [(ngModel)]="editableArDiscountValue" style="padding: 0px 5px!important;"   (keydown)="editDiscountByRow1($event,invoice?.id,i, 'thirdparty', invoice)" (blur)="editDiscountByRow($event,invoice?.id,i, 'thirdparty', invoice)" ></td>
                    <!-- <td style="white-space: nowrap;"  *ngIf="!enableReadOnly"><b>AP- </b>NA<br><b>AR- </b>NA</td> value={{invoice?.finalARDiscount}} -->
      
                    <!-- <td>{{invoice?.arGrossRate}}</td>
                    <td class="ap-td" *ngIf="invoice?.arFinalRate !== 0">${{invoice?.arFinalRate}}</td>
                    <td class="ap-td" *ngIf="invoice?.arFinalRate === 0">NA</td> -->
                    <!-- <td class="ap-td" *ngIf="invoice?.finalARDiscount !== undefined">{{invoice?.finalARDiscount}}</td>
                    <td class="ap-td" *ngIf="invoice?.finalARDiscount === undefined">-</td> -->
      
                     <td style="white-space: nowrap;" [class.grayout]="costplusToggle"> ${{invoice?.fuelSurChargeArValue}} <br>({{invoice?.arFSC}}%)</td>
                    <!-- <td>{{invoice?.arFSC}}</td> -->
                    <td style="white-space: nowrap;" [class.grayout]="costplusToggle" style="white-space:nowrap" *ngIf="invoice?.ApAssessorialsArray?.length > 0 ">		 
                      <tr>Total - {{invoice?.forteApAssessorialRate}}-$</tr>		
                      <!-- <tr *ngFor="let assessorial of invoice?.ApAssessorialsArray">{{assessorial?.shortname}}-${{assessorial?.apCost}}</tr>		 -->
                      <a class="logisticsBtn" data-toggle="modal" data-target="#view-assessorial" (click)="viewAssessorialDetails(invoice?.ApAssessorialsArray, 'apAssess')">View</a></td>
                      <td *ngIf="invoice?.ApAssessorialsArray.length === 0"> -</td>
        
                      <td style="white-space: nowrap;" [class.grayout]="costplusToggle" style="white-space:nowrap" *ngIf="invoice?.ArAssessorialsArray?.length > 0">
                          <tr>Total - {{invoice?.forteArAssessorialRate}}-$</tr>		
                          <!-- <tr *ngFor="let assessorial of invoice?.ArAssessorialsArray">{{assessorial?.shortname}}-${{assessorial?.arCost}}</tr>		 -->
                          <a class="logisticsBtn" data-toggle="modal" data-target="#view-assessorial" (click)="viewAssessorialDetails(invoice?.ArAssessorialsArray, 'arAssess')">View</a></td>
                          <td *ngIf="invoice?.ArAssessorialsArray.length === 0"> -</td>
      
                        <!-- <td *ngIf="invoice?.assessorial.length >0">
                      <table>
                        <tr *ngFor="let assessorial of invoice?.assessorial">
                          {{assessorial?.shortName}}-{{assessorial?.charge}}</tr>
                      </table>
                    </td>
                    <td *ngIf="invoice?.assessorial.length === 0">-</td>
                    <td *ngIf="invoice?.assessorial.length >0">
                      <table>
                        <tr *ngFor="let assessorial of invoice?.assessorial">
                          {{assessorial?.shortName}}-{{assessorial?.charge}}</tr>
                      </table>
                    </td>
                    <td *ngIf="invoice?.assessorial.length === 0">-</td> -->
                    <td  style="white-space: nowrap;" *ngIf="invoice?.marginRate !== 0">${{invoice?.marginRate}}<br>({{invoice?.margin}}%)</td>
                    <td *ngIf="invoice?.marginRate === 0">NA</td>
                    <!-- <td *ngIf="invoice?.margin !== 0">{{invoice?.margin}}</td>
                    <td *ngIf="invoice?.margin === 0">NA</td> -->
      
                    <td *ngIf="invoice?.optimizeValue !== 0">{{invoice?.optimizeValue}}</td>
                    <td *ngIf="invoice?.optimizeValue === 0">NA</td>
                    <!-- <td *ngIf="editOption"(click)="editItemArray(invoice, i, invoice.id)"><em class="fa fa-pencil-square-o" aria-hidden="true"></em></td> -->
                </tr>
              </tbody>
            </table>            
          </div>
        </div>
        <div style="margin-top:32px!important" class="row">
          <table class="table table-striped table-bordered" *ngIf="invalidInputData?.length> 0">
                <thead>
                  <tr>
                    <!-- <th>
                      <input type="checkbox" class="option-input radio" style="top:0px;" value="true" />
                    </th> -->
                    <th>SlNo</th>
                    <th>Creation Date</th>
                    <th>Shipment Date</th>
                    <th>Carrier</th>
                    <th>Origin</th>
    
                    <th>Destination</th>
    
                    <th>Class</th>
                    <th>Weight</th>
                    <th>Pallets</th>
                    <th>Inv Amt</th>
                    <th>Fuel</th>
                    
                  </tr>
                </thead>
                <tbody>
                  <tr class="title-tr" *ngIf="invalidInputData?.length> 0">
                    <td colspan="26">InValid Input Data</td>
                  </tr>
    
                  <tr class="blue-tr" *ngFor="let invoice of invalidInputData; let i=index;">
                    <!-- <td>
                      <input type="checkbox"  (change)="checkForSelected($event.target.checked, i, 'outbound')" class="option-input radio" style="top:0px;" [checked]="invoice?.selected" />
                    </td> -->
                    <td>{{i+1}}</td>
                    <td>{{invoice?.createdOn | date:'MM-dd-yyyy'}}</td>
                    <td>{{invoice?.shipmentDate | date:'MM-dd-yyyy'}}</td>
                    <td>{{invoice?.carrier}}</td>
                    <td>{{invoice?.originZip}}, {{invoice?.originState}}</td>
    
                    <td>{{invoice?.destinationZip}}, {{invoice?.destinationState}}</td>
                    <td>{{invoice?.class}}</td>
                    <td>{{invoice?.weight}}</td>
                    <td>{{invoice?.pieces}}</td>
                    <td>${{invoice?.invoiceAmount}}</td>
                    <td>${{invoice?.fuelCharge}}</td>
                    
                  </tr>
                </tbody>
              </table>
        </div>
        <div style="margin-top:32px!important" class="row">
          <table class="table table-striped table-bordered" *ngIf="serviceNotAvailableArray?.length> 0">
                <thead>
                  <tr>
                    <th>SlNo</th>
                    <th>Creation Date</th>
                    <th>Shipment Date</th>
                    <th>Carrier</th>
                    <th>Origin</th>
    
                    <th>Destination</th>
    
                    <th>Class</th>
                    <th>Weight</th>
                    <th>Pallets</th>
                    <th>Inv Amt</th>
                    <th>Fuel</th>
                    
                  </tr>
                </thead>
                <tbody>
                  <tr class="title-tr" *ngIf="serviceNotAvailableArray?.length> 0">
                    <td colspan="26">Service Not Available</td>
                  </tr>
    
                  <tr class="blue-tr" *ngFor="let invoice of serviceNotAvailableArray; let i=index;">
                    <td>{{i+1}}</td>
                    <td>{{invoice?.createdOn | date:'MM-dd-yyyy'}}</td>
                    <td>{{invoice?.shipmentDate | date:'MM-dd-yyyy'}}</td>
                    <td>{{invoice?.carrier}}</td>
                    <td>{{invoice?.originZip}}, {{invoice?.originState}}</td>
    
                    <td>{{invoice?.destinationZip}}, {{invoice?.destinationState}}</td>
                    <td>{{invoice?.class}}</td>
                    <td>{{invoice?.weight}}</td>
                    <td>{{invoice?.pieces}}</td>
                    <td>${{invoice?.invoiceAmount}}</td>
                    <td>${{invoice?.fuelCharge}}</td>
                    
                  </tr>
                </tbody>
              </table>
        </div>
        
      
        <div class="row">
          <div class="col-md-2">
            <!-- <button class="btn btn-danger"><em class="fa fa-save" aria-hidden="true" style="font-size: 20px; vertical-align: middle"></em>Save Data</button> -->
            <button class="logisticsBtn" id="optimizeBtn" (click)="optimizeValues()" style="width: 100%" ><em class="fa fa-percent" aria-hidden="true"
                style="font-size: 20px; vertical-align: middle;margin-right: 5px;" ></em>Optimize</button>
  
          </div>
          <div class="col-md-2">
            <!-- <button class="btn btn-danger"><em class="fa fa-save" aria-hidden="true" style="font-size: 20px; vertical-align: middle"></em>Save Data</button> -->
            <button class="logisticsBtn" style="width: 100%" id="saveDataBtn"  (click)="saveDataRequest(workbookForm.value, accessorialFormAP.value, accessorialFormAR.value)">
              <em class="fa fa-file" aria-hidden="true"
                style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
              Save</button>
  
          </div>
          <div class="col-md-2">
            <!-- <button class="btn btn-danger"><em class="fa fa-save" aria-hidden="true" style="font-size: 20px; vertical-align: middle"></em>Save Data</button> -->
            <button class="logisticsBtn" style="width: 100%" id="AddRulesBtn" (click)="addRules1()">
              <em class="fa fa-plus-circle" aria-hidden="true"
                style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
              Add Rules</button>
  
          </div>
          <div class="col-md-2">
            <!-- <button class="btn btn-danger"><em class="fa fa-save" aria-hidden="true" style="font-size: 20px; vertical-align: middle"></em>Save Data</button> -->
            <button class="logisticsBtn" style="width: 100%"  id="exportData" (click)="exportdataOpenModal()">
              <em class="fa fa-plus-circle" aria-hidden="true"
                style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
              Export</button>
  
          </div>
        
          <div class="col-md-2" *ngIf="!showCreateContract">
            <button class="logisticsBtn" style="width: 200px" id="approvalRequestBtn"  (click)="openRequestApproval()">
              <em class="fa fa-plus-circle" aria-hidden="true"
                style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
               Request for Approval</button>
  
          </div>
            <div class="col-md-2" *ngIf="showCreateContract">
            <button class="logisticsBtn" style="width: 200px" id="contractDetailsBtn" (click)="openContractPage()">
              <em class="fa fa-plus-circle" aria-hidden="true"
                style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
              View Contract</button>
  
          </div>
        </div>
  
  
        <div class="clearfix">&nbsp;</div>
        <div class="clearfix">&nbsp;</div>
      </div>
      <div class="col-md-12 col-sm-12" *ngIf="displayNoInVoice">
        <div class="row">
          <div class="table-responsive" style="margin-top: 40px;padding: 0px 20px;">
            <div class="text-center">
              <h4>Invoice Information are not available</h4>
            </div>
          </div>
        </div>
      </div>
  </div>
  <!--//Slider-->
  <!-- <div class="clearfix"></div> -->



</div>
<!-- </div>   -->
<!--//banner-->



<!-- <div class="clearfix">&nbsp;</div> -->
<div class="copy">
  <p>© 2018 Logistics . All Rights Reserved </p>
</div>
<a href="#" tabindex="-1" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
<!-- //smooth scrolling -->
<style>
  h2,
  .h2 {
    font-size: 12px !important;
  }

  h3,
  .h3 {
    font-size: 14px !important;
  }
</style>

<div id="view-assessorial" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
    <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff">&times;</button>
    <h4 class="modal-title" style="color: #ffffff!important">&nbsp;Accessorial Details</h4>
    </div>
    <div class="modal-body">
    <div class="legend-body" style="margin-bottom: 10px;"> 
    <div class="row">
    <div class="col-sm-12">
    <p class="qt_hd">Company :<span class="qt_bd">{{viewAssessorialArray?.companyName}}</span></p>
    </div>
    <div class="col-sm-12">
            <p class="qt_hd" *ngIf="showApCost">Total Accessorial Charge :<span class="qt_bd">{{finalApAssess}}</span></p>
            <p class="qt_hd" *ngIf="showArCost">Total Accessorial Charge :<span class="qt_bd">{{finalArAssess}}</span></p>
    </div>
    
    <div class="table-responsive" style="overflow-x: inherit">
    <table class="table table-bordered" >
    <thead>
    <tr>
    <th style="border:1px solid #a4745b;font-size: 13px ">Accessorial Name</th>
    <th style="border:1px solid #a4745b;font-size: 13px">Charge</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <!-- <td class="td_right"> <div>{{viewAssessorialArray?.assessorialCharge}}</div></td> -->
    <td class="td_right">
    <div *ngFor="let assessorial of viewAssessorialArray">{{assessorial.name}}</div></td>
    <td *ngIf="showApCost" class="td_right">
    <div *ngFor="let assessorial of viewAssessorialArray">{{assessorial.apCost}}</div>
  </td>
  <td *ngIf="showArCost" class="td_right">
      <div *ngFor="let assessorial of viewAssessorialArray">{{assessorial.arCost}}</div>
    </td>
  </tr>
    </tbody>
    </table>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>

    <div id="apassessorial-view" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
        <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff">&times;</button>
        <h4 class="modal-title" style="color: #ffffff!important">&nbsp; AP Accessorial Details</h4>
        </div>
        <div class="modal-body">
        <div class="legend-body" style="margin-bottom: 10px;"> 
        <div class="row">
        <div class="col-sm-12">
        <!-- <p class="qt_hd">Company :<span class="qt_bd">{{viewAssessorialArray?.companyName}}</span></p> -->
        </div>
        
        <h4 class="text-center" style="font-size:14px;margin:4px 0px;">Forte AP Accessorial Details</h4>
        <div class="table-responsive">
          <table class="table table-bordered table-responsive">
            <thead>
              <tr>
                <th>Accessorial</th>
                <th>Cost</th>
                <th>Min($)</th>
                <th>Max($)</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>

              <tr *ngFor="let data of apData; let i = index">
                <td style="padding:4px;" align="center">{{data.name}}</td>
                <td style="padding:4px;" *ngIf="data.cwt === false" align="center">{{data.cost}}</td>
                <td style="padding:4px;" *ngIf="data.cwt === true" align="center">{{data.cost}}</td>
                <td style="padding:4px;" align="center">{{data.min}}</td>
                <td style="padding:4px;" align="center">{{data.max}}</td>
                <td style="padding:4px;" align="center">
                  <a class="btn btn-default" style="padding: 0 6px; color: #0079FE" id="editIconAp"
                    (click)="editAccessorials(data,'AP', $event, i)"><em class="fa fa-pencil"></em></a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="row" *ngIf="editAPAcc" style="padding: 20px;">
            <form [formGroup]="accessorialFormAP">
          <div class="col-md-4">
            <div class="form-group form-group-sm" >
              <label for="apAssessorials" class="control-label">AP Accessorials</label>
              <input type="text" id="apAssessorials"  class="form-control"  formControlName="accessorials" readonly> 
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group form-group-sm">
              <label for="costAp" class="control-label">Cost<span></span></label>
              <input type="text" class="form-control" id="costAp" formControlName="cost" ngPattern="/[0-9.]/"
                     onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="accessTab($event,'costAp')">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group form-group-sm">
              <label for="minAp" class="control-label">Min<span></span></label>
              <input type="text" class="form-control" id="minAp" formControlName="min" ngPattern="/[0-9.]/"
                     onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="accessTab($event,'minAp')">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group form-group-sm">
              <label for="maxAp" class="control-label">Max</label>
              <input type="text" class="form-control" id="maxAp" formControlName="max" ngPattern="/[0-9.]/"
                     onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="accessTab($event,'maxAp')">
            </div>
          </div>
          <!-- <div class="col-md-1" >
            <label>&nbsp;</label>
            <button class="btn btn-success center-block" id="saveAccessAp" style="margin-top: 19px;"><i  class="fa fa-check"></em></button>
          </div> -->
          <!-- <div class="col-md-1">
              <label>&nbsp;</label>
              <button class="btn btn-danger" id="" style="height: 31px; margin-top: 19px; width: 25px;"><i  class="fa fa-window-close"></em></button>
            </div> -->
            </form>
        </div>
        </div>
        </div>
        </div>
        </div>
        </div>
        </div>

    <div id="arassessorial-view" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
            <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff">&times;</button>
            <h4 class="modal-title" style="color: #ffffff!important">&nbsp; AR Accessorial Details</h4>
            </div>
            <div class="modal-body">
            <div class="legend-body" style="margin-bottom: 10px;"> 
            <div class="row">
            <div class="col-sm-12">
            <!-- <p class="qt_hd">Company :<span class="qt_bd">{{viewAssessorialArray?.companyName}}</span></p> -->
            </div>
            
            <h4 class="text-center" style="font-size:14px;margin:4px 0px;">Forte AR Accessorial Details</h4>
            <div class="table-responsive">
                <table class="table table-bordered table-responsive">
                  <thead>
                    <tr>
                      <th>Accessorial</th>
                      <th>Cost</th>
                      <th>Min($)</th>
                      <th>Max($)</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
      
                    <tr *ngFor="let data of arData; let i = index">
                      <td style="padding:4px;" align="center">{{data.name}}</td>
                      <td style="padding:4px;" *ngIf="data.cwt === false" align="center">{{data.cost}}</td>
                      <td style="padding:4px;" *ngIf="data.cwt === true" align="center">{{data.cost}}</td>
                      <td style="padding:4px;" align="center">{{data.min}}</td>
                      <td style="padding:4px;" align="center">{{data.max}}</td>
                      <td style="padding:4px;" align="center">
                        <a class="btn btn-default" style="padding: 0 6px; color: #0079FE" id="editIconAp"
                          (click)="editAccessorials(data,'AR', $event,i)"><em class="fa fa-pencil"></em></a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="row" *ngIf="editARAcc" style="padding: 20px;">
                  <form [formGroup]="accessorialFormAR">
                  <div class="col-md-4">
                    <div class="form-group form-group-sm" >
                      <label for="arAssessorials" class="control-label">AR Accessorials</label>
                      <input type="text" id="arAssessorials"  class="form-control"  formControlName="accessorials" readonly>
                        
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="form-group form-group-sm">
                      <label for="costAr" class="control-label">Cost<span></span></label>
                      <input type="text" class="form-control" id="costAr" formControlName="cost" ngPattern="/[0-9.]/"
                             onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="accessTab($event,'costAr')">
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="form-group form-group-sm">
                      <label for="minAr" class="control-label">Min<span></span></label>
                      <input type="text" class="form-control" id="minAr" formControlName="min" ngPattern="/[0-9.]/"
                             onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="accessTab($event,'minAr')">
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="form-group form-group-sm">
                      <label for="maxAr" class="control-label">Max</label>
                      <input type="text" class="form-control" id="maxAr" formControlName="max" ngPattern="/[0-9.]/"
                             onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')" (keydown)="accessTab($event,'maxAr')">
                    </div>
                  </div>
                  <!-- <div class="col-md-1">
                    <label>&nbsp;</label>
                    <button class="btn btn-success center-block" id="saveAccessAr" style="margin-top: 19px;"><i  class="fa fa-check"></em></button>
                  </div> -->
                  <!-- <div class="col-md-1">
                      <label>&nbsp;</label>
                      <button class="btn btn-danger center-block" id="" style="height: 31px; margin-top: 19px; width: 25px;"><i  class="fa fa-window-close"></em></button>
                    </div> -->
                    </form>
                </div>
            </div>
            </div>
            </div>
            </div>
            </div>
            </div>

            <div id="requestModal" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
              <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
              <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff">&times;</button>
              <h4 class="modal-title" style="color: #ffffff!important">&nbsp; File Name Confirmation</h4>
              </div>
              <div class="modal-body">
              <div class="legend-body" style="margin-bottom: 10px;"> 
              <div class="row">
              <div class="col-sm-12">
              <!-- <p class="qt_hd">Company :<span class="qt_bd">{{viewAssessorialArray?.companyName}}</span></p> -->
              </div>
              
              <!-- <h4 class="text-center" style="font-size:14px;margin:4px 0px;">File Name Confirmation</h4> -->

              <span style="margin-left: 40px;" class="text-center">{{savinganalyticsCode}}</span>
              <br>
              <span style="margin-left: 40px;font-size: 27px;" class="text-center">Do you want to change the file name?</span>
              <div class="row">
                <div class="col-md-8 col-md-push-2" ><textarea *ngIf="showEditAnalyticsCode" autofocus class="form-control" id="savinganalyticsCode" rows="5" [(ngModel)]="savinganalyticsCode"  >{{savinganalyticsCode}}</textarea>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4 col-md-push-2 green-button text-center">
                  <button *ngIf="!showEditAnalyticsCode" class="green-button" id="fileNameSaveYes" (click)="changeName()"><em class="fa fa-save" aria-hidden="true"  style="margin-right:5px;"></em>YES</button>
                  <button *ngIf="showEditAnalyticsCode" class="green-button" id="fileNameSaveConfirm" (click)="saveData(workbookForm.value, accessorialFormAP.value, accessorialFormAR.value)"><em class="fa fa-save" aria-hidden="true"  style="margin-right:5px;"></em>CONFIRM</button>

                </div>
                <div class="col-md-4 col-md-push-2 green-button text-center">
                  <button *ngIf="!showEditAnalyticsCode" class="green-button" id="fileNameSaveNo" (click)="saveData(workbookForm.value, accessorialFormAP.value, accessorialFormAR.value)"><em class="fa fa-save" aria-hidden="true"  style="margin-right:5px;"></em>NO</button>
                </div>
            </div>
              </div>
              </div>
              </div>
              </div>
              </div>
              </div>

 <!-- Rule Modal Starts-->
 <div id="RuleModal" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
  <div class="modal-content" style="height:850px;background: #e2e6e6;width:1000px;margin-left:-175px;">
  <div class="modal-header">
    <button type="button" class="close" (click)="disableRule2()" style="font-size: 15px;color: #ffffff; margin-left:-526px;">Shut Down Existing Rules</button>

    <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff; float : left">&times;</button>
  <h4 class="modal-title" style="color: #ffffff!important">&nbsp;ADD RULES</h4>
  </div>
  <div class="modal-body" style="margin: 0px 20px 20px 20px; padding: 0px 0px 0px 0px;">
    <div class="row" >
      <div class="col-md-12" >
        <div class="table-responsive">
          <table class="table table-bordered table-responsive" style="color: #a2705c">
            <thead>
            <tr>
              <th class="text-center" style="width:10%" rowspan="2">Company</th>
              <th class="text-center" colspan="10">Existing Rules</th>
            </tr>
            <tr>
              <th class="text-center" >Category</th>
              <th class="text-center" >Carrier</th>
              <th class="text-center" >Directions</th>
              <!-- <th class="text-center" width="130px">Cost Plus Factor</th> -->
              <th class="text-center" >Discount</th>
              <th class="text-center" >Minimum Charge</th>
              
              <th class="text-center" >FAK Values</th>
              <!-- <th class="text-center"  id="editRules">Edit</th>
              <th class="text-center" >Delete</th> -->
              <th class="text-center" >Disable</th>
              <!--<th class="text-center" >Add</th> -->
              <!-- <th class="text-center" >Action on <br>Customer</th>-->
              
            </tr>
            </thead>
            <tbody> 
                <tr *ngFor="let businessRules of filteredRulesArray; let i = index">
                   <td rowspan =" 10"  *ngIf="i === 0">{{companyInformation.companyName}}</td>
                   <td class="text-center"  style="border-bottom:1px solid #4c7a71;">{{businessRules.category}}</td>
                   <td class="text-center"  style="border-bottom:1px solid #4c7a71;">{{businessRules.type}}</td>
                   <td class="text-center"  style="border-bottom:1px solid #4c7a71;">{{businessRules.directions}} <br>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificStateList1.length>0 && businessRules.specificStateList2.length>0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificStateList1}} - {{businessRules.specificStateList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificStateList1.length>0 && businessRules.specificCityList2.length>0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificStateList1}} - {{businessRules.specificCityList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificCityList1.length>0 && businessRules.specificStateList2.length>0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificCityList1}} - {{businessRules.specificStateList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificStateList1.length === 0 && businessRules.specificStateList2.length === 0 && businessRules.specificCityList1.length >0 && businessRules.specificCityList2.length >0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificCityList1}} - {{businessRules.specificCityList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificStateList1.length>0 && businessRules.specificStateList2.length==0 && businessRules.specificCityList1.length === 0 && businessRules.specificCityList2.length ==0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificStateList1}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificStateList1.length==0 && businessRules.specificStateList2.length>0 && businessRules.specificCityList1.length ==0 && businessRules.specificCityList2.length === 0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificStateList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' &&  businessRules.specificCityList1.length>0 && businessRules.specificCityList2.length === 0&& businessRules.specificStateList1.length === 0 && businessRules.specificStateList2.length==0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificCityList1}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' &&  businessRules.specificCityList1.length === 0 && businessRules.specificCityList2.length > 0&& businessRules.specificStateList1.length === 0 && businessRules.specificStateList2.length==0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificCityList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'INTRASTATE' && businessRules.directions !== 'SPECIAL RULES'  && businessRules.specificStateList1.length>0 && businessRules.specificStateList2.length ==0 && businessRules.specificCityList1.length ==0 && businessRules.specificCityList2.length === 0">[{{businessRules.specificStateList1}}]</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'INTRASTATE' && businessRules.directions !== 'SPECIAL RULES'  && businessRules.specificStateList1.length === 0 && businessRules.specificCityList1.length>0 && businessRules.specificStateList2.length === 0 && businessRules.specificCityList2.length ==0 ">[{{businessRules.specificCityList1}}]</span>
                    <!--<span class="text-center" style="padding-left: 43px;" *ngIf="businessRules.specificZipFlag === 'true' && businessRules.directions === 'REGIONAL DIRECT INTRASTATE' && businessRules.specificStateList1.length>0&& businessRules.specificStateList2.length>0">q{{businessRules.specificStateList1}} </span>-->                  
                  </td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;" *ngIf="businessRules.costPlusFactorNew== undefined || businessRules.costPlusFactorNew== ''|| businessRules.costPlusFactorNew== null">{{businessRules.discount}}%</td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;" *ngIf="businessRules.costPlusFactorNew!== undefined && businessRules.costPlusFactorNew!== ''&& businessRules.costPlusFactorNew!== null">-</td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;" *ngIf="businessRules.costPlusFactorNew== undefined || businessRules.costPlusFactorNew== ''|| businessRules.costPlusFactorNew== null">${{businessRules.minCharge}}</td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;" *ngIf="businessRules.fakRange.length > 2"><a style="cursor: pointer; color: #2a4e47"(click)="viewMore(businessRules)" >View</a></td> <!--(click)="viewMore(businessRules)"-->
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;" *ngIf="businessRules.fakRange.length === 2"><span> - </span></td>
                  <!-- <td class="text-center"  style="border-bottom:1px solid #4c7a71;"><a style="cursor: pointer" (click)="editWorkBookRule(businessRules, i)" ><em class="fa fa-pencil-square-o" aria-hidden="true"></em></a></td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;">
                    <a style="cursor: pointer"  *ngIf="businessRules?.factor !=='COSTPLUS'" (click)="deleteApplyRule(businessRules, i)" ><em class="fa fa-minus-circle" aria-hidden="true"></em></a>
                    <a style="cursor: pointer"  *ngIf="businessRules?.factor =='COSTPLUS'">-</a>
                  </td> -->
                  <td>
                      <label class="switch">
                          <input type="checkbox" [checked]="businessRules?.ruleExist" (change)="disableRule1($event,businessRules, i)">
                          <span class="slider round"></span>
                        </label>
                  </td>
                 <!-- <td rowspan =" 10"  *ngIf="i === 0" class="text-center" style="cursor: pointer;" ><a  style="color: #2a4e47;" (click)="addWorkbookRules()"><em class="fa fa-plus-circle" aria-hidden="true"></em> ADD RULES</a></td> -->


              </tr>
              <tr *ngIf="filteredRulesArray.length === 0">
                  <td >{{companyInformation.companyName}}</td>

                  <td  class="text-center" style="font-size: 14px;" colspan="10"> No Business Rules are applied</td>

              </tr>



            </tbody>
            </table>
        </div>
      </div>
  
    </div>
    <div class="row" *ngIf="temporaryArray.length > 0" >
      <div class="col-md-12" >
        <div class="table-responsive">
          <table class="table table-bordered table-responsive" style="color: #a2705c">
            <thead>
            <tr>
              <th class="text-center" style="width:10%" rowspan="2">Company</th>
              <th class="text-center" colspan="10">Proposed Rules</th>
              
            </tr>
            <tr>
              <th class="text-center" >Category</th>
              <th class="text-center" >Carrier</th>
              <th class="text-center" >Directions</th>
              <!-- <th class="text-center" width="130px">Cost Plus Factor</th> -->
              <th class="text-center" >Discount</th>
              <th class="text-center" >Minimum Charge</th>
              
              <th class="text-center" >FAK Values</th>
              <th class="text-center"  id="editRules">Edit</th>
              <th class="text-center" >Delete</th>
              <th class="text-center" >Status</th>
              <th class="text-center" >Add</th>
              <!-- <th class="text-center" >Action on <br>Customer</th>-->
              
            </tr>
            </thead>
            <tbody> 
                <tr *ngFor="let businessRules of temporaryArray; let i = index" [class.green-tr]="businessRules.ruleExist=== true">
                   <td rowspan =" 10"  *ngIf="i === 0">{{companyInformation.companyName}}</td>
                   <td class="text-center"  style="border-bottom:1px solid #4c7a71;">{{businessRules.category}}</td>
                   <td class="text-center"  style="border-bottom:1px solid #4c7a71;">{{businessRules.type}}</td>
                   <td class="text-center"  style="border-bottom:1px solid #4c7a71;">{{businessRules.directions}} <br>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificStateList1.length>0 && businessRules.specificStateList2.length>0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificStateList1}} - {{businessRules.specificStateList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificStateList1.length>0 && businessRules.specificCityList2.length>0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificStateList1}} - {{businessRules.specificCityList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificCityList1.length>0 && businessRules.specificStateList2.length>0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificCityList1}} - {{businessRules.specificStateList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificStateList1.length === 0 && businessRules.specificStateList2.length === 0 && businessRules.specificCityList1.length >0 && businessRules.specificCityList2.length >0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificCityList1}} - {{businessRules.specificCityList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificStateList1.length>0 && businessRules.specificStateList2.length==0 && businessRules.specificCityList1.length === 0 && businessRules.specificCityList2.length ==0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificStateList1}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' && businessRules.specificStateList1.length==0 && businessRules.specificStateList2.length>0 && businessRules.specificCityList1.length ==0 && businessRules.specificCityList2.length === 0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificStateList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' &&  businessRules.specificCityList1.length>0 && businessRules.specificCityList2.length === 0&& businessRules.specificStateList1.length === 0 && businessRules.specificStateList2.length==0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificCityList1}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'SPECIAL RULES' &&  businessRules.specificCityList1.length === 0 && businessRules.specificCityList2.length > 0&& businessRules.specificStateList1.length === 0 && businessRules.specificStateList2.length==0 && businessRules.directions !== 'INTRASTATE'">{{businessRules.specificCityList2}}</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'INTRASTATE' && businessRules.directions !== 'SPECIAL RULES'  && businessRules.specificStateList1.length>0 && businessRules.specificStateList2.length ==0 && businessRules.specificCityList1.length ==0 && businessRules.specificCityList2.length === 0">[{{businessRules.specificStateList1}}]</span>
                    <span class="text-center"  *ngIf="businessRules.directions === 'INTRASTATE' && businessRules.directions !== 'SPECIAL RULES'  && businessRules.specificStateList1.length === 0 && businessRules.specificCityList1.length>0 && businessRules.specificStateList2.length === 0 && businessRules.specificCityList2.length ==0 ">[{{businessRules.specificCityList1}}]</span>
                    <!--<span class="text-center" style="padding-left: 43px;" *ngIf="businessRules.specificZipFlag === 'true' && businessRules.directions === 'REGIONAL DIRECT INTRASTATE' && businessRules.specificStateList1.length>0&& businessRules.specificStateList2.length>0">q{{businessRules.specificStateList1}} </span>-->                  
                  </td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;" *ngIf="businessRules.costPlusFactorNew== undefined || businessRules.costPlusFactorNew== ''|| businessRules.costPlusFactorNew== null">{{businessRules.discount}}%</td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;" *ngIf="businessRules.costPlusFactorNew!== undefined && businessRules.costPlusFactorNew!== ''&& businessRules.costPlusFactorNew!== null">-</td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;" *ngIf="businessRules.costPlusFactorNew== undefined || businessRules.costPlusFactorNew== ''|| businessRules.costPlusFactorNew== null">${{businessRules.minCharge}}</td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;" *ngIf="businessRules.fakRange.length > 2"><a style="cursor: pointer; color: #2a4e47"(click)="viewMore(businessRules)" >View</a></td> <!--(click)="viewMore(businessRules)"-->
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;" *ngIf="businessRules.fakRange.length === 2"><span> - </span></td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;"><a style="cursor: pointer" (click)="editWorkBookRule(businessRules, i)" ><em class="fa fa-pencil-square-o" aria-hidden="true"></em></a></td>
                  <td class="text-center"  style="border-bottom:1px solid #4c7a71;">
                    <a style="cursor: pointer"  *ngIf="businessRules?.factor !=='COSTPLUS'" (click)="deleteApplyRule(businessRules, i)" ><em class="fa fa-minus-circle" aria-hidden="true"></em></a>
                    <a style="cursor: pointer"  *ngIf="businessRules?.factor =='COSTPLUS'">-</a>
                  </td>
                  <td>
                      <label class="switch">
                          <input type="checkbox" [checked]="businessRules?.ruleExist" (change)="disableRule($event,businessRules, i)">
                          <span class="slider round"></span>
                        </label>
                  </td>
                  <td rowspan =" 10"  *ngIf="i === 0" class="text-center" style="cursor: pointer;" ><a  style="color: #2a4e47;" (click)="addWorkbookRules()"><em class="fa fa-plus-circle" aria-hidden="true"></em> ADD RULES</a></td>


              </tr>
              <tr *ngIf="temporaryArray.length === 0">
                  <td >{{companyInformation.companyName}}</td>

                  <td  class="text-center" style="font-size: 14px;" colspan="10"> No Business Rules are applied</td>

              </tr>



            </tbody>
            </table>
        </div>
      </div>
  
    </div>
    <div class="clearfix"></div>
  <div   class="col-sm-12" style="border: 1px solid #fff;">
    <form [formGroup]="ruleForm">
        <div class="row" style="border-top: 1px solid #ababab; padding-bottom: 12px;">
            <h4 style="padding-left: 12px; color: #4c7a71; text-align: left;font-size: 20px;">Rules</h4>
            <div class="col-sm-6">
                <label>Carrier</label><br>
                <input type="text" class="selectField" id="ruleFormCarrier" formControlName="carrierType" readonly>
              </div>
            <div class="col-sm-6">
              <label>Category</label><br>
              <select formControlName="category" class="selectField">
                <option value="" hidden>Select</option>
                <option value="AP">AP</option>
                <option value="AR">AR</option>
              </select>
            </div>
          
          </div>
          <div class="row">
              <div class="col-sm-5">
                <label>Directions</label><br>
                <select formControlName="directions" class="selectField"
                  (change)="chooseDirections(ruleForm.controls['directions'].value, ruleForm.value)">
                  <option value="" hidden>Select</option>
                  <option id="Directions" *ngFor="let directions of directionsArray" value="{{directions}}">{{directions}}</option>
                </select>
              </div>
              <div class="col-sm-4" *ngIf="showUseZipCodes">
                <label>Use Specific Zip</label><br>
                <input type="radio" id="specificZipYes" formControlName="specificZipFlag" value="true"
                  (change)="checkUseZipCodes(ruleForm.controls['specificZipFlag'].value, ruleForm.value)"> YES
                &nbsp;
                <input type="radio"  id="specificZipNo" formControlName="specificZipFlag" value="false"
                  (change)="checkUseZipCodes(ruleForm.controls['specificZipFlag'].value, ruleForm.value)"> No
              </div>
              <div class="col-sm-3" *ngIf="showFieldsFrom">
                <label>State or Zip</label><span *ngIf="showErrorMessageSpecificStateFrom"
                  style="color: #ff0000">Invalid</span>
                <!-- <span *ngIf="showMsgReddaway" style="color: #ff0000">{{errorMessageForReddaway}}</span> -->
                <input type="text" class="form-control" maxlength="9" formControlName="fromCityState"
                  placeholder="From"
                  (change)="getFromCity(ruleForm.controls['fromCityState'].value, ruleForm.controls['directions'].value, ruleForm.value)"
                  autocomplete="nope">
              </div>
              <div class="col-sm-3" *ngIf="showFieldsTo">
                <label>&nbsp;</label><span *ngIf="showErrorMessageSpecificStateTo" style="color: #ff0000">Invalid
                  State or Zip</span>
                <input type="text" class="form-control" id="stateFrom" maxlength="9" formControlName="toCityState" placeholder="To"
                  (change)="getToCity(ruleForm.controls['toCityState'].value, ruleForm.controls['directions'].value, ruleForm.value)"
                  autocomplete="nope">
              </div>
              <div class="col-sm-3">
                <label>Discount (%)</label><span style="color: #ff0000;" *ngIf="showDiscountErrorMessage">Exceeds
                  100</span>
                <input type="text" id="discount" class="form-control" maxlength="7" ngPattern="/^[0-9.,\s]*$/" autocomplete="nope"
                  onkeyup="this.value=this.value.replace(/[^0-9.,\s]*$/g,'');" formControlName="discount"
                  (change)="checkDiscount(ruleForm.controls['discount'].value)">
              </div>
              <div class="col-sm-3">
                <label>AMC($)</label>
                <input type="text" class="form-control" id="amcrule" maxlength="7" ngPattern="/^[0-9.,\s]*$/" autocomplete="nope"
                  onkeyup="this.value=this.value.replace(/[^0-9.,\s]*$/g,'');" formControlName="minimumCharge">
              </div>
            </div>
            <div class="row" style="border-top: 1px solid #ababab; padding-bottom: 12px;">
              <h4 style="padding-left: 12px; color: #4c7a71; text-align: left;font-size: 20px;">Accessorials</h4>
              <div class="col-sm-4">
                <label class="labelText">Name</label>
                <select formControlName="assessorialName" class="selectField">
                  <option value="" hidden>Select</option>
                  <option *ngFor="let assessorial of assessorialNamesRule"> {{assessorial}}</option>
                </select>
              </div>
              <div class="col-sm-4">
                <label class="labelText">Charges</label>
                <input class="form-control" placeholder="" formControlName="charge" ngPattern="/[0-9.]/" maxlength="5"
                  autocomplete="nope" onkeyup="this.value=this.value.replace(/[^0-9.]+/g,'')"
                  (keyup)="checkForAssessorials(ruleForm.controls['assessorialName'].value, ruleForm.controls['charge'].value)">
              </div>
              <div class="col-sm-4" style="padding-top: 20px;">
                <button class="btn btn-danger" (click)="addAssessorials(ruleForm.value)" id="addAssessorialsRuleBtn"
                  [disabled]="enableAssessorialAdd === false"><em class="fa fa-plus-circle" aria-hidden="true"
                    style="font-size: 20px; vertical-align: middle"></em> Add Accessorials</button>
              </div>
            </div> 
            <div class="clearfix">&nbsp;</div>
            <div class="row">
              <div class="table-responsive col-sm-6" *ngIf="showAssessorials">
                <table class="table-bordered table-responsive" style="color: #9c7357; width: 100%;">
                  <tr class="text-center">
                    <th class="text-center">Accessorials</th>
                    <th class="text-center">Charges</th>
                    <th class="text-center">Delete</th>
                  </tr>
                  <tr *ngFor="let assessorial of assessorialArrayRule; let i = index">
                    <td class="text-center" *ngIf="assessorial.charge!='' && assessorial.charge !== null">
                      {{assessorial.assessorialName}}</td>
                    <td class="text-center" *ngIf="assessorial.charge!='' && assessorial.charge !== null">
                      ${{assessorial.charge}}</td>
                    <td class="text-center" *ngIf="assessorial.charge!='' && assessorial.charge !== null"><em
                        class="fa fa-minus-circle" aria-hidden="true" (click)="deleteAssessorial(assessorial, i)"></em>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="table-responsive col-sm-6" *ngIf="showFAKTable">
                <table class="table-bordered table-responsive" style="color: #9c7357; width: 100%;">
                  <tr class="text-center">
                    <th class="text-center">FAK Range</th>
                    <th class="text-center">FAK Value</th>
                    <th class="text-center">Delete</th>
                  </tr>
                  <tr *ngFor="let fakValue of fakArray; let i=index">
                    <td class="text-center" *ngIf="fakValue.fakRangeTo !==''">
                      {{fakValue.fakRangeFrom}}-{{fakValue.fakRangeTo}}</td>
                    <td class="text-center" *ngIf="fakValue.fakRangeTo ==''">{{fakValue.fakRangeFrom}}</td>
                    <td class="text-center">{{fakValue.fakValue}}</td>
                    <td class="text-center"><em class="fa fa-minus-circle" aria-hidden="true"
                        (click)="deleteFakValue(fakArray, i)"></em></td>
                  </tr>
                </table>
              </div>
            </div>  
            <div class="clearfix">&nbsp;</div>
            <div class="row">
              <div class="col-sm-5" style="color: #4c7a71;">
                <label>Apply FAK:</label>&nbsp;
                <br>
                <input type="radio" formControlName="presentFakValue" value="Yes"
                  (change)="checkFak(ruleForm.controls['presentFakValue'])"
                  style="vertical-align: text-bottom; margin-top: 18px;"> Yes
                <input type="radio" formControlName="presentFakValue" value="No"
                  (change)="checkFak(ruleForm.controls['presentFakValue'])"
                  style="vertical-align: text-bottom; margin-top: 18px;" selected> No
              </div>
              <div class="col-sm-3" *ngIf="showFakValues">
                <label>FAK Range From</label>
                <select formControlName="fakRangeFrom" class="selectField"
                  (change)="checkFakRangeFrom(ruleForm.controls['fakRangeFrom'].value)">
                  <option value="" hidden>Select</option>
                  <option *ngFor="let class of classArray">{{class}}</option>
                </select>
                <span *ngIf="showErrorMessage" style="color: #ff0000; font-size: 10px;">Choose different FAK
                  Range</span>
              </div>
              <div class="col-sm-3" *ngIf="showFakValues">
                <label>FAK Range To</label>
                <select formControlName="fakRangeTo" class="selectField"
                  (change)="checkFakRangeTo(ruleForm.controls['fakRangeTo'].value)">
                  <option value="" hidden>Select</option>
                  <option *ngFor="let class of resultArray">{{class}}</option>
                </select>
                <span *ngIf="showErrorMessageToRange" style="color: #ff0000; font-size: 10px;">Choose different FAK
                  Range</span>
              </div>
              <div class="col-sm-2" *ngIf="showFakValues">
                <label>FAK</label>
                <select formControlName="fakValue" class="selectField"
                  (change)="checkFakValues(ruleForm.controls['fakRangeFrom'].value, ruleForm.controls['fakRangeTo'].value, ruleForm.controls['fakValue'].value)">
                  <option value="" hidden>Select</option>
                  <option *ngFor="let class of classArray">{{class}}</option>
                </select>
              </div>
              <div class="col-sm-2" *ngIf="showFakValues" style="padding-top: 20px;">
                <button class="btn btn-danger" 
                  [disabled]="enableFakAdd === false || showErrorMessage === true"
                  (click)="fakAdd(ruleForm.value)">Add FAK</button>
              </div>
            </div>
            <div class="row">
              <div class="text-center" style="padding-top: 20px;">
                <button *ngIf="!editMode" class="btn btn-danger" id="applyRuleBtn" (click)="applyRule(ruleForm.value)"><em class="fa fa-plus-circle" aria-hidden="true"
                    style="font-size: 20px; vertical-align: middle"></em>Add Rules</button>
                    <button *ngIf="editMode" class="btn btn-danger" id="updateRuleBtn" (click)="updateapplyRule(ruleForm.value)"><em class="fa fa-plus-circle" aria-hidden="true"
                      style="font-size: 20px; vertical-align: middle"></em>Update Rules</button>
                    </div>
            </div>
            <div class="clearfix">&nbsp;</div>
            <div class="clearfix">&nbsp;</div>
            <div class="row">
              <div class="col-md-6 green-button text-center">
                <button class="green-button"  id ="applyRulesBTN" (click)="updateNewRule(ruleForm.value, fullArray)" ><em class="fa fa-save" aria-hidden="true"  style="margin-right:5px;"></em>Apply Rules</button>
              </div>
              <div class="col-md-6 green-button text-center">
                <button  id="importRules" class="green-button" ><em class="fa fa-save" aria-hidden="true"  style="margin-right:5px;"></em>Import Rules</button>
              </div>
          </div>
    </form>
  </div>
  <div class="clearfix"></div>
  
  </div>
  </div>
  </div>
  </div>
<!--Rule Modal Ends-->


<div id="carrierModal" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
  <!-- Modal content-->
  <div class="modal-content">
  <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff">&times;</button>
  <h4 class="modal-title" style="color: #ffffff!important">&nbsp;Carrier</h4>
  </div>
  <div class="modal-body">
  <div class="legend-body" style="margin-bottom: 10px;"> 
          <div class="row">
                  <div class="col-sm-12 text-center">
                    <label>Choose Carrier</label>
                    <div class="clearfix">&nbsp;</div>
                  </div>
                  <div class="col-md-3 form-group radio-group" *ngFor="let carrier of carrierArray" style="width:50%">
                    <input type="radio" class="option-input radio" id="serviceType"  [(ngModel)]="selectedCarrier"
                      (change)="checkForCarrier(selectedCarrier)" value={{carrier}} />
                    <label>{{carrier}}</label>
                  </div>
                </div>
  </div>
  </div>
  <div class="modal-footer">
          <div class="row">
            
            <div class="col-md-4 col-md-push-4 green-button text-center">
              <button class="green-button" id="saveButtonModal" ><em class="fa fa-save" aria-hidden="true" style="margin-right:5px;"></em>Save</button>
            </div>
          </div>
        </div>
  </div>
  </div>
  </div>
<app-dialog [(visible)]="showViewFAKValues" style="min-height: 0px !important;">
  <div tabindex="-1" role="dialog">
    <div role="document">
      <div class="agileits-login" style="background: #275867 !important; color: #FFFFFF !important;">
        <h3 class="text-center">FAK VALUES</h3>
        <div class="clearfix">&nbsp;</div>
        <div class="row">
          <div class="table-responsive col-sm-12" *ngIf="showFak">
            <table class="table-bordered table-responsive" style="color: #FFFFFF; width: 100%;">
              <tr class="text-center">
                <th class="text-center">FAK Range</th>
                <th class="text-center">FAK Class</th>
              </tr>
              <tr *ngFor="let fak of viewFakArray">
                <td class="text-center" *ngIf="fak.fakRangeTo !==''">{{fak.fakRangeFrom}}-{{fak.fakRangeTo}}</td>
                <td class="text-center" *ngIf="fak.fakRangeTo ==''">{{fak.fakRangeFrom}}</td>
                <td class="text-center">{{fak.fakValue}}</td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</app-dialog>

<div id="exportDataModal" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content" style="height:255px;background: #e2e6e6;width:500px;">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff">&times;</button>
        <h4 class="modal-title" style="color: #ffffff!important">&nbsp;EXPORT DATA CONFIRMATION</h4>
      </div>
      <div class="modal-body" style="margin: 0px 20px 20px 20px; padding: 0px 0px 0px 0px;">
        <div class="row">
          <div class="col-md-12">
              <div class="row" style="margin-top: 35px;">
            <span style="font-size:26px;margin-left: 35px;">Please choose which file to export?</span>
            </div>
            <div class="row" style="margin-top: 15px;">
                <div class="col-md-6 green-button text-center">
            <button id="exportTrafficFlow" class="green-button" (click)="exportTrafficFlow()">Traffic Flow</button>
            </div>
            <div class="col-md-6 green-button text-center">
            <button id="exportdata" class ="green-button" (click)="exportdata()">All Data</button>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<div style="display: none" >
<table class="table" #trafficFlowTable >
  <!-- <thead>
   <th>Account</th>
  </thead> -->
  <tbody>
    <tr>
      <td style="color:#e34848">Account</td>
      <td></td>
      <td>{{companyInformation.companyName}}</td>
      <td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td></td>
      <td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td></td>
      <td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td></td>
    </tr>
    <tr>
      <td>No. of Wks represented in flow:</td>
    </tr>
    <tr></tr>
    <tr>
      <td>OutBound Shipments</td>
      <td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td></td>
      <td>InBound Shipments</td>
      <td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td></td>
      <!-- <td *ngFor="let res of emptyTable">{{res.value}}</td> -->
      <td>ThirdParty Shipments</td>
      <!-- <td *ngFor="let res of emptyTable">{{res.value}}</td> -->
      <td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td></td>
    </tr>
    <tr>
      <td>Number in Study</td>
      <td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td></td>
      <td>Number in Study</td>
      <td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td></td>
      <td>Number in Study</td>
      <td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td ></td><td></td>
    </tr>
    <tr></tr>
    <tr>
      <td>Date</td>
      <td>Orig Zip</td>
      <td>State</td>
      <td>Dest Zip</td>
      <td>State</td>
      <td>#plts</td>
      <td>Weight</td>
      <td>Class</td>
      <td></td>
      <td>Date</td>
      <td>Orig Zip</td>
      <td>State</td>
      <td>Dest Zip</td>
      <td>State</td>
      <td>#plts</td>
      <td>Weight</td>
      <td>Class</td>
      <td></td>
      <td>Date</td>
      <td>Orig Zip</td>
      <td>State</td>
      <td>Dest Zip</td>
      <td>State</td>
      <td>#plts</td>
      <td>Weight</td>
      <td>Class</td>
    </tr>
      <tr *ngFor="let item of exportArray;">
      <td>{{item.outboundDate | date:'MM/dd'}}</td>
      <td>{{item.outboundOrigin}}</td>
      <td>{{item.outboundState}}</td>
      <td>{{item.outboundDestinationZip}}</td>
      <td>{{item.outboundDestinationState}}</td>
      <td>{{item.outboundpieces}}</td>
      <td>{{item.outboundweight}}</td>
      <td>{{item.outboundclass}}</td>
      <td>   </td>
      <td>{{item.inbounddate | date:'MM/dd'}}</td>
      <td>{{item.inboundorigin}}</td>
      <td>{{item.inboundstate}}</td>
      <td>{{item.inbounddestination}}</td>
      <td>{{item.inbounddestinationstate}}</td>
      <td>{{item.inboundpieces}}</td>
      <td>{{item.inboundweight}}</td>
      <td>{{item.inboundclass}}</td>
      <td>   </td>
      <td>{{item.thirdDate | date:'MM/dd'}}</td>
      <td>{{item.thirdOrigin}}</td>
      <td>{{item.thirdState}}</td>
      <td>{{item.thirdDestination}}</td>
      <td>{{item.thirdDestinationState}}</td>
      <td>{{item.thirdPieces}}</td>
      <td>{{item.thirdWeight}}</td>
      <td>{{item.thirdClass}}</td>
      <td>   </td>
    </tr>
  </tbody>

</table>
</div>
<!-- Approval Request MODAL -->

<div id="ContractModal" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
  <div class="modal-content" style="height:850px;background: #e2e6e6;width:1000px;margin-left:-175px;">
  <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff">&times;</button>
  <h4 class="modal-title" style="color: #ffffff!important">&nbsp;Contract Preview</h4>
  </div>
  <div class="modal-body" style="margin: 0px 20px 20px 20px; padding: 0px 0px 0px 0px;background: #e2e6e6;">
    <div class="row" >
      <div class="col-md-12" >
        <!-- <div id="bolContainerNew"> -->
          <div class="container"  style="width:800px;height:1250px;border:1px solid black;margin-top: 10px;">
            <div class="row" style="text-align: center;margin-top: 10px;">
              <div class="col-md-12" style="font-weight: bold;">
                FORTÉ TRANSPORTATION LOGISTICS CORPORATION
              </div>
              <div class="col-md-12" style="font-weight: bold;font-size: 20px;">
                SERVICE AGREEMENT
              </div>
          
            </div>
            <div class="row" style="text-align:justify;margin-top:10px;">
              <div class="col-md-12">
                <p><span style="font-weight: bold;">Forté Transportation Logistics Corporation, </span>hereinafter referred to as
                  the “Company”, agrees to extend to the below named company, hereinafter referred to as the “Client”, a program
                  that provides discounts from listed carrier's published LTL Rate Tariffs (Schedule “A”) for early payment. </p>
              </div>
            </div>
            <div class="row" style="text-align: center;">
          
              <div class="col-md-12" style="text-align: center;
                            margin-left: 36px;">
                <p style="font-weight: bold; margin-left:-50px;">{{companyInformation?.companyName}}</p>
                  <p style="margin-top:-10px;margin-left:-50px;">{{companyInformation?.companyShippingAddress}}</p>
                    <p style="margin-top:-10px;margin-left:-50px;">{{companyInformation?.companyCity}}, {{companyInformation?.companyState}} {{companyInformation?.companyZip}}</p>
              </div>
          
              <div class="row" style="margin-left: 30px;
                        margin-right: 30px;
                        text-align: justify;
                        ">
                <div class="col-md-12">
                  <p>
                    <span style="font-weight: bold;"> 1. Terms of Agreement: </span>Forté will arrange transport by motor vehicle
                    of commodities for Client in LTL shipments at the rates specified in the published tariffs of the carriers
                    listed in Schedule “A”, subject to the discounts for early payment as provided in Schedule “A”. Discounts to
                    be applied in accordance with carriers’ rules and regulations governing said tariffs up to and including the
                    10M line of rates. Charges not subject to discount for early payment include (but are not limited to) Single
                    Shipment, Notify, Home Pickup or Delivery, Inside Delivery, Redelivery, Fuel Surcharge, and other duly, DOT
                    authorized accessorial charges as listed in the carriers’ applicable rules tariffs.
          
                  </p>
                  <p>
                    The Company proposes, subject to the terms in this Agreement, to pay all charges incurred by Client in the
                    movement of general LTL commodities with carriers listed in Schedule “A”. Client agrees not to negotiate with
                    any carriers that the Company provides for client’s shipments.
          
                  </p>
                  <p>
                    In order for the scope and terms of this agreement to be applicable, Client <span
                      style="font-weight: bold;"><u> must</u></span> note the Company as the invoice<span
                      style="font-weight: bold;">/third-party prepaid</span> payor of the freight charges (see example below) on
                    all original Bills of Lading issued to listed carriers that the Client intends the Company to pay for on
                    behalf of the Client and in turn be invoiced for by the Company. Such notice on the Bill of Lading<span
                      style="font-weight: bold;"> <u> must</u></span> include along with the name of the Company, the complete and
                    correct address for the Company to insure accurate billing.
          
                  </p>
                </div>
              </div>
              <div class="row" style="margin-left: 30px;
                        margin-right: 30px; display:flex;">
                <div class="col-md-6" *ngIf="showFirstAddress">
                  <div style="text-align: left;">
                    <!-- <p style="margin-top: -10px;" style="font-weight: bold;">{{displayShipmentName}} shpts must Bill "Third Party Prepaid"to:</p> -->
                    <p style="font-weight: bold;">Bill "Third Party Prepaid"to:</p>

                    <p style="margin-top: -10px;">{{companyInformation?.companyName}}</p>
                    <p style="margin-top: -10px;">C/O Fortee</p>
                    <p style="margin-top: -10px;">301 54th Ave East, Suite 200</p>
                    <p style="margin-top: -10px;">Fife, WA 98424</p>
          
                  </div>
          
                </div>
                <div class="col-md-6" *ngIf="showSecondAddress">
                  <div style="text-align: left;">
                    <p style="font-weight: bold;">Bill "Third Party Prepaid"to:</p>
                    <p style="margin-top: -10px;">Forté
                    </p>
                    <p style="margin-top: -10px;">301 54th Ave East, Suite 200</p>
                    <p style="margin-top: -10px;">Fife, WA 98424</p>
                  </div>
                </div>
              </div>
              <div class="row" style="margin-left: 30px;
                        margin-right: 30px;
                        text-align: justify;
                        ">
                <div class="col-md-12">
                  <p>
                    Client agrees to pay the company all charges covered by this agreement within 45 days of the invoice date,
                    however, if Client pays Fortés’ invoice in full within <span ><u>{{companyInformation?.paymentTerms}}</u></span> days of the date of the invoice, Client shall be
                    entitled to the discounts from the carrier’ published tariffs as provided in Schedule “A” and payment of those
                    discounted amounts within <span ><u>{{companyInformation?.paymentTerms}}</u></span> days of the date of the invoice shall be treated as payment in full. Client
                    further agrees to notify the Company of any perceived billing errors within three (3) business days of receipt
                    of the Forté invoice to insure that the Company does not pay, on behalf of the client, contested freight
                    charges.
          
                  </p>
                  <p>
                    <span style="font-weight: bold;"> 2. Duration of Agreement: </span> This agreement shall become effective 7
                    days from receipt by Company of signed agreement and will remain in effect thereafter for a period of 30 days
                    with automatic 30 day renewals until terminated. Agreement may be terminated by written notice, given by
                    either party, effective one week from the date the notice is issued. Further, the agreement may terminate
                    without notice or penalty if the Client chooses not to use the Company’s services during any 30 day period.
          
                  </p>
          
                </div>
              </div>
              <div class="row"
                style="height:20px;margin-left: 26px;margin-right: 30px;text-align: left; margin-top: 20px;display: flex!important;">
                <div class="col-md-4" id="bruse" style="width:230px;">
                  x ___________
                </div>
                <div class="col-md-2" id="date" style="width: 140px;">
                  x _________
                </div>
                <div class="col-md-4" id="manager" style="width:230px;">
                  x ___________
                </div>
                <div class="col-md-2" id="date" style="width: 140px;">
                  x __________
                </div>
              </div>
              <div class="row"
                style="margin-left: 26px;margin-right: 30px;text-align: left; margin-top: 20px;display: flex!important;">
          
                <div class="col-md-4" style="width:230px;">
                  <p style="font-weight: bold;margin-top: -10px;">Bruce G. Buchanan</p>
                  <p style="margin-top: -10px;">President</p>
                  <p style="margin-top: -10px;">Forté Transportation Logistics Corp.</p>
          
                </div>
                <div class="col-md-2" style="width:140px;">
                  <p style="font-weight: bold;margin-top: -10px;">Date
                  </p>
                </div>
                <div class="col-md-4" style="width:230px;">
                  <p style="font-weight: bold;margin-top: -10px;">{{companyInformation?.contactPersonName}}</p>
                  <p style="margin-top: -10px;">Shipping Manager</p>
                  <p style="margin-top: -10px;">{{companyInformation?.companyName}}</p>
                </div>
                <div class="col-md-2" style="width:140px;">
                  <p style="font-weight: bold;margin-top: -10px;">Date
                  </p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12" style="text-align:center;">
                  <p><span style="font-weight: bold;">Forté Logistics Consultant:</span> Bruce Buchanan</p>
                </div>
              </div>
          
          
            </div>
            <!-- </br> -->
            <!-- <div class="container" style="width:750px;height:auto;border:1px solid black;"> -->
            </div>
            <div class="container"  style="width:800px;height:auto;border:1px solid black;margin-top: 60px;">

            <div class="row" style="text-align: center;font-weight: bold;">
              <div class="col-md-12">
                FORTÉ TRANSPORTATION LOGISTICS CORPORATION
              </div>
              <div class="col-md-12" style="font-weight: bold;font-size: 20px;">
                SERVICE AGREEMENT
              </div>
              <div class="col-md-12" style="font-weight: bold;font-size: 18px;">
                SCHEDULE A
          
              </div>
          
            </div>
            <div class="row" style="margin-left: 30px;margin-top:10px;
                        margin-right: 30px;
                        text-align: justify;
                        ">
              <div class="col-md-12">
                <p>1. Provisions listed herein are an integral component of the Service Agreement entered into between <span
                    style="font-weight: bold;">Transportation Logistics Corporation </span>
                  and the <span style="font-weight: bold;"> “Client”</span> as signed below. Application of these provisions is
                  understood by both parties to be governed by the rules and responsibilities outlined in the Service Agreement
                  and carrier’s current published tariffs.
                </p>
                <p>
                  2. Discounts to apply on Minimum Charge thru 10,000 lb. Class rate weight scale.
          
                </p>
                <p>
                  3. Discounts to apply only on direct points as listed in the carriers’ applicable tariffs.
          
                </p>
                <p>
                  4. Quotes and published rates on modes other than LTL reflect a 60% discount of FTLC 799 tariff rates.
          
                </p>
                <p>
                  5. Pricing will be applied according to the following Territorial Application unless otherwise noted.
          
                </p>
                <p>
                  6. Discounts to apply only to customer location(s) listed herein.
          
                </p>
                <p>
                  7. This Service Agreement supercedes all prior agreements.
          
                </p>
              </div>
          
            </div>
            <div style="margin-left:43px;
                        margin-right: 43px;">
              <table class="table table-bordered" *ngIf="territoryArray.length> 0">
                <tr>
                  <td id="empty" style="border-top: 1px solid white;
                            border-left: 1px solid white;"></td>
                  <th colspan="1">Territory</th>
                  <th colspan="5">Pricing Provisions:
                  </th>
                </tr>
                <tr>
                  <th>Carrier:
                  </th>
                  <td >
                  </td>
                  <!-- <td id="space" style="padding:0px !important;border-left:none">
                  </td> -->
                  <td id="space" style="padding:0px !important;">Disc %
                  </td>
                  <!-- <td id="space" style="padding:0px !important;">Amc $
                  </td> -->
                  <td id="space" style="padding:0px !important;">IntraState Territory
                  </td>
                  <td id="space" style="padding:0px !important;">Disc %
                  </td>
                  <!-- <td id="space" style="padding:0px !important;">Amc $
                  </td> -->
                </tr>
                <tr  *ngFor="let data of territoryArray" [class.pink-tr]="data.ruleExist === false">
                  <td id="space" style="padding:0px !important;">{{data.carrier}}</td>
                  <!-- <td id="space" style="padding:0px !important;">W-1</td> -->
                  <td id="space" style="padding:0px !important;">{{data?.rulesName}}</td>
                  <td id="space" style="padding:0px !important;">{{data.discount}}</td>
                  <!-- <td id="space" style="padding:0px !important;">{{data.amc}}</td> -->
                  <td id="space" style="padding:0px !important;">{{data?.zipstate}}</td>
                  <td id="space" style="padding:0px !important;">{{data?.discount}}</td>
                  <!-- <td id="space" style="padding:0px !important;">{{data?.amc}}</td> -->
                </tr>
                <!-- <tr>
                  <td id="space" style="padding:0px !important;">FXF Priority</td>
                  <td id="space" style="padding:0px !important;">E-1</td>
                  <td id="space" style="padding:0px !important;">E-1</td>
                  <td id="space" style="padding:0px !important;">80</td>
                  <td id="space" style="padding:0px !important;">84.00</td>
                  <td id="space" style="padding:0px !important;"></td>
                  <td id="space" style="padding:0px !important;"></td>
                  <td id="space" style="padding:0px !important;"></td>
                </tr>
                <tr>
                  <td id="space" style="padding:0px !important;">FXF Priority</td>
                  <td id="space" style="padding:0px !important;">W-1</td>
                  <td id="space" style="padding:0px !important;">Canada</td>
                  <td id="space" style="padding:0px !important;">75</td>
                  <td id="space" style="padding:0px !important;">147.00</td>
                  <td id="space" style="padding:0px !important;"></td>
                  <td id="space" style="padding:0px !important;"></td>
                  <td id="space" style="padding:0px !important;"></td>
                </tr>
                <tr>
                  <td id="space" style="padding:0px !important;">***See Below***</td>
                  <td id="space" style="padding:0px !important;"></td>
                  <td id="space" style="padding:0px !important;"></td>
                  <td id="space" style="padding:0px !important;"></td>
                  <td id="space" style="padding:0px !important;"></td>
                  <td id="space" style="padding:0px !important;"></td>
                  <td id="space" style="padding:0px !important;"></td>
                  <td id="space" style="padding:0px !important;"></td>
                </tr> -->
                <!-- <tr style="height:21px;">
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr> -->
              </table>
            </div>
            <!-- <div class="row" style="margin-left: 30px;
                        margin-right: 30px;">
          
              <div class="col-md-12">
                <p><span style="font-weight: bold;">E1 – To/From These States: </span> AL, AR, CT, DC, DE, FL, GA, IA, IL, IN, KY,
                  KS, LA, MA, MD, ME, MI, MN, MO, MS, NC, ND, NE, NH, NJ, NY, OH, OK, PA, RI, SC, SD, TN, TX, VA, VT, WI, WV
                </p>
                <p style="margin-top: -10px;">
                  <span style="font-weight: bold;"> W1 – To/From These States: </span> AZ, CA, CO, ID, MT, NV, OR, UT, WA, WY
          
                </p>
              </div>
            </div> -->
            <div class="row" style="margin-left:43px;
                        margin-right: 30px; text-align: left;">
              <p>Additional Pricing Provisions:
              </p>
            </div>
            <div class="row" style="margin-left:43px;
                        margin-right: 30px;">
              <div class="col-md-10" style="border:1px solid black;">

                <div class="row" style="text-align: center;" *ngFor="let data1 of additionalPricingArray">
                  <p >{{data1.carrier}}  {{data1.rulesName}} {{data1.zipstate}} {{data1.discount}}% </p>
                  <!-- <table class="table table-bordered">
                    <tr style="border:none!important" *ngFor="let data1 of additionalPricingArray">
                        <p style="font-size: 13px!important;">{{data1.carrier}}  {{data1.rulesName}} {{data1.zipstate}} {{data1.discount}}% ${{data1.amc}} AMC</p>
                    </tr>
                    <p *ngIf="contractAccessorialsArray.length >0">FEDEX ECONOMY REGIONAL ACCESSSORIALS : </p>

                    <tr  style="border:none!important" *ngFor="let valueO of contractAccessorialsArray">
                        <p style="font-size: 13px!important;">{{valueO?.name}} / $ {{valueO?.charge}}</p>
                        
                    </tr>
</table> -->
             
          
          
                </div>
                <div class="row" style="text-align: center;" *ngFor="let data2 of costplusArray">
                  <p >{{data2.carrier}}   {{data2.factor}% </p>
          
                </div>
                <div class="row" style="text-align: center;border-top:1px solid #000000" *ngFor="let assess of contractAccessorialsArray;let index1 = index" >
                  <h6 style="font-weight: 600;" *ngIf="assess.accessorials.length>0">{{assess?.carrier}} {{assess?.rulesName}} <span *ngIf="assess?.zipstate !== undefined"  >[{{assess?.zipstate}}]</span> ACCESSSORIALS :</h6>
                  <p style="font-size: 13px!important;"><span *ngFor="let valueO of assess.accessorials; let i=index;">{{valueO?.name}} @ $ {{valueO?.charge}}
                  <span  *ngIf="i !== assess.accessorials.length -1">,</span></span></p>
                </div>
          
              </div>
              <div class="col-md-4"></div>
            </div>
            <div class="row"
              style="height:20px;margin-left: 26px;margin-right: 30px;text-align: left; margin-top: 20px;display: flex!important;">
              <div class="col-md-4" id="bruse" style="width:230px;">
                x ___________
              </div>
              <div class="col-md-2" id="date" style="width: 140px;">
                x _________
              </div>
              <div class="col-md-4" id="manager" style="width:230px;">
                x ___________
              </div>
              <div class="col-md-2" id="date" style="width: 140px;">
                x __________
              </div>
            </div>
            <div class="row"
              style="margin-left: 26px;margin-right: 30px;text-align: left; margin-top: 20px;display: flex!important;">
          
              <div class="col-md-4" style="width:230px;">
                <p style="font-weight: bold;">Bruce G. Buchanan</p>
                <p>President</p>
                <p>Forté Transportation Logistics Corp.</p>
          
              </div>
              <div class="col-md-2" style="width:140px;">
                <p style="font-weight: bold;">Date
                </p>
              </div>
              <div class="col-md-4" style="width:230px;">
                <p style="font-weight: bold;">{{companyInformation?.contactPersonName}}</p>
                <p >Shipping Manager</p>
                <p >{{companyInformation?.companyName}}</p>
              </div>
              <div class="col-md-2" style="width:140px;">
                <p style="font-weight: bold;">Date
                </p>
              </div>
            </div>
          </div>
        <!-- </div> -->
          <div class="row">
            <div class="col-md-2 col-md-push-2">
              <!-- <button class="btn btn-danger"><em class="fa fa-save" aria-hidden="true" style="font-size: 20px; vertical-align: middle"></em>Save Data</button> -->
              <button class="logisticsBtn" style="width: 265px" id="createContractrulesBtn"  (click)="createContractrules()">
                <em class="fa fa-file" aria-hidden="true"
                  style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
                On Board Customer</button>
    
            </div>
            <!-- <div class="row"> -->
              <div class="col-md-2 col-md-push-4">
                <!-- <button class="btn btn-danger"><em class="fa fa-save" aria-hidden="true" style="font-size: 20px; vertical-align: middle"></em>Save Data</button> -->
                <button class="logisticsBtn" style="width: 265px" id="exportContract1Btn"  (click)="exportContract1()">
                  <em class="fa fa-file" aria-hidden="true"
                    style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
                  Download Contract</button>
      
              </div>
            <!-- </div> -->
          </div>

      </div>
  
    </div>
    <div class="clearfix"></div>
  
  <div class="clearfix"></div>
  
  </div>
  </div>
  </div>
  </div>


  <div id="ContractModal1" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
    <div class="modal-content" style="height:auto;background: #e2e6e6;width:1000px;margin-left:-12em;">
    <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff">&times;</button>
    <h4 class="modal-title" style="color: #ffffff!important">&nbsp;Contract Preview</h4>
    </div>
    <div class="modal-body" style="background: #e2e6e6;">
      <div id="section1">

        <html>

        <head>
          <style type="text/css">
          /* .th_style1
{
  border:2px solid #5b6f6b;
  font-size: bold;
  font-family: 'Open Sans', sans-serif!important;
} */
.row1 {
    /* margin-right: -6px;
    margin-left: -3px; */
    display: flex;
-ms-flex-wrap: wrap;
flex-wrap: wrap;
margin-right: -15px;
margin-left: -15px;
}
table>thead>tr>th {
  border: 1px solid #5b6f6b;
  background:#87a49f;;
  font-size: bold;
  color: #f8f8f8;
}
table>tbody>tr>td {
  border: 1px solid #5b6f6b;
  background:#fbfbfb;
  font-size: bold;
  color: black;
}
table>thead>tr, table>tbody>tr {
  border: none;
}
table {
  border:none;
  width:100%;font-size: 12px;
}
#bolContainer {
  width:100%;
  font-size: 15px;
  font-family: 'Open Sans', sans-serif!important;
padding:40px;
display:block;

}
.container {
 width: 100%;
padding-right: 15px;
padding-left: 15px;
margin-right: auto;
margin-left: auto;
}
.col-sm-12 {
  position: relative;
width: 100%;
padding-right: 15px;
padding-left: 15px;
}
.col-sm-4 {
  position: relative;
width: 33.33333%;
padding-right: 15px;
padding-left: 15px;
}
/* .th_style
{
  border:2px solid #5b6f6b;
  background:#87a49f;;
  font-size: bold;
  color: #f8f8f8;
  font-family: 'Open Sans', sans-serif!important;
} */
/* .div-group{
        border: 2px solid #d7e4e2!important;
        padding: 0px 6px;
      } */
      /* .td_style
{
  border:2px solid #5b6f6b;
  background:#ced9cf;
  font-size: bold;
  color: black;
  font-family: 'Open Sans', sans-serif!important;
} */

/* .table_style
{
  border:2px solid #5b6f6b;
  text-align: center;
  font-family: 'Open Sans', sans-serif!important;
} */
/* .table-bordered{
        font-size: 12px;
      }
      .table-bordered> thead> tr> th {
        border: 1px solid #525252;
        text-align: -webkit-center;
        background-color: #81a19c;
        color: #fff;
        vertical-align: middle;
      } */
          </style>

        </head>

        <body>
      <div id="bolContainer">
  
         <div style="width:100%; height:100%">
          <img src="../../assets/images/forte_logo.png" style="height: 60px; width:150px!important;margin-left: auto; margin-right: auto; display: block;"
          class="full-width">
         </div>
         <div class="container">
        <!-- <div class="col-md-12" > -->
          <div class="row1">
            <div class="col-sm-4">
              <div class="div-group">
              <h3 class="h3_heading">Customer Information</h3><br>
              <div class="row1">
                <div class="col-sm-6">
                  <label class="label_head">Logistic consultant</label>
                </div>
              
              <div class="col-sm-6">
                <label class="label_body">{{companyInformation.salesRepName}}</label>
              </div>
            </div>
            <div class="row1">
              <div class="col-sm-6">
                <label class="label_head">Company Name</label>
              </div>
            
            <div class="col-sm-6">
              <label class="label_body">{{companyInformation.companyName}} </label>
            </div>
            </div>
            <div class="row1">
              <div class="col-sm-6">
                <label class="label_head">Shipping Address</label>
              </div>
            
            <div class="col-sm-6">
              <label class="label_body">{{companyInformation.companyShippingAddress}}</label>
            </div>
            </div>
            
            <div class="row1">
                <div class="col-sm-6">
                  <label class="label_head">City</label>
                </div>
              
              <div class="col-sm-6">
                <label class="label_body">{{companyInformation.companyCity}}</label>
              </div>
              </div>
            
              <div class="row1">
                  <div class="col-sm-6">
                    <label class="label_head">State,Zip</label>
                  </div>
                
                <div class="col-sm-6">
                  <label class="label_body">{{companyInformation.companyState}}, {{companyInformation.companyZip}}</label>
                </div>
                </div>
                <div class="row1">
                    <div class="col-sm-6">
                      <label class="label_head"></label>
                    </div>
                  
                  <div class="col-sm-6">
                    <label class="label_body"></label>
                  </div>
                  </div>
                  </div>
            </div>
            
            <div class="col-sm-4">
              <div class="div-group">
              <h3 class="h3_heading">Customer contact</h3><br>
              <div class="row1">
                <div class="col-sm-6">
                  <label class="label_head">Name</label>
                </div>
              
              <div class="col-sm-6">
                <label class="label_head" *ngIf="companyInformation?.contactPersonName !== null">{{companyInformation?.contactPersonName}}</label>
                <label class="label_head" *ngIf="companyInformation?.contactPersonName === null">-</label>            </div>
            </div>
            <div class="row1">
              <div class="col-sm-6">
                <label class="label_head">Title</label>
              </div>
            
            <div class="col-sm-6">
              <label class="label_head" *ngIf="companyInformation?.contactPersonDesignation !== null">{{companyInformation?.contactPersonDesignation}}</label>
              <label class="label_head" *ngIf="companyInformation?.contactPersonDesignation === null">-</label>          </div>
            </div>
            <div class="row1">
              <div class="col-sm-6">
                <label class="label_head">Phone</label>
              </div>
            
            <div class="col-sm-6">
              <label class="label_head" *ngIf="companyInformation?.contactPersonPhoneNumber !== null">{{companyInformation?.contactPersonPhoneNumber}}</label>
              <label class="label_head" *ngIf="companyInformation?.contactPersonPhoneNumber === null">-</label>          </div>
            </div>
            <div class="row1">
              <div class="col-sm-6">
                <label class="label_head">Fax</label>
              </div>
            
            <div class="col-sm-6">
              <label class="label_head" *ngIf="companyInformation?.contactPersonFax !== null">{{companyInformation?.contactPersonFax}}</label>
              <label class="label_head" *ngIf="companyInformation?.contactPersonFax === null">-</label>          </div>
            </div>
            
            <div class="row1">
              <div class="col-sm-8">
                <label class="label_head">Picture Attached?</label>
              </div>
            
            <div class="col-sm-4">
              <label class="label_body">{{companyInformation?.picturesAttached}}</label>
            </div>
            </div>
            <div class="row1">
              <div class="col-sm-10">
                <label class="label_head">Pre Pricing Authorization Attached?</label>
              </div>
            
            <div class="col-sm-2">
              <label class="label_body">{{companyInformation?.prePricingAuthorizationAttached}}</label>
            </div>
            </div>
            <div class="row1">
            
            </div>
            <div class="row1">
              
              </div>
            </div>
            </div>
            
            <div class="col-sm-4">
              <div class="div-group">
              <h3 class="h3_heading">A/P Contact Info</h3><br>
            
              <div class="row1">
                <div class="col-sm-9">
                  <label class="label_head">Potential Annual Forte Revenue</label>
                </div>
              
              <div class="col-sm-3">
                <label class="label_head" *ngIf="companyInformation?.potentialAnnualForteRevenue !== null">{{companyInformation?.potentialAnnualForteRevenue}}</label>
                <label class="label_head" *ngIf="companyInformation?.potentialAnnualForteRevenue === null">-</label>            </div>
            </div>
            
            <div class="row1">
              <div class="col-sm-9">
                <label class="label_head">Payment Terms</label>
              </div>
            
            <div class="col-sm-3">
              <label class="label_head" *ngIf="companyInformation?.paymentTerms !== null">{{companyInformation?.paymentTerms}}</label>
                <label class="label_head" *ngIf="companyInformation?.paymentTerms === null">-</label>
                        </div>
            </div>
            
            <div class="row1">
              <div class="col-sm-9">
                <label class="label_head">Estimated Extended Credit</label>
              </div>
            
            <div class="col-sm-3">
              <label class="label_head" *ngIf="companyInformation?.estimatedExtendedCredit !== null">{{companyInformation?.estimatedExtendedCredit}}</label>
              <label class="label_head" *ngIf="companyInformation?.estimatedExtendedCredit === null">-</label>          </div>
            </div>
            
            <div class="row1">
              <div class="col-sm-9">
                <label class="label_head">Credit Report(Score/Date)</label>
              </div>
            
            <div class="col-sm-3">
              <label class="label_head" *ngIf="companyInformation?.creditReport !== null">{{companyInformation?.creditReport}}</label>
              <label class="label_head" *ngIf="companyInformation?.creditReport === null">-</label>          </div>
            </div>
            
            <div class="row1">
              <div class="col-sm-9">
                <label class="label_head">BOL Required Invoice?</label>
              </div>
            
            <div class="col-sm-3">
              <label class="label_head" *ngIf="companyInformation?.bolRequired !== null">{{companyInformation?.bolRequired}}</label>
              <label class="label_head" *ngIf="companyInformation?.bolRequired === null">No</label>           </div>
            </div>
            
            
            <div class="row1">
                <div class="col-sm-9">
                  <label class="label_head">PO Required on Invoice?</label>
                </div>
              
              <div class="col-sm-3">
                <label class="label_head" *ngIf="companyInformation?.poRequired !== null">{{companyInformation?.poRequired}}</label>
                <label class="label_head" *ngIf="companyInformation?.poRequired === null">No</label>             </div>
            </div> 
            
            </div> 
            </div>
             </div>
             <div class="row1">
              <div class="col-sm-12 " style="padding:0px!important;">
                <table class="table"> 
                  <thead>
                   <tr >
                      <!-- <th class="th_style">Select</th> -->
                      <th class="th_style">Carrier</th>
                       <th class="th_style">Categories</th>
                       <th class="th_style">Rule Name</th>
                       <th class="th_style">State Zip</th>
                       <th class="th_style">Discount</th>
                       <th class="th_style">AMC</th>
                       <th class="th_style">Accessorials</th>
                      </tr>
                    </thead>
                    <tbody>
                       <tr *ngFor="let obj of fxfeApArray; let i = index">
                          <!-- <th class="th_style1"  *ngIf="i === 0 " [attr.rowspan]="fedexRowspan"><input type="checkbox" class="option-input radio"></th> -->
                          <td *ngIf="i === 0" [attr.rowspan]="fedexRowspan">FEDEX ECONOMY</td>
                           <td  *ngIf="i === 0" [attr.rowspan]="fxfeApArray.length">AP</td>
                         <td *ngIf="fxfeApArray.length === 0" colspan="5">-</td>
                           <td>{{obj.rulesName}}</td>
                           <td>{{obj.zipstate}}</td>
                           <td>{{obj.discount}}</td>
                           <td>{{obj.amc}}</td>
                           <td></td>
                       </tr>
                       <tr *ngFor="let obj of fxfeArArray; let i = index">
                            <!-- <th class="th_style1"  *ngIf="i === 0 && fxfeApArray.length === 0" [attr.rowspan]="fedexRowspan"><input type="checkbox" class="option-input radio"></th> -->
                            <td  *ngIf="i === 0 && fxfeApArray.length === 0" [attr.rowspan]="fedexRowspan">FEDEX ECONOMY</td>
                             <td class="th_style1"  *ngIf="i === 0" [attr.rowspan]="fxfeArArray.length">AR</td>
                             <td *ngIf="fxfeArArray.length === 0" colspan="5">-</td>
                             <td>{{obj.rulesName}}</td>
                             <td>{{obj.zipstate}}</td>
                             <td>{{obj.discount}}</td>
                             <td>{{obj.amc}}</td>
                             <td></td>
                       </tr>
                       <tr *ngFor="let obj of fxfpApArray; let j = index">
                        <!-- <th class="th_style1"  *ngIf="j === 0 " [attr.rowspan]="priorityrowspan"><input type="checkbox" class="option-input radio"></th> -->
                        <td class="th_style1"  *ngIf="j === 0" [attr.rowspan]="priorityrowspan">FEDEX PRIORITY</td>
                         <td *ngIf="j === 0" [attr.rowspan]="fxfpApArray.length">AP</td>
                       <td *ngIf="fxfpApArray.length === 0" colspan="5">-</td>
                         <td>{{obj.rulesName}}</td>
                         <td>{{obj.zipstate}}</td>
                         <td>{{obj.discount}}</td>
                         <td>{{obj.amc}}</td>
                         <td></td>
                         </tr>
                         <tr *ngFor="let obj of fxfpArArray; let j = index">
                          <!-- <th class="th_style1"  *ngIf="j === 0 && fxfpApArray.length === 0" [attr.rowspan]="priorityrowspan"><input type="checkbox" class="option-input radio"></th> -->
                          <td   *ngIf="j === 0 && fxfpApArray.length === 0" [attr.rowspan]="priorityrowspan">FEDEX PRIORITY</td>
                           <td *ngIf="j === 0" [attr.rowspan]="fxfpArArray.length">AR</td>
                           <td *ngIf="fxfpArArray.length === 0" colspan="5">-</td>
                           <td>{{obj.rulesName}}</td>
                           <td>{{obj.zipstate}}</td>
                           <td>{{obj.discount}}</td>
                           <td>{{obj.amc}}</td>
                           <td></td>
                           </tr>
                           <tr *ngFor="let obj of yrcApArray; let j = index">
                            <!-- <th class="th_style1"  *ngIf="j === 0 " [attr.rowspan]="yrcrowspan"><input type="checkbox" class="option-input radio"></th> -->
                            <td  *ngIf="j === 0" [attr.rowspan]="yrcrowspan">YRC</td>
                             <td  *ngIf="j === 0" [attr.rowspan]="yrcApArray.length">AP</td>
                           <td *ngIf="yrcApArray.length === 0" colspan="5">-</td>
                             <td>{{obj.rulesName}}</td>
                             <td>{{obj.zipstate}}</td>
                             <td>{{obj.discount}}</td>
                             <td>{{obj.amc}}</td>
                             <td></td>
                             </tr>
                             <tr *ngFor="let obj of yrcArArray; let j = index" >
                              <!-- <th class="th_style1"  *ngIf="j === 0 && yrcApArray.length === 0" [attr.rowspan]="yrcrowspan"><input type="checkbox" class="option-input radio"></th> -->
                              <td   *ngIf="j === 0 && yrcApArray.length === 0"  [attr.rowspan]="yrcrowspan">YRC</td>
                               <td   *ngIf="j === 0" [attr.rowspan]="yrcArArray.length">AR</td>
                               <td *ngIf="yrcArArray.length === 0" colspan="5">-</td>
                               <td>{{obj.rulesName}}</td>
                               <td>{{obj.zipstate}}</td>
                               <td>{{obj.discount}}</td>
                               <td>{{obj.amc}}</td>
                               <td></td>
                               </tr>   
                               <tr *ngFor="let obj of reddawayApArray; let j = index">
                                <!-- <th class="th_style1"  *ngIf="j === 0 " [attr.rowspan]="reddawayrowspan"><input type="checkbox" class="option-input radio"></th> -->
                                <td  *ngIf="j === 0" [attr.rowspan]="reddawayrowspan">REDDAWAY</td>
                                 <td  *ngIf="j === 0" [attr.rowspan]="reddawayApArray.length">AP</td>
                               <td *ngIf="reddawayApArray.length === 0" colspan="5">-</td>
                                 <td>{{obj.rulesName}}</td>
                                 <td>{{obj.zipstate}}</td>
                                 <td>{{obj.discount}}</td>
                                 <td>{{obj.amc}}</td>
                                 <td></td>
                                 </tr>
                                 <tr *ngFor="let obj of reddawayArArray; let j = index">
                                  <!-- <th class="th_style1"  *ngIf="j === 0 && reddawayApArray.length === 0" [attr.rowspan]="reddawayrowspan"><input type="checkbox" class="option-input radio"></th> -->
                                  <td  *ngIf="j === 0 && reddawayApArray.length === 0" [attr.rowspan]="reddawayrowspan">REDDAWAY</td>
                                   <td  *ngIf="j === 0" [attr.rowspan]="reddawayArArray.length">AR</td>
                                   <td *ngIf="reddawayArArray.length === 0" colspan="5">-</td>
                                   <td>{{obj.rulesName}}</td>
                                   <td>{{obj.zipstate}}</td>
                                   <td>{{obj.discount}}</td>
                                   <td>{{obj.amc}}</td>
                                   <td></td>
                                   </tr> 
                                  </tbody>    
                          
  
                                               </table>
                
                  </div>
                            </div>
            <div class="row">
              <div class="col-sm-4" > Signature of the customer
              <!-- <table width="100%" height="100%"
              style="font-size:9pt; font-family:arial; line-height:1.5em;border-spacing: 0px !important;height: 115px;!important;">
            
              <tbody>
                <tr>
                  <td>
                   Signature Of the Customer
                  </td>
                </tr>
              </tbody>
            </table> -->
          </div>
          <div class="col-sm-4 col-sm-push-3"> Signature of Forte

            <!-- <table width="100%" height="100%"
            style="font-size:9pt; font-family:arial; line-height:1.5em;border-spacing: 0px !important;height: 115px;!important;">
          
            <tbody>
              <tr>
                <td>
                 Signature Of Forte
                </td>
              </tr>
            </tbody>
          </table> -->
          </div>
            </div>
         
  
        <!-- </div> -->
      </div>
    
      </div>
      <div class="row">
        <!-- <div class="col-md-2 col-md-push-4">
          <button class="logisticsBtn" style="width: 265px" id="save"  (click)="exportContract()">
            <em class="fa fa-file" aria-hidden="true"
              style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
            Download Contract</button>

        </div> -->
      </div>
      <!-- <div class="clearfix"></div>
    
    <div class="clearfix"></div> -->
    </body>
    </html>
    </div>
    </div>
    </div>
    </div>
    </div>
  
    <div id="ContractModal2" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog">
      <div class="modal-content" style="height:auto;background: #e2e6e6;width:1000px;margin-left:-12em;">
      <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff">&times;</button>
      <h4 class="modal-title" style="color: #ffffff!important">&nbsp;Contract Preview</h4>
      </div>
      <div class="modal-body" style="background: #e2e6e6;">
        <div id="section2">
  
          <html>
  
          <head>
            <style type="text/css">
            /* .th_style1
  {
    border:2px solid #5b6f6b;
    font-size: bold;
    font-family: 'Open Sans', sans-serif!important;
  } */
  .row1 {
      /* margin-right: -6px;
      margin-left: -3px; */
      display: flex;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  margin-right: -15px;
  margin-left: -15px;
  }
  table>thead>tr>th {
    border: 1px solid #5b6f6b;
    background:#87a49f;;
    font-size: bold;
    color: #f8f8f8;
  }
  table>tbody>tr>td {
    border: 1px solid #5b6f6b;
    background:#fbfbfb;
    font-size: bold;
    color: black;
  }
  table>thead>tr, table>tbody>tr {
    border: none;
  }
  table {
    border:none;
    width:100%;font-size: 12px;
  }
  #bolContainer {
    width:100%;
    font-size: 15px;
    font-family: 'Open Sans', sans-serif!important;
  padding:40px;
  display:block;
  
  }
  .container {
   width: 100%;
  padding-right: 15px;
  padding-left: 15px;
  margin-right: auto;
  margin-left: auto;
  }
  .col-sm-12 {
    position: relative;
  width: 100%;
  padding-right: 15px;
  padding-left: 15px;
  }
  .col-sm-4 {
    position: relative;
  width: 33.33333%;
  padding-right: 15px;
  padding-left: 15px;
  }
  /* .th_style
  {
    border:2px solid #5b6f6b;
    background:#87a49f;;
    font-size: bold;
    color: #f8f8f8;
    font-family: 'Open Sans', sans-serif!important;
  } */
  /* .div-group{
          border: 2px solid #d7e4e2!important;
          padding: 0px 6px;
        } */
        /* .td_style
  {
    border:2px solid #5b6f6b;
    background:#ced9cf;
    font-size: bold;
    color: black;
    font-family: 'Open Sans', sans-serif!important;
  } */
  
  /* .table_style
  {
    border:2px solid #5b6f6b;
    text-align: center;
    font-family: 'Open Sans', sans-serif!important;
  } */
  /* .table-bordered{
          font-size: 12px;
        }
        .table-bordered> thead> tr> th {
          border: 1px solid #525252;
          text-align: -webkit-center;
          background-color: #81a19c;
          color: #fff;
          vertical-align: middle;
        } */
            </style>
  
          </head>
  
          <body>
        <div id="bolContainer" style="width:100%;
        font-size: 15px;
        font-family: 'Open Sans', sans-serif!important;
      padding:40px;
      display:block;">
    
           <div style="width:50%; height:13%">
            <img src="../../assets/images/forte_logo.png" style="height: 50px; width:150px!important;margin-left: auto; margin-right: auto; display: block;"
            class="full-width">
           </div>
           <div class="container" style=" width: 100%;
           padding-right: 15px;
           padding-left: 15px;
           margin-right: auto;
           margin-left: auto;">
          <!-- <div class="col-md-12" > -->
            <div class="row1" style=" display: flex;-ms-flex-wrap: wrap; flex-wrap: wrap;margin-right: -15px;margin-left: -15px;">
              <div class="col-sm-4" style="  position: relative;
              width: 24.33333%;
              padding-right: 15px;
              padding-left: 15px;">
                <div class="div-group">
                <h3 class="h3_heading">Customer Information</h3><br>
                <div class="row1">
                  <div class="col-sm-6">
                    <label class="label_head">Logistic consultant</label>
                  </div>
                
                <div class="col-sm-6">
                  <label class="label_body">{{companyInformation.salesRepName}}</label>
                </div>
              </div>
              <div class="row1">
                <div class="col-sm-6">
                  <label class="label_head">Company Name</label>
                </div>
              
              <div class="col-sm-6">
                <label class="label_body">{{companyInformation.companyName}} </label>
              </div>
              </div>
              <div class="row1">
                <div class="col-sm-6">
                  <label class="label_head">Shipping Address</label>
                </div>
              
              <div class="col-sm-6">
                <label class="label_body">{{companyInformation.companyShippingAddress}}</label>
              </div>
              </div>
              
              <div class="row1">
                  <div class="col-sm-6">
                    <label class="label_head">City</label>
                  </div>
                
                <div class="col-sm-6">
                  <label class="label_body">{{companyInformation.companyCity}}</label>
                </div>
                </div>
              
                <div class="row1">
                    <div class="col-sm-6">
                      <label class="label_head">State,Zip</label>
                    </div>
                  
                  <div class="col-sm-6">
                    <label class="label_body">{{companyInformation.companyState}}, {{companyInformation.companyZip}}</label>
                  </div>
                  </div>
                  <div class="row1">
                      <div class="col-sm-6">
                        <label class="label_head"></label>
                      </div>
                    
                    <div class="col-sm-6">
                      <label class="label_body"></label>
                    </div>
                    </div>
                    </div>
              </div>
              
              <div class="col-sm-4" style="  position: relative;
              width: 24.33333%;
              padding-right: 15px;
              padding-left: 15px;">
                <div class="div-group">
                <h3 class="h3_heading">Customer contact</h3><br>
                <div class="row1">
                  <div class="col-sm-6">
                    <label class="label_head">Name</label>
                  </div>
                
                <div class="col-sm-6">
                  <label class="label_head" *ngIf="companyInformation?.contactPersonName !== null">{{companyInformation?.contactPersonName}}</label>
                  <label class="label_head" *ngIf="companyInformation?.contactPersonName === null">-</label>            </div>
              </div>
              <div class="row1">
                <div class="col-sm-6">
                  <label class="label_head">Title</label>
                </div>
              
              <div class="col-sm-6">
                <label class="label_head" *ngIf="companyInformation?.contactPersonDesignation !== null">{{companyInformation?.contactPersonDesignation}}</label>
                <label class="label_head" *ngIf="companyInformation?.contactPersonDesignation === null">-</label>          </div>
              </div>
              <div class="row1">
                <div class="col-sm-6">
                  <label class="label_head">Phone</label>
                </div>
              
              <div class="col-sm-6">
                <label class="label_head" *ngIf="companyInformation?.contactPersonPhoneNumber !== null">{{companyInformation?.contactPersonPhoneNumber}}</label>
                <label class="label_head" *ngIf="companyInformation?.contactPersonPhoneNumber === null">-</label>          </div>
              </div>
              <div class="row1">
                <div class="col-sm-6">
                  <label class="label_head">Fax</label>
                </div>
              
              <div class="col-sm-6">
                <label class="label_head" *ngIf="companyInformation?.contactPersonFax !== null">{{companyInformation?.contactPersonFax}}</label>
                <label class="label_head" *ngIf="companyInformation?.contactPersonFax === null">-</label>          </div>
              </div>
              
              <div class="row1">
                <div class="col-sm-8">
                  <label class="label_head">Picture Attached?</label>
                </div>
              
              <div class="col-sm-4">
                <label class="label_body">{{companyInformation.picturesAttached}}</label>
              </div>
              </div>
              <div class="row1">
                <div class="col-sm-10">
                  <label class="label_head">Pre Pricing Authorization Attached?</label>
                </div>
              
              <div class="col-sm-2">
                <label class="label_body">{{companyInformation?.prePricingAuthorizationAttached}}</label>
              </div>
              </div>
              <div class="row1">
              
              </div>
              <div class="row1">
                
                </div>
              </div>
              </div>
              
              <div class="col-sm-4" style="  position: relative;
              width: 24.33333%;
              padding-right: 15px;
              padding-left: 15px;">
                <div class="div-group">
                <h3 class="h3_heading">A/P Contact Info</h3><br>
              
                <div class="row1">
                  <div class="col-sm-9">
                    <label class="label_head">Potential Annual Forte Revenue</label>
                  </div>
                
                <div class="col-sm-3">
                  <label class="label_head" *ngIf="companyInformation?.potentialAnnualForteRevenue !== null">{{companyInformation?.potentialAnnualForteRevenue}}</label>
                  <label class="label_head" *ngIf="companyInformation?.potentialAnnualForteRevenue === null">-</label>            </div>
              </div>
              
              <div class="row1">
                <div class="col-sm-9">
                  <label class="label_head">Payment Terms</label>
                </div>
              
              <div class="col-sm-3">
                <label class="label_head" *ngIf="companyInformation?.paymentTerms !== null">{{companyInformation?.paymentTerms}}</label>
                  <label class="label_head" *ngIf="companyInformation?.paymentTerms === null">-</label>
                          </div>
              </div>
              
              <div class="row1">
                <div class="col-sm-9">
                  <label class="label_head">Estimated Extended Credit</label>
                </div>
              
              <div class="col-sm-3">
                <label class="label_head" *ngIf="companyInformation?.estimatedExtendedCredit !== null">{{companyInformation?.estimatedExtendedCredit}}</label>
                <label class="label_head" *ngIf="companyInformation?.estimatedExtendedCredit === null">-</label>          </div>
              </div>
              
              <div class="row1">
                <div class="col-sm-9">
                  <label class="label_head">Credit Report(Score/Date)</label>
                </div>
              
              <div class="col-sm-3">
                <label class="label_head" *ngIf="companyInformation?.creditReport !== null">{{companyInformation?.creditReport}}</label>
                <label class="label_head" *ngIf="companyInformation?.creditReport === null">-</label>          </div>
              </div>
              
              <div class="row1">
                <div class="col-sm-9">
                  <label class="label_head">BOL Required Invoice?</label>
                </div>
              
              <div class="col-sm-3">
                <label class="label_head" *ngIf="companyInformation?.bolRequired !== null">{{companyInformation?.bolRequired}}</label>
                <label class="label_head" *ngIf="companyInformation?.bolRequired === null">No</label>           </div>
              </div>
              
              
              <div class="row1">
                  <div class="col-sm-9">
                    <label class="label_head">PO Required on Invoice?</label>
                  </div>
                
                <div class="col-sm-3">
                  <label class="label_head" *ngIf="companyInformation?.poRequired !== null">{{companyInformation?.poRequired}}</label>
                  <label class="label_head" *ngIf="companyInformation?.poRequired === null">No</label>             </div>
              </div> 
              
              </div> 
              </div>
               </div>
               <div class="row1" style=" margin-right: -15px;margin-left: -15px;">
                <div class="col-sm-12 " style="padding:0px!important;">
                  <table class="table" style=" border:none;
                  width:88%;font-size: 12px;"> 
                    <thead>
                     <tr >
                        <!-- <th class="th_style">Select</th> -->
                        <th class="th_style" style=" border: 1px solid #5b6f6b;background:#87a49f;font-size: bold;color: #f8f8f8;">Carrier</th>
                         <th class="th_style" style=" border: 1px solid #5b6f6b;background:#87a49f;font-size: bold;color: #f8f8f8;">Categories</th>
                         <th class="th_style" style=" border: 1px solid #5b6f6b;background:#87a49f;font-size: bold;color: #f8f8f8;">Rule Name</th>
                         <th class="th_style" style=" border: 1px solid #5b6f6b;background:#87a49f;font-size: bold;color: #f8f8f8;">State Zip</th>
                         <th class="th_style" style=" border: 1px solid #5b6f6b;background:#87a49f;font-size: bold;color: #f8f8f8;">Discount</th>
                         <th class="th_style" style=" border: 1px solid #5b6f6b;background:#87a49f;font-size: bold;color: #f8f8f8;">AMC</th>
                         <th class="th_style" style=" border: 1px solid #5b6f6b;background:#87a49f;font-size: bold;color: #f8f8f8;">Accessorials</th>
                        </tr>
                      </thead>
                      <tbody>
                         <tr *ngFor="let obj of fxfeApArray; let i = index">
                            <!-- <th class="th_style1"  *ngIf="i === 0 " [attr.rowspan]="fedexRowspan"><input type="checkbox" class="option-input radio"></th> -->
                            <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="i === 0" [attr.rowspan]="fedexRowspan">FEDEX ECONOMY</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="i === 0" [attr.rowspan]="fxfeApArray.length">AP</td>
                           <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="fxfeApArray.length === 0" colspan="5">-</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.rulesName}}</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.zipstate}}</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.discount}}</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.amc}}</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"></td>
                         </tr>
                         <tr *ngFor="let obj of fxfeArArray; let i = index">
                              <!-- <th class="th_style1"  *ngIf="i === 0 && fxfeApArray.length === 0" [attr.rowspan]="fedexRowspan"><input type="checkbox" class="option-input radio"></th> -->
                              <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"  *ngIf="i === 0 && fxfeApArray.length === 0" [attr.rowspan]="fedexRowspan">FEDEX ECONOMY</td>
                               <td  style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"class="th_style1"  *ngIf="i === 0" [attr.rowspan]="fxfeArArray.length">AR</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"  *ngIf="fxfeArArray.length === 0" colspan="5">-</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.rulesName}}</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.zipstate}}</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.discount}}</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.amc}}</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"></td>
                         </tr>
                         <tr *ngFor="let obj of fxfpApArray; let j = index">
                          <!-- <th class="th_style1"  *ngIf="j === 0 " [attr.rowspan]="priorityrowspan"><input type="checkbox" class="option-input radio"></th> -->
                          <td  style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" class="th_style1"  *ngIf="j === 0" [attr.rowspan]="priorityrowspan">FEDEX PRIORITY</td>
                           <td  style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="j === 0" [attr.rowspan]="fxfpApArray.length">AP</td>
                         <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="fxfpApArray.length === 0" colspan="5">-</td>
                           <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.rulesName}}</td>
                           <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.zipstate}}</td>
                           <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.discount}}</td>
                           <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.amc}}</td>
                           <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"></td>
                           </tr>
                           <tr *ngFor="let obj of fxfpArArray; let j = index">
                            <!-- <th class="th_style1"  *ngIf="j === 0 && fxfpApArray.length === 0" [attr.rowspan]="priorityrowspan"><input type="checkbox" class="option-input radio"></th> -->
                            <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"  *ngIf="j === 0 && fxfpApArray.length === 0" [attr.rowspan]="priorityrowspan">FEDEX PRIORITY</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="j === 0" [attr.rowspan]="fxfpArArray.length">AR</td>
                             <td  style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="fxfpArArray.length === 0" colspan="5">-</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.rulesName}}</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.zipstate}}</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.discount}}</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.amc}}</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"></td>
                             </tr>
                             <tr *ngFor="let obj of yrcApArray; let j = index">
                              <!-- <th class="th_style1"  *ngIf="j === 0 " [attr.rowspan]="yrcrowspan"><input type="checkbox" class="option-input radio"></th> -->
                              <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"  *ngIf="j === 0" [attr.rowspan]="yrcrowspan">YRC</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="j === 0" [attr.rowspan]="yrcApArray.length">AP</td>
                             <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="yrcApArray.length === 0" colspan="5">-</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.rulesName}}</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.zipstate}}</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.discount}}</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.amc}}</td>
                               <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"></td>
                               </tr>
                               <tr *ngFor="let obj of yrcArArray; let j = index" >
                                <!-- <th class="th_style1"  *ngIf="j === 0 && yrcApArray.length === 0" [attr.rowspan]="yrcrowspan"><input type="checkbox" class="option-input radio"></th> -->
                                <td  style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"  *ngIf="j === 0 && yrcApArray.length === 0"  rowspan="6">YRC</td>
                                 <td  style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="j === 0" rowspan="6">AR</td>
                                 <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="yrcArArray.length === 0" colspan="5">-</td>
                                 <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.rulesName}}</td>
                                 <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.zipstate}}</td>
                                 <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.discount}}</td>
                                 <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.amc}}</td>
                                 <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"></td>
                                 </tr>   
                                 <tr *ngFor="let obj of reddawayApArray; let j = index">
                                  <!-- <th class="th_style1"  *ngIf="j === 0 " [attr.rowspan]="reddawayrowspan"><input type="checkbox" class="option-input radio"></th> -->
                                  <td  style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="j === 0" [attr.rowspan]="reddawayrowspan">REDDAWAY</td>
                                   <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"  *ngIf="j === 0" [attr.rowspan]="reddawayApArray.length">AP</td>
                                 <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="reddawayApArray.length === 0" colspan="5">-</td>
                                   <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.rulesName}}</td>
                                   <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.zipstate}}</td>
                                   <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.discount}}</td>
                                   <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.amc}}</td>
                                   <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"></td>
                                   </tr>
                                   <tr *ngFor="let obj of reddawayArArray; let j = index">
                                    <!-- <th class="th_style1"  *ngIf="j === 0 && reddawayApArray.length === 0" [attr.rowspan]="reddawayrowspan"><input type="checkbox" class="option-input radio"></th> -->
                                    <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="j === 0 && reddawayApArray.length === 0" [attr.rowspan]="reddawayrowspan">REDDAWAY</td>
                                     <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="j === 0" [attr.rowspan]="reddawayArArray.length">AR</td>
                                     <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;" *ngIf="reddawayArArray.length === 0" colspan="5">-</td>
                                     <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.rulesName}}</td>
                                     <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.zipstate}}</td>
                                     <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.discount}}</td>
                                     <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;">{{obj.amc}}</td>
                                     <td style="border: 1px solid #5b6f6b;background:#fbfbfb;font-size: bold; color: black;"></td>
                                     </tr> 
                                    </tbody>    
                            
    
                                                 </table>
                  
                    </div>
                              </div>
              <div class="row" style=" display: flex;-ms-flex-wrap: wrap; flex-wrap: wrap;margin-right: -15px;margin-left: -15px;">
                <div class="col-sm-4" style="  position: relative;
                width: 33.33333%;
                padding-right: 15px;
                padding-left: 15px;" > Signature of the customer
                <!-- <table width="100%" height="100%"
                style="font-size:9pt; font-family:arial; line-height:1.5em;border-spacing: 0px !important;height: 115px;!important;">
              
                <tbody>
                  <tr>
                    <td>
                     Signature Of the Customer
                    </td>
                  </tr>
                </tbody>
              </table> -->
            </div>
            <div class="col-sm-4 col-sm-push-3" style="  position: relative;
            width: 33.33333%;
            padding-right: 15px;
            padding-left: 15px;"> Signature of Forte
  
              <!-- <table width="100%" height="100%"
              style="font-size:9pt; font-family:arial; line-height:1.5em;border-spacing: 0px !important;height: 115px;!important;">
            
              <tbody>
                <tr>
                  <td>
                   Signature Of Forte
                  </td>
                </tr>
              </tbody>
            </table> -->
            </div>
              </div>
           
    
          <!-- </div> -->
        </div>
      
        </div>

        <!-- <div class="clearfix"></div>
      
      <div class="clearfix"></div> -->
      </body>
      </html>
      </div>
      <div class="row">
        <div class="col-md-2 col-md-push-4">
          <!-- <button class="btn btn-danger"><em class="fa fa-save" aria-hidden="true" style="font-size: 20px; vertical-align: middle"></em>Save Data</button> -->
          <button class="logisticsBtn" style="width: 265px" id="printContract1"  (click)="printContract1()">
            <em class="fa fa-file" aria-hidden="true"
              style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
            Print Contract</button>

        </div>
      </div>
      </div>
      </div>
      </div>
      </div>   

      <div id="ContractModalNew" class="modal" role="dialog" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
        <div class="modal-content" style="height:auto;background: #e2e6e6;width:1000px;margin-left:-12em;">
        <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" style="font-size: 35px;color: #ffffff">&times;</button>
                <em class="fa fa-download" aria-hidden="true" style="float: right;margin-right: 27px;font-size: 26px; margin-top: 8px;" (click)="exportContract()"></em>

        <h4 class="modal-title" style="color: #ffffff!important">&nbsp;Contract Preview</h4>
        <span >* To save billto address, please hit enter twice after entering Full address</span>
        </div>
        <div class="modal-body" style="background: #e2e6e6;">
          <div id="section3">
    
            <html>
    
            <head>
              <style type="text/css">
              /* .th_style1
    {
      border:2px solid #5b6f6b;
      font-size: bold;
      font-family: 'Open Sans', sans-serif!important;
    } */
    .row1 {
        /* margin-right: -6px;
        margin-left: -3px; */
        display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-right: -15px;
    margin-left: -15px;
    }
    table>thead>tr>th {
      border: 1px solid #5b6f6b;
      background:#87a49f;;
      font-size: bold;
      color: #f8f8f8;
    }
    table>tbody>tr>td {
      border: 1px solid #5b6f6b;
      background:#fbfbfb;
      font-size: bold;
      color: black;
    }
    table>thead>tr, table>tbody>tr {
      border: none;
    }
    table {
      border:none;
      width:100%;font-size: 12px;
    }
    #bolContainerNew {
      width:100%;
      font-size: 15px;
      font-family: 'Open Sans', sans-serif!important;
    padding:40px;
    display:block;
    
    }
    .container {
     width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;
    }
    .col-sm-12 {
      position: relative;
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    }
    .col-sm-4 {
      position: relative;
    width: 33.33333%;
    padding-right: 15px;
    padding-left: 15px;
    }
    /* .th_style
    {
      border:2px solid #5b6f6b;
      background:#87a49f;;
      font-size: bold;
      color: #f8f8f8;
      font-family: 'Open Sans', sans-serif!important;
    } */
    /* .div-group{
            border: 2px solid #d7e4e2!important;
            padding: 0px 6px;
          } */
          /* .td_style
    {
      border:2px solid #5b6f6b;
      background:#ced9cf;
      font-size: bold;
      color: black;
      font-family: 'Open Sans', sans-serif!important;
    } */
    
    /* .table_style
    {
      border:2px solid #5b6f6b;
      text-align: center;
      font-family: 'Open Sans', sans-serif!important;
    } */
    /* .table-bordered{
            font-size: 12px;
          }
          .table-bordered> thead> tr> th {
            border: 1px solid #525252;
            text-align: -webkit-center;
            background-color: #81a19c;
            color: #fff;
            vertical-align: middle;
          } */
              </style>
    
            </head>
    
            <body>
           <div id="bolContainerNew">
            <div class="container"  style="width:800px;height:1250px;border:1px solid black;margin-top: 10px;">
              <div class="row" style="text-align: center;margin-top: 10px;">
                <div class="col-md-12" style="font-weight: bold;">
                  FORTÉ TRANSPORTATION LOGISTICS CORPORATION
                </div>
                <div class="col-md-12" style="font-weight: bold;font-size: 20px;">
                  SERVICE AGREEMENT
                </div>
            
              </div>
              <div class="row" style="text-align:justify;margin-top:10px;">
                <div class="col-md-12">
                  <p><span style="font-weight: bold;">Forté Transportation Logistics Corporation, </span>hereinafter referred to as
                    the “Company”, agrees to extend to the below named company, hereinafter referred to as the “Client”, a program
                    that provides discounts from listed carrier's published LTL Rate Tariffs (Schedule “A”) for early payment. </p>
                </div>
              </div>
              <div class="row" style="text-align: center;">
            
                <div class="col-md-12" style="text-align: center;margin-left: 36px;">
                  <p style="font-weight: bold; margin-left:-50px;">{{companyInformation?.companyName}}</p>
                    <p style="margin-top:-10px;margin-left:-50px;">{{companyInformation?.companyShippingAddress}}</p>
                      <p style="margin-top:-10px;margin-left:-50px;">{{companyInformation?.companyCity}}, {{companyInformation?.companyState}} {{companyInformation?.companyZip}}</p>
                </div>
            
                <div class="row" style="margin-left: 30px;
                          margin-right: 30px;
                          text-align: justify;
                          ">
                  <div class="col-md-12">
                    <p>
                      <span style="font-weight: bold;"> 1. Terms of Agreement: </span>Forté will arrange transport by motor vehicle
                      of commodities for Client in LTL shipments at the rates specified in the published tariffs of the carriers
                      listed in Schedule “A”, subject to the discounts for early payment as provided in Schedule “A”. Discounts to
                      be applied in accordance with carriers’ rules and regulations governing said tariffs up to and including the
                      10M line of rates. Charges not subject to discount for early payment include (but are not limited to) Single
                      Shipment, Notify, Home Pickup or Delivery, Inside Delivery, Redelivery, Fuel Surcharge, and other duly, DOT
                      authorized accessorial charges as listed in the carriers’ applicable rules tariffs.
            
                    </p>
                    <p>
                      The Company proposes, subject to the terms in this Agreement, to pay all charges incurred by Client in the
                      movement of general LTL commodities with carriers listed in Schedule “A”. Client agrees not to negotiate with
                      any carriers that the Company provides for client’s shipments.
            
                    </p>
                    <p>
                      In order for the scope and terms of this agreement to be applicable, Client <span
                        style="font-weight: bold;"><u> must</u></span> note the Company as the invoice<span
                        style="font-weight: bold;">/third-party prepaid</span> payor of the freight charges (see example below) on
                      all original Bills of Lading issued to listed carriers that the Client intends the Company to pay for on
                      behalf of the Client and in turn be invoiced for by the Company. Such notice on the Bill of Lading<span
                        style="font-weight: bold;"> <u> must</u></span> include along with the name of the Company, the complete and
                      correct address for the Company to insure accurate billing.
            
                    </p>
                  </div>
                </div>
                <div class="row" style="margin-left: 30px;
                          margin-right: 30px; display:flex;">
                  <div class="col-md-6 col-md-push-3" *ngIf="showFirstAddress">
                    <div style="text-align: left;">
                     
                    <div class="col-sm-12">
                      <input type="text" id="billadd1" style="font-weight: bold;border:none !important;width:350px!important"
                        [(ngModel)]="billadd1" (keydown)="checkcontractKey($event,'billadd1')">
                    </div>
                    <div class="col-sm-12">
                      <input type="text" id="billadd2" style="font-weight: bold;border:none !important;width:350px!important"
                        [(ngModel)]="billadd2" (keydown)="checkcontractKey($event,'billadd2')">
                    </div>
                    <div class="col-sm-12">
                      <input type="text" id="billadd3" style="font-weight: bold;border:none !important;width:300px!important"
                        [(ngModel)]="billadd3" (keydown)="checkcontractKey($event,'billadd3')">
                    </div>
                    <div class="col-sm-12">
                      <input type="text" id="billadd4" style="font-weight: bold;border:none !important;width:300px!important"
                        [(ngModel)]="billadd4" (keydown)="checkcontractKey($event,'billTo')">
                    </div>

                    </div>
            
                  </div>
                  <div class="col-md-6 col-md-push-3" *ngIf="showSecondAddress">
                    <div style="text-align: left;">
                      <div class="col-sm-12">
                        <input type="text" id="billadd1" style="font-weight: bold;border:none !important;width:350px!important"
                          [(ngModel)]="billadd1" (keydown)="checkcontractKey($event,'billadd1')">
                      </div>
                      <div class="col-sm-12">
                        <input type="text" id="billadd2" style="font-weight: bold;border:none !important;width:350px!important"
                          [(ngModel)]="billadd2" (keydown)="checkcontractKey($event,'billadd2')">
                      </div>
                      <div class="col-sm-12">
                        <input type="text" id="billadd3" style="font-weight: bold;border:none !important;width:300px!important"
                          [(ngModel)]="billadd3" (keydown)="checkcontractKey($event,'billadd3')">
                      </div>
                      <div class="col-sm-12">
                        <input type="text" id="billadd4" style="font-weight: bold;border:none !important;width:300px!important"
                          [(ngModel)]="billadd4" (keydown)="checkcontractKey($event,'billTo')">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row" style="margin-left: 30px; margin-right: 30px;text-align: justify;">
                  <div class="col-md-12">
                    <p>
                      Client agrees to pay the company all charges covered by this agreement within 45 days of the invoice date,
                      however, if Client pays Fortés’ invoice in full within <span ><u>{{companyInformation?.paymentTerms}}</u></span> days of the date of the invoice, Client shall be
                      entitled to the discounts from the carrier’ published tariffs as provided in Schedule “A” and payment of those
                      discounted amounts within <span ><u>{{companyInformation?.paymentTerms}}</u></span> days of the date of the invoice shall be treated as payment in full. Client
                      further agrees to notify the Company of any perceived billing errors within three (3) business days of receipt
                      of the Forté invoice to insure that the Company does not pay, on behalf of the client, contested freight
                      charges.
            
                    </p>
                    <p>
                      <span style="font-weight: bold;"> 2. Duration of Agreement: </span> This agreement shall become effective 7
                      days from receipt by Company of signed agreement and will remain in effect thereafter for a period of 30 days
                      with automatic 30 day renewals until terminated. Agreement may be terminated by written notice, given by
                      either party, effective one week from the date the notice is issued. Further, the agreement may terminate
                      without notice or penalty if the Client chooses not to use the Company’s services during any 30 day period.
            
                    </p>
            
                  </div>
                </div>
                <div class="row"
                  style="height:20px;margin-left: 26px;margin-right: 30px;text-align: left; margin-top: 20px;display: flex!important;">
                  <div class="col-md-4" id="bruse" style="width:230px;">
                    x ___________________
                  </div>
                  <div class="col-md-2" id="date" style="width: 140px;">
                    <p style="font-weight: bold;margin-top: -10px;">Date
                    </p>
                    <!-- <input type="text" id="firsteditdate" style="font-weight: bold;border:none !important;width:90px!important" [(ngModel)]="firstDate"  (keydown)="checkcontractKey($event,'firstdate')"> -->

                  </div>
                  <div class="col-md-4" id="manager" style="width:230px;">
                    x ____________________
                  </div>
                  <div class="col-md-2" id="date" style="width: 140px;">
                    <p style="font-weight: bold;margin-top: -10px;">Date
                    </p>
                    <!-- <input type="text" id="secondeditdate" style="font-weight: bold;border:none !important;width:90px!important" [(ngModel)]="secondDate" (keydown)="checkcontractKey($event,'secondDate')"> -->
                  </div>
                </div>
                <div class="row"
                  style="margin-left: 26px;margin-right: 30px;text-align: left; margin-top: 20px;display: flex!important;">
            
                  <div class="col-md-4" style="width:230px;">
                    <p style="font-weight: bold;margin-top: -10px;">Bruce G. Buchanan</p>
                    <p style="margin-top: -10px;">President</p>
                    <p style="margin-top: -10px;">Forté Transportation Logistics Corp.</p>
            
                  </div>
                  <div class="col-md-2" style="width:140px;">
                    <!-- <p style="font-weight: bold;margin-top: -10px;">Date
                    </p> -->
                    <!-- <i *ngIf="showeditContract" class="fa fa-pencil" aria-hidden="true" (click)="focusinputItemDate()" style="color:#0079FE"></em> -->

                  </div>
                  <div class="col-md-4" style="width:230px;">
                    <!-- <p style="font-weight: bold;margin-top: -10px;">{{companyInformation?.contactPersonName}}</p> -->
                    <input type="text" id="shippingmanager1" style="font-weight: bold;border:none !important" [(ngModel)]="shippingManagerName" (keydown)="checkcontractKey($event,'name')" >
                    <input type="text" id="shippingmanager2" style="font-weight: bold;border:none !important" [(ngModel)]="shippingManagerPost" (keydown)="checkcontractKey($event,'post')">
                    <input type="text" id="shippingAddress" style="font-weight: bold;border:none !important" [(ngModel)]="contractAddrss" (keydown)="checkcontractKey($event,'address')" data-toggle="tooltip" title="{{contractAddrss}}">

                    <!-- <i *ngIf="showeditContract" class="fa fa-pencil" aria-hidden="true" (click)="focusinputItem()" style="color:#0079FE"></em> -->
                    <!-- <p style="margin-top: 0px;">Shipping Manager</p> -->
                    <!-- <p >{{contractAddrss}}</p> -->
                  </div>
                  <div class="col-md-2" style="width:140px;">
                    <!-- <p style="font-weight: bold;margin-top: -10px;">Date
                    </p> -->
                    <!-- <i *ngIf="showeditContract" class="fa fa-pencil" aria-hidden="true" (click)="focusinputItemDate1()" style="color:#0079FE"></em> -->

                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12" style="text-align:center;">
                    <p><span style="font-weight: bold;">Forté Logistics Consultant:</span> {{companyInformation?.salesRepName}}</p>
                  </div>
                </div>
            
            
              </div>
              <!-- </br> -->
              <!-- <div class="container" style="width:750px;height:auto;border:1px solid black;"> -->
              </div>
              <div class="container"  style="width:800px;height:auto;border:1px solid black;margin-top: 60px;">

              <div class="row" style="text-align: center;font-weight: bold;">
                <div class="col-md-12">
                  FORTÉ TRANSPORTATION LOGISTICS CORPORATION
                </div>
                <div class="col-md-12" style="font-weight: bold;font-size: 20px;">
                  SERVICE AGREEMENT
                </div>
                <div class="col-md-12" style="font-weight: bold;font-size: 18px;">
                  SCHEDULE A
            
                </div>
            
              </div>
              <div class="row" style="margin-left: 30px;margin-top:10px;
                          margin-right: 30px;
                          text-align: justify;
                          ">
                <div class="col-md-12">
                  <p>1. Provisions listed herein are an integral component of the Service Agreement entered into between <span
                      style="font-weight: bold;">Transportation Logistics Corporation </span>
                    and the <span style="font-weight: bold;"> “Client”</span> as signed below. Application of these provisions is
                    understood by both parties to be governed by the rules and responsibilities outlined in the Service Agreement
                    and carrier’s current published tariffs.
                  </p>
                  <p>
                    2. Discounts to apply on Minimum Charge thru 10,000 lb. Class rate weight scale.
            
                  </p>
                  <p>
                    3. Discounts to apply only on direct points as listed in the carriers’ applicable tariffs.
            
                  </p>
                  <p>
                    4. Quotes and published rates on modes other than LTL reflect a 60% discount of FTLC 799 tariff rates.
            
                  </p>
                  <p>
                    5. Pricing will be applied according to the following Territorial Application unless otherwise noted.
            
                  </p>
                  <p>
                    6. Discounts to apply only to customer location(s) listed herein.
            
                  </p>
                  <p>
                    7. This Service Agreement supercedes all prior agreements.
            
                  </p>
                </div>
            
              </div>
              <div style="margin-left:43px;
                          margin-right: 43px;" *ngIf="territoryArray.length > 0">
                <table class="table table-bordered">
                  <tr>
                    <td id="empty" style="border-top: 1px solid white;
                              border-left: 1px solid white;"></td>
                    <th colspan="1">Territory</th>
                    <th colspan="5">Pricing Provisions:
                    </th>
                  </tr>
                  <tr>
                    <th>Carrier:
                    </th>
                    <td >
                    </td>
                    <!-- <td id="space" style="padding:0px !important;border-left:none">
                    </td> -->
                    <td id="space" style="padding:0px !important;">Disc %
                    </td>
                    <!-- <td id="space" style="padding:0px !important;">Amc $
                    </td> -->
                    <td id="space" style="padding:0px !important;">IntraState Territory
                    </td>
                    <td id="space" style="padding:0px !important;">Disc %
                    </td>
                    <!-- <td id="space" style="padding:0px !important;">Amc $
                    </td> -->
                  </tr>
                  <tr  *ngFor="let data of territoryArray" [class.pink-tr]="data.ruleExist === false">
                    <td id="space" style="padding:0px !important;">{{data.carrier}}</td>
                    <!-- <td id="space" style="padding:0px !important;">W-1</td> -->
                    <td id="space" style="padding:0px !important;">{{data?.rulesName}}</td>
                    <td id="space" style="padding:0px !important;">{{data.discount}}</td>
                    <!-- <td id="space" style="padding:0px !important;">{{data.amc}}</td> -->
                    <td id="space" style="padding:0px !important;">{{data?.zipstate}}</td>
                    <td id="space" style="padding:0px !important;">{{data?.discount}}</td>
                    <!-- <td id="space" style="padding:0px !important;">{{data?.amc}}</td> -->
                  </tr>
                  <!-- <tr>
                    <td id="space" style="padding:0px !important;">FXF Priority</td>
                    <td id="space" style="padding:0px !important;">E-1</td>
                    <td id="space" style="padding:0px !important;">E-1</td>
                    <td id="space" style="padding:0px !important;">80</td>
                    <td id="space" style="padding:0px !important;">84.00</td>
                    <td id="space" style="padding:0px !important;"></td>
                    <td id="space" style="padding:0px !important;"></td>
                    <td id="space" style="padding:0px !important;"></td>
                  </tr>
                  <tr>
                    <td id="space" style="padding:0px !important;">FXF Priority</td>
                    <td id="space" style="padding:0px !important;">W-1</td>
                    <td id="space" style="padding:0px !important;">Canada</td>
                    <td id="space" style="padding:0px !important;">75</td>
                    <td id="space" style="padding:0px !important;">147.00</td>
                    <td id="space" style="padding:0px !important;"></td>
                    <td id="space" style="padding:0px !important;"></td>
                    <td id="space" style="padding:0px !important;"></td>
                  </tr>
                  <tr>
                    <td id="space" style="padding:0px !important;">***See Below***</td>
                    <td id="space" style="padding:0px !important;"></td>
                    <td id="space" style="padding:0px !important;"></td>
                    <td id="space" style="padding:0px !important;"></td>
                    <td id="space" style="padding:0px !important;"></td>
                    <td id="space" style="padding:0px !important;"></td>
                    <td id="space" style="padding:0px !important;"></td>
                    <td id="space" style="padding:0px !important;"></td>
                  </tr> -->
                  <!-- <tr style="height:21px;">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr> -->
                </table>
              </div>
              <!-- <div class="row" style="margin-left: 30px;
                          margin-right: 30px;">
            
                <div class="col-md-12">
                  <p><span style="font-weight: bold;">E1 – To/From These States: </span> AL, AR, CT, DC, DE, FL, GA, IA, IL, IN, KY,
                    KS, LA, MA, MD, ME, MI, MN, MO, MS, NC, ND, NE, NH, NJ, NY, OH, OK, PA, RI, SC, SD, TN, TX, VA, VT, WI, WV
                  </p>
                  <p style="margin-top: -10px;">
                    <span style="font-weight: bold;"> W1 – To/From These States: </span> AZ, CA, CO, ID, MT, NV, OR, UT, WA, WY
            
                  </p>
                </div>
              </div> -->
              <div class="row"  *ngIf="additionalPricingArray.length > 0 || contractAccessorialsArray.length> 0" style="margin-left:43px;
                          margin-right: 30px; text-align: left;">
                <p>Additional Pricing Provisions:
                </p>
              </div>
              <div class="row"  *ngIf="additionalPricingArray.length > 0 || contractAccessorialsArray.length > 0" style="margin-left:43px;
                          margin-right: 30px;width:821px;">
                <div class="col-md-10" style="border:1px solid black;">

                  <div class="row" style="text-align: center;" *ngFor="let data1 of additionalPricingArray">
                    <p >{{data1.carrier}}  {{data1.rulesName}} {{data1.zipstate}} {{data1.discount}}% </p>
                    <!-- <table class="table table-bordered">
                      <tr style="border:none!important" *ngFor="let data1 of additionalPricingArray">
                          <p style="font-size: 13px!important;">{{data1.carrier}}  {{data1.rulesName}} {{data1.zipstate}} {{data1.discount}}% ${{data1.amc}} AMC</p>
                      </tr>
                      <p *ngIf="contractAccessorialsArray.length >0">FEDEX ECONOMY REGIONAL ACCESSSORIALS : </p>

                      <tr  style="border:none!important" *ngFor="let valueO of contractAccessorialsArray">
                          <p style="font-size: 13px!important;">{{valueO?.name}} @ $ {{valueO?.charge}}</p>
                          
                      </tr>
</table> -->
               
            
            
                  </div>
                  <div class="row" style="text-align: center;" *ngFor="let data2 of costplusArray">
                    <p >{{data2.carrier}}   {{data2.factor}% </p>
            
                  </div>
                  <div class="row" style="text-align: center;border-top:1px solid #000000" *ngFor="let assess of contractAccessorialsArray;let index1 = index" >
                    <h6 style="font-weight: 600;" *ngIf="assess.accessorials.length>0">{{assess?.carrier}} {{assess?.rulesName}} <span *ngIf="assess?.zipstate !== undefined"  >[{{assess?.zipstate}}]</span> ACCESSSORIALS :</h6>
                    <p style="font-size: 13px!important;"><span *ngFor="let valueO of assess.accessorials; let i=index;">{{valueO?.name}} @ $ {{valueO?.charge}}
                    <span  *ngIf="i !== assess.accessorials.length -1">,</span></span></p>
                  </div>
            
                </div>
                <div class="col-md-4"></div>
              </div>
              <div class="row"
                style="height:20px;margin-left: 26px;margin-right: 30px;text-align: left; margin-top: 20px;display: flex!important;">
                <div class="col-md-4" id="bruse" style="width:230px;">
                  x ___________________
                </div>
                <div class="col-md-2" id="date" style="width: 140px;">
                  <p style="font-weight: bold;">Date
                  </p>
                  <!-- <input type="text" id="firsteditdate1" style="font-weight: bold;border:none !important;width:90px!important" [(ngModel)]="firstDate"  > -->
                </div>
                <div class="col-md-4" id="manager" style="width:230px;">
                  x ___________________
                </div>
                <div class="col-md-2" id="date" style="width: 140px;">
                  <p style="font-weight: bold;">Date
                  </p>
                  <!-- <input type="text" id="secondeditdate1" style="font-weight: bold;border:none !important;width:90px!important" [(ngModel)]="secondDate" > -->
                </div>
              </div>
              <div class="row"
                style="margin-left: 26px;margin-right: 30px;text-align: left; margin-top: 20px;display: flex!important;">
            
                <div class="col-md-4" style="width:230px;">
                  <p style="font-weight: bold;">Bruce G. Buchanan</p>
                  <p>President</p>
                  <p>Forté Transportation Logistics Corp.</p>
            
                </div>
                <div class="col-md-2" style="width:140px;">
                  <!-- <p style="font-weight: bold;">Date
                  </p> -->
                  <!-- <input type="text" id="firsteditdate" style="font-weight: bold;margin-top: -10px;border:none !important;width=90px!important" [(ngModel)]="firstDate" > -->
                </div>
                <div class="col-md-4" style="width:230px;">
                  <!-- <p style="font-weight: bold;">{{companyInformation?.contactPersonName}}</p> -->
                  
                  <!-- <textarea> -->
                    <input type="text" id="shippingmanager1" style="font-weight: bold;border:none !important" [(ngModel)]="shippingManagerName" >
                    <input type="text" id="shippingmanager2" style="font-weight: bold;border:none !important" [(ngModel)]="shippingManagerPost" >
                    <input type="text" id="shippingAddress" style="font-weight: bold;border:none !important" [(ngModel)]="contractAddrss" data-toggle="tooltip" title="{{contractAddrss}}">

                    <!-- <p >Shipping Manager</p> -->
                    <!-- <p >{{contractAddrss}}</p> -->
                  <!-- </textarea> -->
                </div>
                <div class="col-md-2" style="width:140px;">
                  <!-- <p style="font-weight: bold;">Date
                  </p> -->
                </div>
              </div>
            </div>
          </div>

            <div class="row">
              <div class="col-md-2 col-md-push-1">
                <!-- <button class="btn btn-danger"><em class="fa fa-save" aria-hidden="true" style="font-size: 20px; vertical-align: middle"></em>Save Data</button> -->
                <button class="logisticsBtn" style="width: 265px" id="createContractrulesBtn"  (click)="createContractrules()">
                  <em class="fa fa-file" aria-hidden="true"
                    style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
                  On Board Customer</button>
      
              </div>
              <div class="col-md-2 col-md-push-3">
                <!-- <button class="btn btn-danger"><em class="fa fa-save" aria-hidden="true" style="font-size: 20px; vertical-align: middle"></em>Save Data</button> -->
                <button class="logisticsBtn" style="width: 190px" id="createContractrulesBtn"  (click)="saveContractRulesFunction()">
                  <em class="fa fa-file" aria-hidden="true"
                    style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
                 Save Contract</button>
      
              </div>
              <!-- <div class="row"> -->
                <div class="col-md-2 col-md-push-4">
                  <!-- <button class="btn btn-danger"><em class="fa fa-save" aria-hidden="true" style="font-size: 20px; vertical-align: middle"></em>Save Data</button> -->
                  <button class="logisticsBtn" style="width: 265px" id="exportContract1Btn"  (click)="exportContract()">
                    <em class="fa fa-file" aria-hidden="true"
                      style="font-size: 20px; vertical-align: middle;margin-right: 5px;"></em>
                    Download Contract</button>
        
                </div>
              <!-- </div> -->
            </div>

   
        </body>
        </html>
        </div>
        </div>
        </div>
        </div>
        </div>   
        
      

